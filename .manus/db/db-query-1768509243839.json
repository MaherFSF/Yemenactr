{
  "query": "\nCREATE TABLE IF NOT EXISTS data_annotations (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  organization_id VARCHAR(36),\n  target_type ENUM('time_series', 'indicator', 'event', 'publication', 'entity', 'report') NOT NULL,\n  target_id VARCHAR(100) NOT NULL,\n  annotation_type ENUM('note', 'question', 'correction', 'insight', 'flag', 'bookmark') NOT NULL,\n  title VARCHAR(255),\n  content TEXT NOT NULL,\n  content_ar TEXT,\n  visibility ENUM('private', 'organization', 'public') DEFAULT 'private',\n  is_resolved BOOLEAN DEFAULT FALSE,\n  resolved_by VARCHAR(36),\n  resolved_at TIMESTAMP NULL,\n  parent_id VARCHAR(36),\n  thread_count INT DEFAULT 0,\n  upvotes INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_target (target_type, target_id),\n  INDEX idx_user (user_id),\n  INDEX idx_org (organization_id),\n  INDEX idx_parent (parent_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_upvotes (\n  id VARCHAR(36) PRIMARY KEY,\n  annotation_id VARCHAR(36) NOT NULL,\n  user_id VARCHAR(36) NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_upvote (annotation_id, user_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_mentions (\n  id VARCHAR(36) PRIMARY KEY,\n  annotation_id VARCHAR(36) NOT NULL,\n  mentioned_user_id VARCHAR(36) NOT NULL,\n  is_read BOOLEAN DEFAULT FALSE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_annotation (annotation_id),\n  INDEX idx_user (mentioned_user_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_exports (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  organization_id VARCHAR(36),\n  export_format ENUM('pdf', 'xlsx', 'json', 'docx') NOT NULL,\n  filter_criteria JSON,\n  file_url VARCHAR(500),\n  annotation_count INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute \nCREATE TABLE IF NOT EXISTS data_annotations (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  organization_id VARCHAR(36),\n  target_type ENUM('time_series', 'indicator', 'event', 'publication', 'entity', 'report') NOT NULL,\n  target_id VARCHAR(100) NOT NULL,\n  annotation_type ENUM('note', 'question', 'correction', 'insight', 'flag', 'bookmark') NOT NULL,\n  title VARCHAR(255),\n  content TEXT NOT NULL,\n  content_ar TEXT,\n  visibility ENUM('private', 'organization', 'public') DEFAULT 'private',\n  is_resolved BOOLEAN DEFAULT FALSE,\n  resolved_by VARCHAR(36),\n  resolved_at TIMESTAMP NULL,\n  parent_id VARCHAR(36),\n  thread_count INT DEFAULT 0,\n  upvotes INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_target (target_type, target_id),\n  INDEX idx_user (user_id),\n  INDEX idx_org (organization_id),\n  INDEX idx_parent (parent_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_upvotes (\n  id VARCHAR(36) PRIMARY KEY,\n  annotation_id VARCHAR(36) NOT NULL,\n  user_id VARCHAR(36) NOT NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE KEY unique_upvote (annotation_id, user_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_mentions (\n  id VARCHAR(36) PRIMARY KEY,\n  annotation_id VARCHAR(36) NOT NULL,\n  mentioned_user_id VARCHAR(36) NOT NULL,\n  is_read BOOLEAN DEFAULT FALSE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_annotation (annotation_id),\n  INDEX idx_user (mentioned_user_id)\n);\n\nCREATE TABLE IF NOT EXISTS annotation_exports (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  organization_id VARCHAR(36),\n  export_format ENUM('pdf', 'xlsx', 'json', 'docx') NOT NULL,\n  filter_criteria JSON,\n  file_url VARCHAR(500),\n  annotation_count INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3460
}