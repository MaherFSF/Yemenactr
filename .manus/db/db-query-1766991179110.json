{
  "query": "CREATE TABLE IF NOT EXISTS `publication_authors` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `publicationId` int NOT NULL,\n  `authorId` int NOT NULL,\n  `authorOrder` int NOT NULL DEFAULT 1,\n  `isCorresponding` boolean DEFAULT false,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `publication_authors_id` PRIMARY KEY(`id`),\n  INDEX `publication_idx` (`publicationId`),\n  INDEX `author_idx` (`authorId`)\n);\n\nCREATE TABLE IF NOT EXISTS `user_reading_lists` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `isPublic` boolean DEFAULT false,\n  `itemCount` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `user_reading_lists_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`)\n);\n\nCREATE TABLE IF NOT EXISTS `reading_list_items` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `readingListId` int NOT NULL,\n  `publicationId` int NOT NULL,\n  `notes` text,\n  `addedAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `reading_list_items_id` PRIMARY KEY(`id`),\n  INDEX `reading_list_idx` (`readingListId`),\n  INDEX `publication_idx` (`publicationId`)\n);\n\nCREATE TABLE IF NOT EXISTS `user_bookmarks` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `publicationId` int NOT NULL,\n  `notes` text,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `user_bookmarks_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`),\n  INDEX `publication_idx` (`publicationId`),\n  INDEX `unique_bookmark` (`userId`, `publicationId`)\n);\n\nCREATE TABLE IF NOT EXISTS `topic_alerts` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `keywords` json NOT NULL,\n  `categories` json,\n  `organizations` json,\n  `frequency` enum('immediate','daily','weekly') NOT NULL DEFAULT 'daily',\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastTriggeredAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `topic_alerts_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`),\n  INDEX `is_active_idx` (`isActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `research_completeness_audit` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `year` int NOT NULL,\n  `organizationId` int,\n  `expectedPublicationType` varchar(100) NOT NULL,\n  `expectedTitle` varchar(500),\n  `isFound` boolean NOT NULL DEFAULT false,\n  `publicationId` int,\n  `notes` text,\n  `lastCheckedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `research_completeness_audit_id` PRIMARY KEY(`id`),\n  INDEX `year_idx` (`year`),\n  INDEX `organization_idx` (`organizationId`),\n  INDEX `is_found_idx` (`isFound`)\n);\n\nCREATE TABLE IF NOT EXISTS `research_ingestion_sources` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `organizationId` int,\n  `sourceType` enum('api','rss','scrape','oai_pmh','manual') NOT NULL,\n  `endpoint` text,\n  `apiKey` varchar(255),\n  `config` json,\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastFetchAt` timestamp,\n  `lastFetchStatus` enum('success','failed','partial'),\n  `lastFetchCount` int,\n  `totalIngested` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `research_ingestion_sources_id` PRIMARY KEY(`id`),\n  INDEX `name_idx` (`name`),\n  INDEX `source_type_idx` (`sourceType`),\n  INDEX `is_active_idx` (`isActive`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute CREATE TABLE IF NOT EXISTS `publication_authors` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `publicationId` int NOT NULL,\n  `authorId` int NOT NULL,\n  `authorOrder` int NOT NULL DEFAULT 1,\n  `isCorresponding` boolean DEFAULT false,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `publication_authors_id` PRIMARY KEY(`id`),\n  INDEX `publication_idx` (`publicationId`),\n  INDEX `author_idx` (`authorId`)\n);\n\nCREATE TABLE IF NOT EXISTS `user_reading_lists` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `description` text,\n  `isPublic` boolean DEFAULT false,\n  `itemCount` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `user_reading_lists_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`)\n);\n\nCREATE TABLE IF NOT EXISTS `reading_list_items` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `readingListId` int NOT NULL,\n  `publicationId` int NOT NULL,\n  `notes` text,\n  `addedAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `reading_list_items_id` PRIMARY KEY(`id`),\n  INDEX `reading_list_idx` (`readingListId`),\n  INDEX `publication_idx` (`publicationId`)\n);\n\nCREATE TABLE IF NOT EXISTS `user_bookmarks` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `publicationId` int NOT NULL,\n  `notes` text,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  CONSTRAINT `user_bookmarks_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`),\n  INDEX `publication_idx` (`publicationId`),\n  INDEX `unique_bookmark` (`userId`, `publicationId`)\n);\n\nCREATE TABLE IF NOT EXISTS `topic_alerts` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `userId` int NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `keywords` json NOT NULL,\n  `categories` json,\n  `organizations` json,\n  `frequency` enum('immediate','daily','weekly') NOT NULL DEFAULT 'daily',\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastTriggeredAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `topic_alerts_id` PRIMARY KEY(`id`),\n  INDEX `user_idx` (`userId`),\n  INDEX `is_active_idx` (`isActive`)\n);\n\nCREATE TABLE IF NOT EXISTS `research_completeness_audit` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `year` int NOT NULL,\n  `organizationId` int,\n  `expectedPublicationType` varchar(100) NOT NULL,\n  `expectedTitle` varchar(500),\n  `isFound` boolean NOT NULL DEFAULT false,\n  `publicationId` int,\n  `notes` text,\n  `lastCheckedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `research_completeness_audit_id` PRIMARY KEY(`id`),\n  INDEX `year_idx` (`year`),\n  INDEX `organization_idx` (`organizationId`),\n  INDEX `is_found_idx` (`isFound`)\n);\n\nCREATE TABLE IF NOT EXISTS `research_ingestion_sources` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `organizationId` int,\n  `sourceType` enum('api','rss','scrape','oai_pmh','manual') NOT NULL,\n  `endpoint` text,\n  `apiKey` varchar(255),\n  `config` json,\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastFetchAt` timestamp,\n  `lastFetchStatus` enum('success','failed','partial'),\n  `lastFetchCount` int,\n  `totalIngested` int NOT NULL DEFAULT 0,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `research_ingestion_sources_id` PRIMARY KEY(`id`),\n  INDEX `name_idx` (`name`),\n  INDEX `source_type_idx` (`sourceType`),\n  INDEX `is_active_idx` (`isActive`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 911
}