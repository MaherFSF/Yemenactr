{
  "query": "CREATE TABLE IF NOT EXISTS autopilot_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  settingKey VARCHAR(100) NOT NULL UNIQUE,\n  settingValue TEXT NOT NULL,\n  settingType ENUM('boolean','number','string','json') NOT NULL,\n  description TEXT,\n  category ENUM('ingestion','qa','publishing','coverage','notifications','general') NOT NULL,\n  updatedByUserId INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX autopilot_setting_key_idx (settingKey),\n  INDEX autopilot_setting_category_idx (category)\n);\n\nCREATE TABLE IF NOT EXISTS autopilot_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  eventType ENUM('ingestion_started','ingestion_completed','qa_started','qa_completed','page_generated','report_generated','publish_started','publish_completed','ticket_created','ticket_resolved','setting_changed','autopilot_paused','autopilot_resumed','error') NOT NULL,\n  summary VARCHAR(500) NOT NULL,\n  details JSON,\n  relatedJobId INT,\n  relatedTicketId INT,\n  relatedPageRoute VARCHAR(255),\n  triggeredByUserId INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX autopilot_event_type_idx (eventType),\n  INDEX autopilot_event_created_idx (createdAt)\n);\n\nCREATE TABLE IF NOT EXISTS integrity_reports (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  qaRunId INT,\n  reportType ENUM('hardcode_scan','provenance_coverage','click_audit','export_integrity','full_integrity') NOT NULL,\n  overallScore DECIMAL(5,2),\n  provenanceCoverage DECIMAL(5,2),\n  hardcodeViolations INT DEFAULT 0 NOT NULL,\n  brokenClicks INT DEFAULT 0 NOT NULL,\n  exportFailures INT DEFAULT 0 NOT NULL,\n  translationGaps INT DEFAULT 0 NOT NULL,\n  reportJson JSON,\n  jsonReportPath VARCHAR(255),\n  markdownReportPath VARCHAR(255),\n  generatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX integrity_qa_run_idx (qaRunId),\n  INDEX integrity_type_idx (reportType),\n  INDEX integrity_generated_idx (generatedAt),\n  FOREIGN KEY (qaRunId) REFERENCES qa_runs(id)\n);\n\nCREATE TABLE IF NOT EXISTS claim_confidence_scores (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  claimId VARCHAR(36) NOT NULL,\n  sourceReliability DECIMAL(3,2),\n  dataRecency DECIMAL(3,2),\n  methodologyClarity DECIMAL(3,2),\n  corroborationLevel DECIMAL(3,2),\n  overallScore DECIMAL(3,2) NOT NULL,\n  grade ENUM('A','B','C','D') NOT NULL,\n  computationMethod VARCHAR(100),\n  computationDetails JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX confidence_claim_idx (claimId),\n  INDEX confidence_grade_idx (grade),\n  FOREIGN KEY (claimId) REFERENCES claims(id)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute CREATE TABLE IF NOT EXISTS autopilot_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  settingKey VARCHAR(100) NOT NULL UNIQUE,\n  settingValue TEXT NOT NULL,\n  settingType ENUM('boolean','number','string','json') NOT NULL,\n  description TEXT,\n  category ENUM('ingestion','qa','publishing','coverage','notifications','general') NOT NULL,\n  updatedByUserId INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX autopilot_setting_key_idx (settingKey),\n  INDEX autopilot_setting_category_idx (category)\n);\n\nCREATE TABLE IF NOT EXISTS autopilot_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  eventType ENUM('ingestion_started','ingestion_completed','qa_started','qa_completed','page_generated','report_generated','publish_started','publish_completed','ticket_created','ticket_resolved','setting_changed','autopilot_paused','autopilot_resumed','error') NOT NULL,\n  summary VARCHAR(500) NOT NULL,\n  details JSON,\n  relatedJobId INT,\n  relatedTicketId INT,\n  relatedPageRoute VARCHAR(255),\n  triggeredByUserId INT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX autopilot_event_type_idx (eventType),\n  INDEX autopilot_event_created_idx (createdAt)\n);\n\nCREATE TABLE IF NOT EXISTS integrity_reports (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  qaRunId INT,\n  reportType ENUM('hardcode_scan','provenance_coverage','click_audit','export_integrity','full_integrity') NOT NULL,\n  overallScore DECIMAL(5,2),\n  provenanceCoverage DECIMAL(5,2),\n  hardcodeViolations INT DEFAULT 0 NOT NULL,\n  brokenClicks INT DEFAULT 0 NOT NULL,\n  exportFailures INT DEFAULT 0 NOT NULL,\n  translationGaps INT DEFAULT 0 NOT NULL,\n  reportJson JSON,\n  jsonReportPath VARCHAR(255),\n  markdownReportPath VARCHAR(255),\n  generatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX integrity_qa_run_idx (qaRunId),\n  INDEX integrity_type_idx (reportType),\n  INDEX integrity_generated_idx (generatedAt),\n  FOREIGN KEY (qaRunId) REFERENCES qa_runs(id)\n);\n\nCREATE TABLE IF NOT EXISTS claim_confidence_scores (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  claimId VARCHAR(36) NOT NULL,\n  sourceReliability DECIMAL(3,2),\n  dataRecency DECIMAL(3,2),\n  methodologyClarity DECIMAL(3,2),\n  corroborationLevel DECIMAL(3,2),\n  overallScore DECIMAL(3,2) NOT NULL,\n  grade ENUM('A','B','C','D') NOT NULL,\n  computationMethod VARCHAR(100),\n  computationDetails JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  INDEX confidence_claim_idx (claimId),\n  INDEX confidence_grade_idx (grade),\n  FOREIGN KEY (claimId) REFERENCES claims(id)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 773
}