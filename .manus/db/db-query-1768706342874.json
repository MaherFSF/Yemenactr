{
  "query": "\n-- Evidence Store: Central repository for all data points with full provenance\nCREATE TABLE IF NOT EXISTS evidence_store (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_type ENUM('time_series', 'publication', 'event', 'metadata') NOT NULL,\n  reference_id VARCHAR(255) NOT NULL,\n  dataset_card_id VARCHAR(255) NOT NULL,\n  source_id VARCHAR(255) NOT NULL,\n  value_raw TEXT,\n  value_parsed JSON,\n  unit VARCHAR(100),\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  confidence_score DECIMAL(3,2),\n  methodology_notes TEXT,\n  data_quality_flags JSON,\n  regime_tag ENUM('Aden/IRG', 'Sana\\'a/de facto', 'mixed', 'unknown') DEFAULT 'unknown',\n  geographic_scope VARCHAR(255),\n  time_period_start DATE,\n  time_period_end DATE,\n  publication_date DATE,\n  retrieval_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n  license_type VARCHAR(100),\n  attribution_required BOOLEAN DEFAULT TRUE,\n  is_preliminary BOOLEAN DEFAULT FALSE,\n  is_revised BOOLEAN DEFAULT FALSE,\n  revision_notes TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by VARCHAR(255),\n  updated_by VARCHAR(255),\n  INDEX idx_dataset_card (dataset_card_id),\n  INDEX idx_source (source_id),\n  INDEX idx_regime (regime_tag),\n  INDEX idx_confidence (confidence_grade),\n  INDEX idx_publication_date (publication_date)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Provenance Ledger: Immutable log of all data transformations\nCREATE TABLE IF NOT EXISTS provenance_ledger (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_id VARCHAR(36) NOT NULL,\n  transformation_type ENUM('ingestion', 'calculation', 'aggregation', 'adjustment', 'imputation') NOT NULL,\n  input_values JSON,\n  output_value TEXT,\n  transformation_formula TEXT,\n  transformation_notes TEXT,\n  applied_by VARCHAR(255),\n  applied_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  is_reversible BOOLEAN DEFAULT TRUE,\n  reversal_notes TEXT,\n  FOREIGN KEY (evidence_id) REFERENCES evidence_store(id) ON DELETE RESTRICT,\n  INDEX idx_evidence (evidence_id),\n  INDEX idx_transformation_type (transformation_type),\n  INDEX idx_applied_at (applied_at)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Dataset Cards: Metadata for each dataset with coverage and quality info\nCREATE TABLE IF NOT EXISTS dataset_cards (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  dataset_name VARCHAR(255) NOT NULL,\n  dataset_name_ar VARCHAR(255),\n  description TEXT,\n  description_ar TEXT,\n  source_id VARCHAR(255) NOT NULL,\n  publisher_name VARCHAR(255),\n  publisher_url VARCHAR(500),\n  data_type ENUM('time_series', 'cross_sectional', 'panel', 'qualitative') DEFAULT 'time_series',\n  geographic_coverage JSON,\n  time_coverage_start DATE,\n  time_coverage_end DATE,\n  update_frequency ENUM('daily', 'weekly', 'monthly', 'quarterly', 'annual', 'irregular') DEFAULT 'monthly',\n  last_updated DATE,\n  indicators_covered JSON,\n  total_records INT,\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  methodology_url VARCHAR(500),\n  methodology_summary TEXT,\n  known_limitations TEXT,\n  known_limitations_ar TEXT,\n  data_quality_score DECIMAL(3,2),\n  license_type VARCHAR(100),\n  license_url VARCHAR(500),\n  attribution_required BOOLEAN DEFAULT TRUE,\n  access_type ENUM('open', 'restricted', 'subscription') DEFAULT 'open',\n  api_endpoint VARCHAR(500),\n  api_documentation_url VARCHAR(500),\n  ingestion_status ENUM('active', 'inactive', 'paused', 'error') DEFAULT 'active',\n  last_ingestion_at DATETIME,\n  last_ingestion_status VARCHAR(50),\n  ingestion_error_log TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_source (source_id),\n  INDEX idx_confidence (confidence_grade),\n  INDEX idx_ingestion_status (ingestion_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Data Gap Tickets: Automatic tracking of missing data\nCREATE TABLE IF NOT EXISTS data_gap_tickets (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  indicator_id VARCHAR(255) NOT NULL,\n  indicator_name VARCHAR(255),\n  indicator_name_ar VARCHAR(255),\n  gap_type ENUM('missing_data', 'missing_source', 'low_confidence', 'outdated', 'conflicting') NOT NULL,\n  gap_description TEXT,\n  gap_description_ar TEXT,\n  time_period_start DATE,\n  time_period_end DATE,\n  geographic_scope VARCHAR(255),\n  severity ENUM('critical', 'high', 'medium', 'low') DEFAULT 'medium',\n  suggested_sources JSON,\n  resolution_status ENUM('open', 'in_progress', 'resolved', 'wont_fix') DEFAULT 'open',\n  resolution_notes TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  assigned_to VARCHAR(255),\n  due_date DATE,\n  INDEX idx_indicator (indicator_id),\n  INDEX idx_severity (severity),\n  INDEX idx_status (resolution_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Confidence Ratings: Detailed breakdown of confidence scoring\nCREATE TABLE IF NOT EXISTS confidence_ratings (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_id VARCHAR(36) NOT NULL,\n  source_reliability DECIMAL(3,2),\n  data_completeness DECIMAL(3,2),\n  timeliness DECIMAL(3,2),\n  methodology_rigor DECIMAL(3,2),\n  independent_verification DECIMAL(3,2),\n  overall_confidence DECIMAL(3,2),\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  grade_justification TEXT,\n  reviewer_notes TEXT,\n  reviewed_by VARCHAR(255),\n  reviewed_at DATETIME,\n  FOREIGN KEY (evidence_id) REFERENCES evidence_store(id) ON DELETE CASCADE,\n  INDEX idx_evidence (evidence_id),\n  INDEX idx_grade (confidence_grade)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Audit Trail: Track all access and modifications\nCREATE TABLE IF NOT EXISTS audit_trail (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  user_id VARCHAR(255),\n  action_type ENUM('view', 'download', 'export', 'modify', 'delete', 'publish') NOT NULL,\n  resource_type VARCHAR(100),\n  resource_id VARCHAR(255),\n  changes_made JSON,\n  ip_address VARCHAR(45),\n  user_agent TEXT,\n  timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_user (user_id),\n  INDEX idx_action (action_type),\n  INDEX idx_timestamp (timestamp)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute \n-- Evidence Store: Central repository for all data points with full provenance\nCREATE TABLE IF NOT EXISTS evidence_store (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_type ENUM('time_series', 'publication', 'event', 'metadata') NOT NULL,\n  reference_id VARCHAR(255) NOT NULL,\n  dataset_card_id VARCHAR(255) NOT NULL,\n  source_id VARCHAR(255) NOT NULL,\n  value_raw TEXT,\n  value_parsed JSON,\n  unit VARCHAR(100),\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  confidence_score DECIMAL(3,2),\n  methodology_notes TEXT,\n  data_quality_flags JSON,\n  regime_tag ENUM('Aden/IRG', 'Sana\\'a/de facto', 'mixed', 'unknown') DEFAULT 'unknown',\n  geographic_scope VARCHAR(255),\n  time_period_start DATE,\n  time_period_end DATE,\n  publication_date DATE,\n  retrieval_date DATETIME DEFAULT CURRENT_TIMESTAMP,\n  license_type VARCHAR(100),\n  attribution_required BOOLEAN DEFAULT TRUE,\n  is_preliminary BOOLEAN DEFAULT FALSE,\n  is_revised BOOLEAN DEFAULT FALSE,\n  revision_notes TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by VARCHAR(255),\n  updated_by VARCHAR(255),\n  INDEX idx_dataset_card (dataset_card_id),\n  INDEX idx_source (source_id),\n  INDEX idx_regime (regime_tag),\n  INDEX idx_confidence (confidence_grade),\n  INDEX idx_publication_date (publication_date)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Provenance Ledger: Immutable log of all data transformations\nCREATE TABLE IF NOT EXISTS provenance_ledger (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_id VARCHAR(36) NOT NULL,\n  transformation_type ENUM('ingestion', 'calculation', 'aggregation', 'adjustment', 'imputation') NOT NULL,\n  input_values JSON,\n  output_value TEXT,\n  transformation_formula TEXT,\n  transformation_notes TEXT,\n  applied_by VARCHAR(255),\n  applied_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  is_reversible BOOLEAN DEFAULT TRUE,\n  reversal_notes TEXT,\n  FOREIGN KEY (evidence_id) REFERENCES evidence_store(id) ON DELETE RESTRICT,\n  INDEX idx_evidence (evidence_id),\n  INDEX idx_transformation_type (transformation_type),\n  INDEX idx_applied_at (applied_at)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Dataset Cards: Metadata for each dataset with coverage and quality info\nCREATE TABLE IF NOT EXISTS dataset_cards (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  dataset_name VARCHAR(255) NOT NULL,\n  dataset_name_ar VARCHAR(255),\n  description TEXT,\n  description_ar TEXT,\n  source_id VARCHAR(255) NOT NULL,\n  publisher_name VARCHAR(255),\n  publisher_url VARCHAR(500),\n  data_type ENUM('time_series', 'cross_sectional', 'panel', 'qualitative') DEFAULT 'time_series',\n  geographic_coverage JSON,\n  time_coverage_start DATE,\n  time_coverage_end DATE,\n  update_frequency ENUM('daily', 'weekly', 'monthly', 'quarterly', 'annual', 'irregular') DEFAULT 'monthly',\n  last_updated DATE,\n  indicators_covered JSON,\n  total_records INT,\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  methodology_url VARCHAR(500),\n  methodology_summary TEXT,\n  known_limitations TEXT,\n  known_limitations_ar TEXT,\n  data_quality_score DECIMAL(3,2),\n  license_type VARCHAR(100),\n  license_url VARCHAR(500),\n  attribution_required BOOLEAN DEFAULT TRUE,\n  access_type ENUM('open', 'restricted', 'subscription') DEFAULT 'open',\n  api_endpoint VARCHAR(500),\n  api_documentation_url VARCHAR(500),\n  ingestion_status ENUM('active', 'inactive', 'paused', 'error') DEFAULT 'active',\n  last_ingestion_at DATETIME,\n  last_ingestion_status VARCHAR(50),\n  ingestion_error_log TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_source (source_id),\n  INDEX idx_confidence (confidence_grade),\n  INDEX idx_ingestion_status (ingestion_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Data Gap Tickets: Automatic tracking of missing data\nCREATE TABLE IF NOT EXISTS data_gap_tickets (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  indicator_id VARCHAR(255) NOT NULL,\n  indicator_name VARCHAR(255),\n  indicator_name_ar VARCHAR(255),\n  gap_type ENUM('missing_data', 'missing_source', 'low_confidence', 'outdated', 'conflicting') NOT NULL,\n  gap_description TEXT,\n  gap_description_ar TEXT,\n  time_period_start DATE,\n  time_period_end DATE,\n  geographic_scope VARCHAR(255),\n  severity ENUM('critical', 'high', 'medium', 'low') DEFAULT 'medium',\n  suggested_sources JSON,\n  resolution_status ENUM('open', 'in_progress', 'resolved', 'wont_fix') DEFAULT 'open',\n  resolution_notes TEXT,\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  assigned_to VARCHAR(255),\n  due_date DATE,\n  INDEX idx_indicator (indicator_id),\n  INDEX idx_severity (severity),\n  INDEX idx_status (resolution_status)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Confidence Ratings: Detailed breakdown of confidence scoring\nCREATE TABLE IF NOT EXISTS confidence_ratings (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  evidence_id VARCHAR(36) NOT NULL,\n  source_reliability DECIMAL(3,2),\n  data_completeness DECIMAL(3,2),\n  timeliness DECIMAL(3,2),\n  methodology_rigor DECIMAL(3,2),\n  independent_verification DECIMAL(3,2),\n  overall_confidence DECIMAL(3,2),\n  confidence_grade ENUM('A', 'B', 'C', 'D') DEFAULT 'C',\n  grade_justification TEXT,\n  reviewer_notes TEXT,\n  reviewed_by VARCHAR(255),\n  reviewed_at DATETIME,\n  FOREIGN KEY (evidence_id) REFERENCES evidence_store(id) ON DELETE CASCADE,\n  INDEX idx_evidence (evidence_id),\n  INDEX idx_grade (confidence_grade)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n\n-- Audit Trail: Track all access and modifications\nCREATE TABLE IF NOT EXISTS audit_trail (\n  id VARCHAR(36) PRIMARY KEY DEFAULT (UUID()),\n  user_id VARCHAR(255),\n  action_type ENUM('view', 'download', 'export', 'modify', 'delete', 'publish') NOT NULL,\n  resource_type VARCHAR(100),\n  resource_id VARCHAR(255),\n  changes_made JSON,\n  ip_address VARCHAR(45),\n  user_agent TEXT,\n  timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_user (user_id),\n  INDEX idx_action (action_type),\n  INDEX idx_timestamp (timestamp)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 5113
}