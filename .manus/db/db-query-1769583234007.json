{
  "query": "CREATE TABLE IF NOT EXISTS `source_credentials` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sourceId` int NOT NULL,\n  `credentialType` enum('api_key','oauth_token','basic_auth','certificate') NOT NULL,\n  `apiKey` text,\n  `encryptedKey` text,\n  `username` varchar(255),\n  `password` text,\n  `oauthAccessToken` text,\n  `oauthRefreshToken` text,\n  `oauthExpiresAt` timestamp,\n  `certificatePath` varchar(500),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastValidatedAt` timestamp,\n  `validationStatus` enum('valid','invalid','expired','untested') NOT NULL DEFAULT 'untested',\n  `notes` text,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `createdBy` varchar(64),\n  CONSTRAINT `source_credentials_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `backfill_checkpoints` (\n  `id` varchar(255) NOT NULL,\n  `datasetId` varchar(255) NOT NULL,\n  `indicatorCode` varchar(100) NOT NULL,\n  `sourceId` int,\n  `lastProcessedDate` timestamp NOT NULL,\n  `totalDays` int NOT NULL DEFAULT 0,\n  `processedDays` int NOT NULL DEFAULT 0,\n  `insertedRecords` int NOT NULL DEFAULT 0,\n  `skippedRecords` int NOT NULL DEFAULT 0,\n  `errorCount` int NOT NULL DEFAULT 0,\n  `status` enum('running','paused','completed','failed') NOT NULL DEFAULT 'running',\n  `startedAt` timestamp NOT NULL,\n  `lastUpdatedAt` timestamp NOT NULL,\n  `completedAt` timestamp,\n  `errors` json,\n  `metadata` json,\n  CONSTRAINT `backfill_checkpoints_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `backfill_requests` (\n  `id` varchar(255) NOT NULL,\n  `sourceId` int NOT NULL,\n  `indicatorCodes` json NOT NULL,\n  `startDate` timestamp NOT NULL,\n  `endDate` timestamp NOT NULL,\n  `regimeTag` enum('aden_irg','sanaa_defacto','mixed'),\n  `priority` enum('low','medium','high','critical') NOT NULL DEFAULT 'medium',\n  `status` enum('pending','approved','running','completed','failed','cancelled') NOT NULL DEFAULT 'pending',\n  `strategy` varchar(100),\n  `estimatedDataPoints` int,\n  `estimatedDuration` varchar(100),\n  `requestedBy` varchar(64) NOT NULL,\n  `approvedBy` varchar(64),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `startedAt` timestamp,\n  `completedAt` timestamp,\n  `notes` text,\n  CONSTRAINT `backfill_requests_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `partnership_requests` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sourceId` int NOT NULL,\n  `organizationName` varchar(255) NOT NULL,\n  `contactEmail` varchar(320),\n  `contactName` varchar(255),\n  `requestType` enum('data_access','api_key','partnership_mou','bulk_download') NOT NULL,\n  `status` enum('draft','sent','in_negotiation','approved','rejected','on_hold') NOT NULL DEFAULT 'draft',\n  `priority` enum('low','medium','high','critical') NOT NULL DEFAULT 'medium',\n  `proposalText` text,\n  `responseReceived` boolean NOT NULL DEFAULT false,\n  `responseText` text,\n  `estimatedTimeline` varchar(100),\n  `requestedBy` varchar(64) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `sentAt` timestamp,\n  `respondedAt` timestamp,\n  `notes` text,\n  CONSTRAINT `partnership_requests_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute CREATE TABLE IF NOT EXISTS `source_credentials` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sourceId` int NOT NULL,\n  `credentialType` enum('api_key','oauth_token','basic_auth','certificate') NOT NULL,\n  `apiKey` text,\n  `encryptedKey` text,\n  `username` varchar(255),\n  `password` text,\n  `oauthAccessToken` text,\n  `oauthRefreshToken` text,\n  `oauthExpiresAt` timestamp,\n  `certificatePath` varchar(500),\n  `isActive` boolean NOT NULL DEFAULT true,\n  `lastValidatedAt` timestamp,\n  `validationStatus` enum('valid','invalid','expired','untested') NOT NULL DEFAULT 'untested',\n  `notes` text,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `createdBy` varchar(64),\n  CONSTRAINT `source_credentials_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `backfill_checkpoints` (\n  `id` varchar(255) NOT NULL,\n  `datasetId` varchar(255) NOT NULL,\n  `indicatorCode` varchar(100) NOT NULL,\n  `sourceId` int,\n  `lastProcessedDate` timestamp NOT NULL,\n  `totalDays` int NOT NULL DEFAULT 0,\n  `processedDays` int NOT NULL DEFAULT 0,\n  `insertedRecords` int NOT NULL DEFAULT 0,\n  `skippedRecords` int NOT NULL DEFAULT 0,\n  `errorCount` int NOT NULL DEFAULT 0,\n  `status` enum('running','paused','completed','failed') NOT NULL DEFAULT 'running',\n  `startedAt` timestamp NOT NULL,\n  `lastUpdatedAt` timestamp NOT NULL,\n  `completedAt` timestamp,\n  `errors` json,\n  `metadata` json,\n  CONSTRAINT `backfill_checkpoints_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `backfill_requests` (\n  `id` varchar(255) NOT NULL,\n  `sourceId` int NOT NULL,\n  `indicatorCodes` json NOT NULL,\n  `startDate` timestamp NOT NULL,\n  `endDate` timestamp NOT NULL,\n  `regimeTag` enum('aden_irg','sanaa_defacto','mixed'),\n  `priority` enum('low','medium','high','critical') NOT NULL DEFAULT 'medium',\n  `status` enum('pending','approved','running','completed','failed','cancelled') NOT NULL DEFAULT 'pending',\n  `strategy` varchar(100),\n  `estimatedDataPoints` int,\n  `estimatedDuration` varchar(100),\n  `requestedBy` varchar(64) NOT NULL,\n  `approvedBy` varchar(64),\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `startedAt` timestamp,\n  `completedAt` timestamp,\n  `notes` text,\n  CONSTRAINT `backfill_requests_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `partnership_requests` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `sourceId` int NOT NULL,\n  `organizationName` varchar(255) NOT NULL,\n  `contactEmail` varchar(320),\n  `contactName` varchar(255),\n  `requestType` enum('data_access','api_key','partnership_mou','bulk_download') NOT NULL,\n  `status` enum('draft','sent','in_negotiation','approved','rejected','on_hold') NOT NULL DEFAULT 'draft',\n  `priority` enum('low','medium','high','critical') NOT NULL DEFAULT 'medium',\n  `proposalText` text,\n  `responseReceived` boolean NOT NULL DEFAULT false,\n  `responseText` text,\n  `estimatedTimeline` varchar(100),\n  `requestedBy` varchar(64) NOT NULL,\n  `createdAt` timestamp NOT NULL DEFAULT (now()),\n  `updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n  `sentAt` timestamp,\n  `respondedAt` timestamp,\n  `notes` text,\n  CONSTRAINT `partnership_requests_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2761
}