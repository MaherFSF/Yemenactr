{
  "query": "CREATE TABLE IF NOT EXISTS `visual_suggestions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `triggerType` enum('data_update','user_query','scheduled','manual') NOT NULL,\n  `triggerContext` json,\n  `suggestedChartType` enum('line','bar','scatter','heatmap','network','sankey','timeline','area') NOT NULL,\n  `suggestedConfig` json NOT NULL,\n  `aiAnnotation` text,\n  `aiAnnotationAr` text,\n  `annotationSources` json,\n  `status` enum('pending','approved','rejected','implemented') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `reviewNotes` text,\n  `implementedSpecId` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `visual_suggestions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_templates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `nameAr` varchar(255),\n  `description` text,\n  `descriptionAr` text,\n  `templateType` enum('monthly_pulse','quarterly_outlook','annual_review','ad_hoc','executive_brief','sector_report') NOT NULL,\n  `templateSpec` json NOT NULL,\n  `schedule` enum('daily','weekly','monthly','quarterly','annual','manual') NOT NULL DEFAULT 'manual',\n  `cronExpression` varchar(100),\n  `nextRunAt` timestamp,\n  `isActive` boolean NOT NULL DEFAULT true,\n  `createdBy` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_templates_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_instances` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `templateId` int NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `titleAr` varchar(255),\n  `reportingPeriod` varchar(100),\n  `htmlContent` text,\n  `htmlContentAr` text,\n  `pdfFileKey` varchar(255),\n  `pdfFileUrl` text,\n  `pdfFileKeyAr` varchar(255),\n  `pdfFileUrlAr` text,\n  `evidenceAppendix` json,\n  `workflowStatus` enum('draft','under_review','needs_edit','pending_approval','approved','published','archived') NOT NULL DEFAULT 'draft',\n  `draftedBy` int,\n  `draftedAt` timestamp,\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `reviewNotes` text,\n  `editedBy` int,\n  `editedAt` timestamp,\n  `approvedBy` int,\n  `approvedAt` timestamp,\n  `publishedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_instances_id` PRIMARY KEY(`id`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute CREATE TABLE IF NOT EXISTS `visual_suggestions` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `triggerType` enum('data_update','user_query','scheduled','manual') NOT NULL,\n  `triggerContext` json,\n  `suggestedChartType` enum('line','bar','scatter','heatmap','network','sankey','timeline','area') NOT NULL,\n  `suggestedConfig` json NOT NULL,\n  `aiAnnotation` text,\n  `aiAnnotationAr` text,\n  `annotationSources` json,\n  `status` enum('pending','approved','rejected','implemented') NOT NULL DEFAULT 'pending',\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `reviewNotes` text,\n  `implementedSpecId` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT `visual_suggestions_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_templates` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `nameAr` varchar(255),\n  `description` text,\n  `descriptionAr` text,\n  `templateType` enum('monthly_pulse','quarterly_outlook','annual_review','ad_hoc','executive_brief','sector_report') NOT NULL,\n  `templateSpec` json NOT NULL,\n  `schedule` enum('daily','weekly','monthly','quarterly','annual','manual') NOT NULL DEFAULT 'manual',\n  `cronExpression` varchar(100),\n  `nextRunAt` timestamp,\n  `isActive` boolean NOT NULL DEFAULT true,\n  `createdBy` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_templates_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE IF NOT EXISTS `report_instances` (\n  `id` int AUTO_INCREMENT NOT NULL,\n  `templateId` int NOT NULL,\n  `title` varchar(255) NOT NULL,\n  `titleAr` varchar(255),\n  `reportingPeriod` varchar(100),\n  `htmlContent` text,\n  `htmlContentAr` text,\n  `pdfFileKey` varchar(255),\n  `pdfFileUrl` text,\n  `pdfFileKeyAr` varchar(255),\n  `pdfFileUrlAr` text,\n  `evidenceAppendix` json,\n  `workflowStatus` enum('draft','under_review','needs_edit','pending_approval','approved','published','archived') NOT NULL DEFAULT 'draft',\n  `draftedBy` int,\n  `draftedAt` timestamp,\n  `reviewedBy` int,\n  `reviewedAt` timestamp,\n  `reviewNotes` text,\n  `editedBy` int,\n  `editedAt` timestamp,\n  `approvedBy` int,\n  `approvedAt` timestamp,\n  `publishedAt` timestamp,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  CONSTRAINT `report_instances_id` PRIMARY KEY(`id`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2435
}