{
  "query": "\nCREATE TABLE IF NOT EXISTS phone_verifications (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  phone_number VARCHAR(20) NOT NULL,\n  country_code VARCHAR(5) NOT NULL,\n  verification_code VARCHAR(10),\n  is_verified BOOLEAN DEFAULT FALSE,\n  verified_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  expires_at TIMESTAMP NULL\n);\n\nCREATE TABLE IF NOT EXISTS sms_alert_preferences (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  phone_number VARCHAR(20) NOT NULL,\n  country_code VARCHAR(5) NOT NULL,\n  preferred_channel ENUM('sms', 'whatsapp', 'both') DEFAULT 'whatsapp',\n  language ENUM('ar', 'en') DEFAULT 'ar',\n  exchange_rate_alerts BOOLEAN DEFAULT TRUE,\n  critical_threshold DECIMAL(5,2) DEFAULT 3.00,\n  daily_digest BOOLEAN DEFAULT FALSE,\n  weekly_report BOOLEAN DEFAULT TRUE,\n  is_active BOOLEAN DEFAULT TRUE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS sms_delivery_log (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36),\n  message_type ENUM('exchange_rate', 'critical_event', 'daily_digest', 'weekly_report', 'verification') NOT NULL,\n  channel ENUM('sms', 'whatsapp') NOT NULL,\n  recipient VARCHAR(20) NOT NULL,\n  content_preview VARCHAR(255),\n  priority ENUM('critical', 'high', 'normal') DEFAULT 'normal',\n  status ENUM('pending', 'sent', 'delivered', 'failed') DEFAULT 'pending',\n  sent_at TIMESTAMP NULL,\n  delivered_at TIMESTAMP NULL,\n  error_message TEXT,\n  retry_count INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute \nCREATE TABLE IF NOT EXISTS phone_verifications (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  phone_number VARCHAR(20) NOT NULL,\n  country_code VARCHAR(5) NOT NULL,\n  verification_code VARCHAR(10),\n  is_verified BOOLEAN DEFAULT FALSE,\n  verified_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  expires_at TIMESTAMP NULL\n);\n\nCREATE TABLE IF NOT EXISTS sms_alert_preferences (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36) NOT NULL,\n  phone_number VARCHAR(20) NOT NULL,\n  country_code VARCHAR(5) NOT NULL,\n  preferred_channel ENUM('sms', 'whatsapp', 'both') DEFAULT 'whatsapp',\n  language ENUM('ar', 'en') DEFAULT 'ar',\n  exchange_rate_alerts BOOLEAN DEFAULT TRUE,\n  critical_threshold DECIMAL(5,2) DEFAULT 3.00,\n  daily_digest BOOLEAN DEFAULT FALSE,\n  weekly_report BOOLEAN DEFAULT TRUE,\n  is_active BOOLEAN DEFAULT TRUE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS sms_delivery_log (\n  id VARCHAR(36) PRIMARY KEY,\n  user_id VARCHAR(36),\n  message_type ENUM('exchange_rate', 'critical_event', 'daily_digest', 'weekly_report', 'verification') NOT NULL,\n  channel ENUM('sms', 'whatsapp') NOT NULL,\n  recipient VARCHAR(20) NOT NULL,\n  content_preview VARCHAR(255),\n  priority ENUM('critical', 'high', 'normal') DEFAULT 'normal',\n  status ENUM('pending', 'sent', 'delivered', 'failed') DEFAULT 'pending',\n  sent_at TIMESTAMP NULL,\n  delivered_at TIMESTAMP NULL,\n  error_message TEXT,\n  retry_count INT DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2485
}