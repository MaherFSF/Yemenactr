{
  "query": "CREATE TABLE IF NOT EXISTS ingestion_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  sourceId INT NOT NULL,\n  connectorName VARCHAR(100) NOT NULL,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  duration INT,\n  status ENUM('running','success','partial','failed') NOT NULL,\n  recordsFetched INT DEFAULT 0 NOT NULL,\n  recordsCreated INT DEFAULT 0 NOT NULL,\n  recordsUpdated INT DEFAULT 0 NOT NULL,\n  recordsSkipped INT DEFAULT 0 NOT NULL,\n  claimsCreated INT DEFAULT 0 NOT NULL,\n  errorMessage TEXT,\n  errorDetails JSON,\n  coverageCellsUpdated INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX ingestion_source_idx (sourceId),\n  INDEX ingestion_connector_idx (connectorName),\n  INDEX ingestion_status_idx (status),\n  INDEX ingestion_started_idx (startedAt),\n  FOREIGN KEY (sourceId) REFERENCES evidence_sources(id)\n);\n\nCREATE TABLE IF NOT EXISTS qa_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  runType ENUM('full_scan','hardcode_detection','click_audit','provenance_check','export_integrity','translation_check') NOT NULL,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  duration INT,\n  status ENUM('running','pass','pass_warn','fail') NOT NULL,\n  totalChecks INT DEFAULT 0 NOT NULL,\n  passedChecks INT DEFAULT 0 NOT NULL,\n  warningChecks INT DEFAULT 0 NOT NULL,\n  failedChecks INT DEFAULT 0 NOT NULL,\n  ticketsCreated INT DEFAULT 0 NOT NULL,\n  reportPath VARCHAR(255),\n  reportSummary JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX qa_type_idx (runType),\n  INDEX qa_status_idx (status),\n  INDEX qa_started_idx (startedAt)\n);\n\nCREATE TABLE IF NOT EXISTS publish_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  status ENUM('pending','running','success','failed','blocked') NOT NULL,\n  blockedReason TEXT,\n  qaRunId INT,\n  qaStatus ENUM('pass','pass_warn','fail'),\n  pagesUpdated INT DEFAULT 0 NOT NULL,\n  claimsPublished INT DEFAULT 0 NOT NULL,\n  changelogSummary TEXT,\n  changelogDetails JSON,\n  approvedByUserId INT,\n  approvedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX publish_status_idx (status),\n  INDEX publish_started_idx (startedAt),\n  FOREIGN KEY (qaRunId) REFERENCES qa_runs(id)\n);\n\nCREATE TABLE IF NOT EXISTS page_build_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pageType ENUM('year_page','sector_page','actor_page','regulation_page','governorate_page','report_page') NOT NULL,\n  pageIdentifier VARCHAR(255) NOT NULL,\n  pageRoute VARCHAR(255),\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  status ENUM('running','success','failed','skipped') NOT NULL,\n  claimsUsed INT DEFAULT 0 NOT NULL,\n  evidenceSetHash VARCHAR(64),\n  errorMessage TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX page_build_type_idx (pageType),\n  INDEX page_build_identifier_idx (pageIdentifier),\n  INDEX page_build_status_idx (status)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 4DB9hJWqLzCzJpD.4ae2ba9639dc --database XodoyKMzPdFiKkVj3QFTGK --execute CREATE TABLE IF NOT EXISTS ingestion_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  sourceId INT NOT NULL,\n  connectorName VARCHAR(100) NOT NULL,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  duration INT,\n  status ENUM('running','success','partial','failed') NOT NULL,\n  recordsFetched INT DEFAULT 0 NOT NULL,\n  recordsCreated INT DEFAULT 0 NOT NULL,\n  recordsUpdated INT DEFAULT 0 NOT NULL,\n  recordsSkipped INT DEFAULT 0 NOT NULL,\n  claimsCreated INT DEFAULT 0 NOT NULL,\n  errorMessage TEXT,\n  errorDetails JSON,\n  coverageCellsUpdated INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX ingestion_source_idx (sourceId),\n  INDEX ingestion_connector_idx (connectorName),\n  INDEX ingestion_status_idx (status),\n  INDEX ingestion_started_idx (startedAt),\n  FOREIGN KEY (sourceId) REFERENCES evidence_sources(id)\n);\n\nCREATE TABLE IF NOT EXISTS qa_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  runType ENUM('full_scan','hardcode_detection','click_audit','provenance_check','export_integrity','translation_check') NOT NULL,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  duration INT,\n  status ENUM('running','pass','pass_warn','fail') NOT NULL,\n  totalChecks INT DEFAULT 0 NOT NULL,\n  passedChecks INT DEFAULT 0 NOT NULL,\n  warningChecks INT DEFAULT 0 NOT NULL,\n  failedChecks INT DEFAULT 0 NOT NULL,\n  ticketsCreated INT DEFAULT 0 NOT NULL,\n  reportPath VARCHAR(255),\n  reportSummary JSON,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX qa_type_idx (runType),\n  INDEX qa_status_idx (status),\n  INDEX qa_started_idx (startedAt)\n);\n\nCREATE TABLE IF NOT EXISTS publish_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  status ENUM('pending','running','success','failed','blocked') NOT NULL,\n  blockedReason TEXT,\n  qaRunId INT,\n  qaStatus ENUM('pass','pass_warn','fail'),\n  pagesUpdated INT DEFAULT 0 NOT NULL,\n  claimsPublished INT DEFAULT 0 NOT NULL,\n  changelogSummary TEXT,\n  changelogDetails JSON,\n  approvedByUserId INT,\n  approvedAt TIMESTAMP NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX publish_status_idx (status),\n  INDEX publish_started_idx (startedAt),\n  FOREIGN KEY (qaRunId) REFERENCES qa_runs(id)\n);\n\nCREATE TABLE IF NOT EXISTS page_build_runs (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  pageType ENUM('year_page','sector_page','actor_page','regulation_page','governorate_page','report_page') NOT NULL,\n  pageIdentifier VARCHAR(255) NOT NULL,\n  pageRoute VARCHAR(255),\n  startedAt TIMESTAMP NOT NULL,\n  completedAt TIMESTAMP NULL,\n  status ENUM('running','success','failed','skipped') NOT NULL,\n  claimsUsed INT DEFAULT 0 NOT NULL,\n  evidenceSetHash VARCHAR(64),\n  errorMessage TEXT,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  INDEX page_build_type_idx (pageType),\n  INDEX page_build_identifier_idx (pageIdentifier),\n  INDEX page_build_status_idx (status)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 798
}