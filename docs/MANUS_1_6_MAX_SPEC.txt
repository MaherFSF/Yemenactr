# YETO — Manus 1.6 Max — Institution‑Grade Build Spec (Ultimate, Jan 2026)

## 0) How to use this document (token-safe)
This spec is designed to be consumed in **phases** to avoid context overflow.

### You must implement in 7 phases
After each phase:
1) Write a short **PHASE STATE** summary to a repo file: `MANUS_STATE.md` (max 200 lines).
2) Output: `PHASE <N> COMPLETE — READY FOR NEXT`.
3) Stop. Do not continue unless the operator says: **"Continue to Phase <N+1>"**.

### If context is tight
- Read only sections **0–3** first, then proceed phase-by-phase.
- Treat the **Appendix (File Blocks)** as the authoritative source of truth for schema/seed/registry.

---

## 1) Your identity (roles you must assume simultaneously)
You are building **YETO (Yemen Economic Transparency Observatory)** as a serious, institution-grade, bilingual platform.

Act as:
- **Chief Product Officer**: define coherent UX, flows, and prioritization.
- **Chief Architect**: pick an implementable stack, define boundaries, enforce maintainability.
- **Data Architect**: build an ingestion system that never mixes regimes, preserves provenance, supports revisions/vintages.
- **Head of Research**: enforce evidence-backed outputs and methodological transparency.
- **Security & Compliance Lead**: RBAC, audit logs, sanctions module, no PII, safe defaults.
- **Editorial Director**: bilingual parity, neutral tone, no political bias, “evidence pack” always.
- **QA Lead**: regression tests, anomaly detection, staleness alarms, readiness scoring.
- **DevOps/Observability**: reproducible deploy, monitoring, runbooks.

---

## 2) Non‑negotiable hard gates (fail any gate → block release)
### 2.1 Zero‑hallucination rule
- **Never fabricate**: numbers, citations, sources, timelines, evidence, or “recent” claims.
- If data is missing → create a **Gap Ticket** and expose it in admin UI.
- If uncertainty exists → label uncertainty explicitly.

### 2.2 Evidence‑first everywhere
- Every chart/table metric must map to:
  - a `source.src_id`
  - and (when applicable) a `document` citation (doc + page/section) or dataset version.
- Every narrative statement must be traceable to evidence.

### 2.3 Disagreement Mode (mandatory)
- When multiple authorities differ materially (rule-of-thumb >15% unless justified):
  - Show values **side‑by‑side** with sources, units, coverage, and explanation.
  - Never average across sources unless a documented reconciliation method exists.
- For Yemen, where governance/regime split exists:
  - Treat **Aden vs Sanaa** as separate series unless explicitly reconciled.
  - “Regime mixing” triggers CRITICAL DQ issue.

### 2.4 No placeholders / no vendor branding
- No “lorem ipsum”, no fake metrics, no stock logos, no “trusted by”, no AI vendor naming in UI.
- If a section is empty → show an **honest empty state** + next actions.

### 2.5 Bilingual parity and RTL integrity
- English + Arabic are first-class.
- Arabic UI is **RTL**, numerals consistent, charts readable, labels not clipped.
- Glossary terms are enforced (see glossary system).

### 2.6 Vintages are first‑class
- Users can answer: “What did we know then vs now?”
- Every dataset ingestion creates a `dataset_version`.
- Observations preserve `revision_no` and `vintage_date`.

---

## 3) The “game-changer leap” upgrades (must be implemented)
1) **Indicator Dictionary + Methodology Ledger**
   - Definition, unit, transformation, caveats, and citations for each indicator.
2) **Cross-source reconciliation layer**
   - Side-by-side comparisons, disagreement explanations, contradiction logs.
3) **Data Quality + anomaly detection**
   - spikes, breaks, missing months, unit shifts, duplicates, regime mixing.
4) **Entity resolution engine**
   - aliases (Arabic/English), transliteration, fuzzy matching, stable IDs.
5) **Revisions/vintages**
   - as‑of mode, revision history, versioned datasets.

These are implemented in the database schema provided in Appendix.

---

## 4) Delivery checkpoints (definition of done)
A release is “done” only if:
- DB schema migrates cleanly; seed loads; source registry loads.
- Dashboard renders with real, queryable series (even if minimal initial set).
- Research Library ingests documents and supports searchable citations.
- Disagreement Mode works and is tested.
- DQ rules run and create issues; staleness and missing series create Gap Tickets.
- RBAC enforced: public/registered/pro/enterprise/admin routes differ.
- Export jobs log; alerts exist; assistant sessions log citations.
- No placeholders remain; empty states are honest and useful.

---

# BUILD PHASES

## Phase 1 — Repository audit + baseline wiring
### Objectives
- Detect existing stack and preserve what exists.
- Wire database connection, migrations, and seed.
- Implement a minimal “system status” page.

### Tasks
1) Audit repo structure, frameworks, and existing routes.
2) Create `db/schema.sql`, `db/seed.sql`, `db/seeds/sources_seed_225_registry_extended.csv` from Appendix.
3) Add a **one-command local dev** setup (docker compose or equivalent).
4) Add `/admin/system-status` page:
   - DB connected?
   - tables present?
   - count of sources?
   - latest ingestion runs?
5) Create `MANUS_STATE.md` and write Phase 1 state.

**Stop after Phase 1.**

---

## Phase 2 — Source Registry UI + governance tooling
### Objectives
- Make the 225-source registry visible, filterable, editable (admin only), and auditable.
- Implement Gap Ticket workflow.

### Tasks
1) Build `/sources` public view:
   - search, filters: sector_category, tier, cadence, status, access_method
   - show: SRC ID, names, cadence, tolerance, tier, status, license, links
2) Build `/admin/sources`:
   - edit metadata fields
   - manage endpoints (source_endpoint)
   - mark partnership_required + action email
   - create/resolve gap tickets
3) Build `/admin/gap-tickets`:
   - list, assign agent, status transitions
4) Add registry lint pipeline run UI:
   - show recent pipeline runs for PIPE_REGISTRY_LINT, with failures.

**Stop after Phase 2.**

---

## Phase 3 — Ingestion framework + provenance + minimal indicators
### Objectives
- Implement ingestion scaffolding that can scale to 225 sources.
- Start with a small set of “P0 indicators” to prove pipeline end-to-end.

### Rules
- Ingest only sources that are `ACTIVE` and not `NEEDS_KEY/BLOCKED`.
- If auth_required or partnership_required missing → do not fetch → create gap ticket.
- Every ingestion writes:
  - ingestion_run
  - raw objects (filesystem/object storage)
  - dataset_version + series + observation
  - provenance links

### Tasks
1) Implement connectors by `access_method` patterns:
   - API (JSON/CSV/SDMX)
   - File downloads (CSV/XLSX/PDF)
   - Scrape (only if allowed; respect robots + license)
   - Manual upload path (admin)
2) Build `dataset_version` creation and observation insertion rules.
3) Implement P0 indicators (minimal to prove system):
   - FX rate (Aden vs Sanaa if available)
   - CPI / food basket prices
   - Fuel prices
   - Aid flows (OCHA/FTS)
   - Population / IDPs (IOM DTM)
4) Ensure every number shown has provenance.
5) Implement Disagreement Mode for at least one indicator with 2 sources.

**Stop after Phase 3.**

---

## Phase 4 — Research Library + Evidence Packs + RAG indexing
### Objectives
- Ingest documents, chunk, index for search, and bind citations to narratives.

### Tasks
1) `/research` browsing:
   - filter by source, doc_type, year, language
2) Document ingestion pipeline:
   - store documents (object storage), metadata in `document`
   - create chunks in `content_chunk` + embeddings in `content_embedding`
3) Evidence Pack:
   - For each published report: store supporting docs + pages.
4) Search + RAG:
   - retrieval must return citations (doc/page).
   - assistant answers must log citations in `assistant_message.citations`.

**Stop after Phase 4.**

---

## Phase 5 — Data quality, anomaly detection, reconciliation layer
### Objectives
- Run DQ rules and show issues.
- Build contradiction/reconciliation UI.

### Tasks
1) Implement dq rules defined in schema + seed:
   - stale source, missing periods, duplicates, spikes, breaks, unit shift, regime mixing
2) `/admin/data-quality` dashboard:
   - issues list, severity, drill-down to series/obs
3) Contradictions:
   - render contradiction table with sources side-by-side
   - allow “resolution” notes (contradiction_resolution)
4) Expose a public “Data Quality” widget per indicator.

**Stop after Phase 5.**

---

## Phase 6 — Tools: Compare, Scenario Simulator, Report Generator, Exports, Alerts
### Objectives
Deliver “institution platform” feel: tools, workflows, and durability.

### Tasks
1) `/tools/compare`:
   - multi-indicator compare, cross-source compare, disagreement toggle
2) `/tools/scenario-simulator`:
   - run scenario_run; store outputs; export
3) `/tools/report-generator`:
   - run report_run; store output_document_id; evidence pack section mandatory
4) Exports:
   - create export_job for every export
5) Alerts:
   - alert_rule + alert_event; in-app notifications; optional email stubs
6) Saved views:
   - saved_view presets.

**Stop after Phase 6.**

---

## Phase 7 — Security, compliance, polish, performance, release readiness
### Objectives
Make it defensible: RBAC, sanctions, accessibility, performance, and publish pipeline.

### Tasks
1) RBAC enforcement:
   - routes, API endpoints, exports
2) Compliance module:
   - ingest sanctions lists to compliance_entity
   - matching workflows logged; no PII
3) Accessibility + i18n QA:
   - RTL charts, keyboard nav, color contrast
4) Performance:
   - caching strategy; pagination; index tuning
5) Release readiness scoring (100% gate)
6) Final “no placeholders” crawl.

**Stop after Phase 7.**

---

# UI / SITE MAP / DESIGN
Use the authoritative sitemap & design rules in Appendix `Prompt for excision .txt` (included as a file block below).
Mockups are samples only; you must implement additional pages beyond mockups.

Mockups index is in Appendix.

---

# PRE‑FLIGHT INTEGRITY CHALLENGE (you must answer BEFORE coding)
Respond with:
1) **Placeholder sweep plan** (what you will search for; how you will block release).
2) **Disagreement Mode implementation plan** (DB + UI + thresholds + citations).
3) **Source registry lint plan** (what columns are mandatory; what becomes gap ticket).
4) **Agent Zeta uniqueness plan** (how you avoid template repetition month-to-month).
5) **Readiness score rubric** (0–100, with pass thresholds).

Then start Phase 1.

---

# APPENDIX — FILE BLOCKS (authoritative)
## [FILE: db/schema.sql]
```sql
-- ============================================================================
-- YETO (Yemen Economic Transparency Observatory)
-- PostgreSQL Schema (FINAL – Jan 2026)
-- Coverage: 2010-01-01 → Present
--
-- Data model principles:
--  - Evidence-first: every fact must be traceable to a source (SRC-ID) and an ingestion run.
--  - Versioning: "As-Of" mode supported via vintage_date + revision_no.
--  - Split-system support: store regime_tag without forced aggregation.
--  - Bilingual parity: EN/AR content stored natively.
--  - Auditability: every governance/agent action is logged.
-- ============================================================================

BEGIN;


-- Extensions (enable in RDS parameter group as needed)
CREATE EXTENSION IF NOT EXISTS pgcrypto;
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS citext;
-- pgvector (optional but recommended for semantic search)
CREATE EXTENSION IF NOT EXISTS vector;
-- Create dedicated schema namespace for YETO objects
CREATE SCHEMA IF NOT EXISTS yeto;
SET search_path = yeto, public;


-- ---------------------------------------------------------------------------
-- ENUMS
-- ---------------------------------------------------------------------------

CREATE TYPE lang_code AS ENUM ('EN','AR');

CREATE TYPE regime_tag AS ENUM (
  'NATIONAL_UNIFIED',
  'IRG_ADEN',
  'DFA_SANAA',
  'MIXED',
  'NOT_APPLICABLE'
);

CREATE TYPE source_tier AS ENUM ('T1','T2','T3','UNKNOWN');

CREATE TYPE source_status AS ENUM ('ACTIVE','INACTIVE','PENDING_REVIEW','NEEDS_KEY','BLOCKED','DEPRECATED');

CREATE TYPE ingestion_run_status AS ENUM ('RUNNING','SUCCESS','FAILED','PARTIAL');

CREATE TYPE gap_ticket_status AS ENUM ('OPEN','IN_PROGRESS','RESOLVED','WONT_FIX');

CREATE TYPE severity_level AS ENUM ('LOW','MEDIUM','HIGH','CRITICAL');

CREATE TYPE content_visibility AS ENUM ('PUBLIC','PREMIUM','INTERNAL');

CREATE TYPE content_status AS ENUM ('DRAFT','UNDER_REVIEW','PUBLISHED','RETRACTED','ARCHIVED');

CREATE TYPE approval_stage AS ENUM (
  'DRAFTING',
  'EVIDENCE',
  'CONSISTENCY',
  'SAFETY',
  'AR_COPY',
  'EN_COPY',
  'STANDARDS',
  'FINAL_APPROVAL'
);

CREATE TYPE approval_result AS ENUM ('PASS','FAIL','NEEDS_HUMAN','SKIPPED');

CREATE TYPE doc_kind AS ENUM (
  'REPORT',
  'BULLETIN',
  'DATASET_DOC',
  'POLICY',
  'PRESS_RELEASE',
  'ACADEMIC',
  'NEWS',
  'OTHER'
);

CREATE TYPE geo_type AS ENUM ('COUNTRY','GOVERNORATE','DISTRICT','CITY','PORT','CUSTOM');

CREATE TYPE indicator_frequency AS ENUM ('HOURLY','DAILY','WEEKLY','BIWEEKLY','MONTHLY','QUARTERLY','ANNUAL','BI_ANNUAL','AD_HOC','IRREGULAR');

CREATE TYPE data_value_kind AS ENUM ('NUMERIC','TEXT','JSON');

CREATE TYPE stakeholder_category AS ENUM (
  'GOVERNMENT',
  'INTERNATIONAL_ORG',
  'DONOR',
  'FINANCIAL_INSTITUTION',
  'NGO',
  'ACADEMIA',
  'MEDIA',
  'PRIVATE_SECTOR',
  'CITIZEN',
  'OTHER'
);

CREATE TYPE publication_job_status AS ENUM ('SCHEDULED','RUNNING','BLOCKED','FAILED','PUBLISHED');

CREATE TYPE contradiction_status AS ENUM ('OPEN','RESOLVED','DISMISSED');

-- ---------------------------------------------------------------------------
-- COMMON HELPERS
-- ---------------------------------------------------------------------------

CREATE OR REPLACE FUNCTION set_updated_at()
RETURNS trigger
LANGUAGE plpgsql
AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$;

-- ---------------------------------------------------------------------------
-- GEOGRAPHY
-- ---------------------------------------------------------------------------

CREATE TABLE geo (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  geo_type geo_type NOT NULL,
  code text NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  parent_id uuid REFERENCES geo(id) ON DELETE SET NULL,
  bbox jsonb,
  geom_geojson jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE (geo_type, code)
);

CREATE TRIGGER trg_geo_updated_at
BEFORE UPDATE ON geo
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- AUTH / RBAC
-- ---------------------------------------------------------------------------

CREATE TABLE user_account (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  email citext UNIQUE NOT NULL,
  display_name text,
  password_hash text,
  is_active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_user_account_updated_at
BEFORE UPDATE ON user_account
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE role (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  role_key text UNIQUE NOT NULL,
  description text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TABLE permission (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  permission_key text UNIQUE NOT NULL,
  description text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TABLE role_permission (
  role_id uuid NOT NULL REFERENCES role(id) ON DELETE CASCADE,
  permission_id uuid NOT NULL REFERENCES permission(id) ON DELETE CASCADE,
  PRIMARY KEY (role_id, permission_id)
);

CREATE TABLE user_role (
  user_id uuid NOT NULL REFERENCES user_account(id) ON DELETE CASCADE,
  role_id uuid NOT NULL REFERENCES role(id) ON DELETE CASCADE,
  PRIMARY KEY (user_id, role_id)
);

-- ---------------------------------------------------------------------------
-- SUBSCRIPTIONS (feature gating)
-- ---------------------------------------------------------------------------

CREATE TABLE subscription_plan (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  plan_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  features jsonb NOT NULL DEFAULT '{}'::jsonb,
  is_public boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_subscription_plan_updated_at
BEFORE UPDATE ON subscription_plan
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE subscription (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL REFERENCES user_account(id) ON DELETE CASCADE,
  plan_id uuid NOT NULL REFERENCES subscription_plan(id),
  status text NOT NULL DEFAULT 'ACTIVE',
  started_at timestamptz NOT NULL DEFAULT NOW(),
  ends_at timestamptz,
  external_billing_ref text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_subscription_updated_at
BEFORE UPDATE ON subscription
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- SOURCE REGISTRY (225+ sources)
-- NOTE: columns aligned to sources_seed_225.csv for direct COPY.
-- ---------------------------------------------------------------------------

CREATE TABLE source (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  src_id text UNIQUE NOT NULL,                 -- e.g., SRC-001
  src_numeric_id integer UNIQUE,               -- optional numeric index
  name_en text NOT NULL,
  name_ar text,

  -- Classification / Routing (for UI + connectors)
  sector_category text,                        -- e.g., "Prices & Cost of Living" (top-level)
  sub_sector_tag text,                         -- optional finer tag
  routing_function text,                       -- e.g., "macroecon_wb_wdi", "aid_ocha_fts"
  category text,                               -- legacy/freeform (kept for backward compatibility)

  -- Reliability & ownership
  tier source_tier NOT NULL DEFAULT 'UNKNOWN',
  reliability_score text,                      -- e.g., A, B+, C (do not assume numeric mapping)
  institution text,

  -- Access
  url text,
  url_raw text,
  access_method text,                          -- API / File / Scrape / Manual / Subscription
  auth_required text,                          -- None / API Key / OAuth / Login / Partnership
  data_format text,                            -- JSON / CSV / XLSX / PDF / HTML / SDMX / etc
  license text,

  -- Cadence / freshness
  update_frequency text,                       -- human-readable (Monthly, Annual, etc)
  cadence indicator_frequency,                 -- normalized enum
  cadence_lag_tolerance interval,             -- acceptable delay beyond expected cadence (e.g., '48 hours', '60 days')
  typical_lag_days integer,                    -- typical publication lag
  typical_lag_text text,                       -- narrative lag notes
  time_coverage_start date,                    -- earliest date covered (if known)
  time_coverage_end date,                      -- latest historical end date (if not ongoing)

  -- Coverage
  geographic_coverage text,
  coverage text,

  -- Ingestion guidance
  data_fields text,
  embedded_indicators text,
  transformation_notes text,
  fallback_plan text,
  admin_alert_trigger_condition text,

  ingestion_method text,                       -- connector class / approach
  ingestion_owner_agent text,                  -- agent responsible (e.g., ALPHA, BETA, etc)
  dashboard_modules_linked text,               -- modules this source powers
  ai_coach_prompt text,                        -- per-source RAG coach prompt

  glossary_terms_required boolean NOT NULL DEFAULT false,
  multilingual_required boolean NOT NULL DEFAULT false,
  evidence_pack_flag boolean NOT NULL DEFAULT false,

  partnership_required boolean NOT NULL DEFAULT false,
  partnership_action_email text,

  -- YETO usage notes
  yeto_usage text,
  yeto_module text,
  granularity_caveats text,
  notes text,
  tags text,
  origin text,

  -- Operational state
  status source_status NOT NULL DEFAULT 'PENDING_REVIEW',
  active boolean NOT NULL DEFAULT true,

  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_source_tier ON source(tier);
CREATE INDEX idx_source_status ON source(status);
CREATE INDEX idx_source_active ON source(active);
CREATE INDEX idx_source_cadence ON source(cadence);
CREATE INDEX idx_source_sector_category ON source(sector_category);
CREATE INDEX idx_source_institution ON source(institution);

CREATE TRIGGER trg_source_updated_at
BEFORE UPDATE ON source
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE source_endpoint (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  source_id uuid NOT NULL REFERENCES source(id) ON DELETE CASCADE,
  endpoint_name text NOT NULL,
  endpoint_url text NOT NULL,
  method text NOT NULL DEFAULT 'GET',
  headers jsonb,
  query_defaults jsonb,
  auth_required boolean NOT NULL DEFAULT false,
  cadence_hint text,
  is_primary boolean NOT NULL DEFAULT false,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_source_endpoint_source ON source_endpoint(source_id);

-- ---------------------------------------------------------------------------
-- INGESTION / RAW STORAGE
-- ---------------------------------------------------------------------------

CREATE TABLE ingestion_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  source_id uuid NOT NULL REFERENCES source(id) ON DELETE CASCADE,
  run_started_at timestamptz NOT NULL DEFAULT NOW(),
  run_ended_at timestamptz,
  status ingestion_run_status NOT NULL,
  http_status integer,
  error_summary text,
  error_detail text,
  retry_count integer NOT NULL DEFAULT 0,
  rows_ingested bigint,
  objects_written integer,
  metrics jsonb NOT NULL DEFAULT '{}'::jsonb,
  run_context jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_ingestion_run_source ON ingestion_run(source_id);
CREATE INDEX idx_ingestion_run_status ON ingestion_run(status);
CREATE INDEX idx_ingestion_run_started ON ingestion_run(run_started_at DESC);

CREATE TABLE raw_object (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  ingestion_run_id uuid NOT NULL REFERENCES ingestion_run(id) ON DELETE CASCADE,
  object_kind text NOT NULL,                   -- api_json, csv, xlsx, pdf, html, geojson, etc.
  storage_uri text NOT NULL,                   -- s3://bucket/key or local path
  sha256 text NOT NULL,
  bytes bigint,
  content_type text,
  extracted_text text,
  metadata jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE (ingestion_run_id, sha256)
);

CREATE INDEX idx_raw_object_run ON raw_object(ingestion_run_id);

-- ---------------------------------------------------------------------------
-- DATASET / INDICATORS / SERIES / OBSERVATIONS
-- ---------------------------------------------------------------------------

CREATE TABLE dataset (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  dataset_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  description_en text,
  description_ar text,
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  sector text,
  tags text[],
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_dataset_updated_at
BEFORE UPDATE ON dataset
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE dataset_version (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  dataset_id uuid NOT NULL REFERENCES dataset(id) ON DELETE CASCADE,
  version_label text NOT NULL,
  published_at timestamptz,
  effective_from date,
  effective_to date,
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE(dataset_id, version_label)
);

CREATE INDEX idx_dataset_version_dataset ON dataset_version(dataset_id);

CREATE TABLE indicator (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  indicator_code text UNIQUE NOT NULL,         -- internal YETO code
  name_en text NOT NULL,
  name_ar text,
  description_en text,
  description_ar text,
  unit text,
  decimals integer NOT NULL DEFAULT 2,
  frequency indicator_frequency NOT NULL,
  category text,
  methodology_en text,
  methodology_ar text,
  tags text[],
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_indicator_updated_at
BEFORE UPDATE ON indicator
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE series (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  indicator_id uuid NOT NULL REFERENCES indicator(id) ON DELETE CASCADE,
  geo_id uuid REFERENCES geo(id) ON DELETE SET NULL,
  regime regime_tag NOT NULL DEFAULT 'NOT_APPLICABLE',
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  dataset_id uuid REFERENCES dataset(id) ON DELETE SET NULL,
  external_series_code text,
  frequency indicator_frequency NOT NULL,
  value_kind data_value_kind NOT NULL DEFAULT 'NUMERIC',
  currency text,
  unit_override text,
  metadata jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE (indicator_id, geo_id, regime, source_id, external_series_code)
);

CREATE INDEX idx_series_indicator ON series(indicator_id);
CREATE INDEX idx_series_geo ON series(geo_id);
CREATE INDEX idx_series_regime ON series(regime);

CREATE TRIGGER trg_series_updated_at
BEFORE UPDATE ON series
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE observation (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  series_id uuid NOT NULL REFERENCES series(id) ON DELETE CASCADE,
  obs_date date NOT NULL,
  period_start date,
  period_end date,
  value_numeric numeric,
  value_text text,
  value_json jsonb,
  is_estimate boolean NOT NULL DEFAULT false,
  confidence numeric,                          -- 0..1
  source_id uuid NOT NULL REFERENCES source(id) ON DELETE RESTRICT,
  ingestion_run_id uuid NOT NULL REFERENCES ingestion_run(id) ON DELETE RESTRICT,
  vintage_date date NOT NULL DEFAULT CURRENT_DATE,
  revision_no integer NOT NULL DEFAULT 0,
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE (series_id, obs_date, vintage_date, revision_no)
);

CREATE INDEX idx_observation_series_date ON observation(series_id, obs_date);
CREATE INDEX idx_observation_vintage ON observation(vintage_date);
CREATE INDEX idx_observation_source ON observation(source_id);

-- Daily calendar anchor (for "every day since 2010" timelines)
CREATE TABLE calendar_day (
  day date PRIMARY KEY,
  iso_year integer NOT NULL,
  iso_week integer NOT NULL,
  month integer NOT NULL,
  quarter integer NOT NULL,
  day_of_week integer NOT NULL,
  is_weekend boolean NOT NULL,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

-- ---------------------------------------------------------------------------
-- DOCUMENT LIBRARY / RESEARCH HUB
-- ---------------------------------------------------------------------------

CREATE TABLE document (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  doc_kind doc_kind NOT NULL,
  title_en text NOT NULL,
  title_ar text,
  publisher text,
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  published_at date,
  retrieved_at timestamptz NOT NULL DEFAULT NOW(),
  url text,
  storage_uri text,
  language_original lang_code,
  license text,
  sha256 text,
  summary_en text,
  summary_ar text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_document_source ON document(source_id);
CREATE INDEX idx_document_published ON document(published_at);

CREATE TRIGGER trg_document_updated_at
BEFORE UPDATE ON document
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE document_text_chunk (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  document_id uuid NOT NULL REFERENCES document(id) ON DELETE CASCADE,
  chunk_index integer NOT NULL,
  page_start integer,
  page_end integer,
  text_en text,
  text_ar text,
  embedding vector(1536),
  citations jsonb NOT NULL DEFAULT '[]'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE (document_id, chunk_index)
);

CREATE INDEX idx_doc_chunk_doc ON document_text_chunk(document_id);

-- ---------------------------------------------------------------------------
-- EVENTS (timeline)
-- ---------------------------------------------------------------------------

CREATE TABLE event (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  event_type text NOT NULL,
  title_en text NOT NULL,
  title_ar text,
  event_date date NOT NULL,
  geo_id uuid REFERENCES geo(id) ON DELETE SET NULL,
  description_en text,
  description_ar text,
  severity severity_level NOT NULL DEFAULT 'MEDIUM',
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  citations jsonb NOT NULL DEFAULT '[]'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_event_date ON event(event_date);
CREATE INDEX idx_event_type ON event(event_type);

CREATE TRIGGER trg_event_updated_at
BEFORE UPDATE ON event
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- CONTENT (reports, updates, dashboard narratives) + evidence
-- ---------------------------------------------------------------------------

CREATE TABLE content_item (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  content_type text NOT NULL,
  title_en text NOT NULL,
  title_ar text,
  body_en text,
  body_ar text,
  visibility content_visibility NOT NULL DEFAULT 'PUBLIC',
  status content_status NOT NULL DEFAULT 'DRAFT',
  period_start date,
  period_end date,
  evidence_set_hash text,
  created_by uuid REFERENCES user_account(id) ON DELETE SET NULL,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  published_at timestamptz
);

CREATE INDEX idx_content_status ON content_item(status);
CREATE INDEX idx_content_visibility ON content_item(visibility);
CREATE INDEX idx_content_published ON content_item(published_at DESC);

CREATE TRIGGER trg_content_item_updated_at
BEFORE UPDATE ON content_item
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE content_evidence (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  content_item_id uuid NOT NULL REFERENCES content_item(id) ON DELETE CASCADE,
  claim_text text NOT NULL,
  lang lang_code NOT NULL,
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  document_id uuid REFERENCES document(id) ON DELETE SET NULL,
  url text,
  page_ref text,
  extracted_quote text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_content_evidence_item ON content_evidence(content_item_id);

-- ---------------------------------------------------------------------------
-- MULTI-AGENT APPROVAL ENGINE
-- ---------------------------------------------------------------------------

CREATE TABLE agent (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  agent_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  description text,
  is_active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TABLE agent_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  agent_id uuid NOT NULL REFERENCES agent(id) ON DELETE CASCADE,
  content_item_id uuid NOT NULL REFERENCES content_item(id) ON DELETE CASCADE,
  stage approval_stage NOT NULL,
  result approval_result NOT NULL,
  score numeric,
  notes text,
  output jsonb NOT NULL DEFAULT '{}'::jsonb,
  run_started_at timestamptz NOT NULL DEFAULT NOW(),
  run_ended_at timestamptz,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_agent_run_content ON agent_run(content_item_id);
CREATE INDEX idx_agent_run_stage ON agent_run(stage);

CREATE TABLE uniqueness_check (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  content_item_id uuid NOT NULL REFERENCES content_item(id) ON DELETE CASCADE,
  compared_to jsonb NOT NULL DEFAULT '[]'::jsonb,
  similarity_score numeric NOT NULL,
  method text NOT NULL,
  pass boolean NOT NULL,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TABLE approval_policy (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  content_type text UNIQUE NOT NULL,
  approval_mode text NOT NULL DEFAULT 'AI_ONLY',
  min_citations integer NOT NULL DEFAULT 3,
  min_evidence_coverage numeric NOT NULL DEFAULT 0.95,
  max_similarity_score numeric NOT NULL DEFAULT 0.25,
  max_variance_flag numeric NOT NULL DEFAULT 0.15,
  rules jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_approval_policy_updated_at
BEFORE UPDATE ON approval_policy
FOR EACH ROW EXECUTE FUNCTION set_updated_at();


-- ---------------------------------------------------------------------------
-- COMPLIANCE / SANCTIONS SCREENING (safe-by-design, audit-logged)
-- ---------------------------------------------------------------------------

CREATE TABLE compliance_list (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name_en text NOT NULL,
  name_ar text,
  list_type text NOT NULL, -- SANCTIONS | WATCHLIST | OTHER
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  license text,
  url text,
  last_refreshed_at timestamptz,
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_compliance_list_type ON compliance_list(list_type);

CREATE TRIGGER trg_compliance_list_updated_at
BEFORE UPDATE ON compliance_list
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE compliance_entity (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  compliance_list_id uuid NOT NULL REFERENCES compliance_list(id) ON DELETE CASCADE,
  entity_name text NOT NULL,
  entity_name_ar text,
  aliases text[] NOT NULL DEFAULT ARRAY[]::text[],
  entity_type text,
  country text,
  identifiers jsonb NOT NULL DEFAULT '{}'::jsonb,
  risk_notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_compliance_entity_list ON compliance_entity(compliance_list_id);
CREATE INDEX idx_compliance_entity_name ON compliance_entity(entity_name);

CREATE TRIGGER trg_compliance_entity_updated_at
BEFORE UPDATE ON compliance_entity
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE screening_event (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  requested_by uuid REFERENCES user_account(id) ON DELETE SET NULL,
  query_text text NOT NULL,
  query_params jsonb NOT NULL DEFAULT '{}'::jsonb,
  results_summary jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_screening_event_time ON screening_event(created_at DESC);


-- ---------------------------------------------------------------------------
-- GOVERNANCE: GAPS, CORRECTIONS, AUDIT
-- ---------------------------------------------------------------------------

CREATE TABLE gap_ticket (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  gap_type text NOT NULL,
  title text NOT NULL,
  description text,
  severity severity_level NOT NULL DEFAULT 'MEDIUM',
  status gap_ticket_status NOT NULL DEFAULT 'OPEN',
  related_source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  related_indicator_id uuid REFERENCES indicator(id) ON DELETE SET NULL,
  related_series_id uuid REFERENCES series(id) ON DELETE SET NULL,
  related_module text,
  opened_by uuid REFERENCES user_account(id) ON DELETE SET NULL,
  opened_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  resolved_at timestamptz,
  resolution_notes text
);

CREATE INDEX idx_gap_ticket_status ON gap_ticket(status);
CREATE INDEX idx_gap_ticket_severity ON gap_ticket(severity);

CREATE TRIGGER trg_gap_ticket_updated_at
BEFORE UPDATE ON gap_ticket
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE correction_log (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  entity_type text NOT NULL,
  entity_id uuid NOT NULL,
  field_name text NOT NULL,
  old_value text,
  new_value text,
  reason text,
  corrected_by uuid REFERENCES user_account(id) ON DELETE SET NULL,
  corrected_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TABLE audit_log (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  actor_user_id uuid REFERENCES user_account(id) ON DELETE SET NULL,
  actor_type text NOT NULL,
  action text NOT NULL,
  entity_type text NOT NULL,
  entity_id uuid,
  metadata jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_audit_log_entity ON audit_log(entity_type, entity_id);
CREATE INDEX idx_audit_log_time ON audit_log(created_at DESC);


-- ---------------------------------------------------------------------------
-- PROVENANCE LEDGER + CONTRADICTIONS (evidence transformations & disagreements)
-- ---------------------------------------------------------------------------

CREATE TABLE provenance_ledger (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  action text NOT NULL,                         -- INGEST | NORMALIZE | TRANSFORM | AGGREGATE | DERIVE | VALIDATE | PUBLISH
  input_refs jsonb NOT NULL DEFAULT '{}'::jsonb, -- {sources:[...], datasets:[...], documents:[...], series:[...], observations:[...]}
  output_refs jsonb NOT NULL DEFAULT '{}'::jsonb,
  formula text,
  parameters jsonb NOT NULL DEFAULT '{}'::jsonb,
  source_ids text[] NOT NULL DEFAULT ARRAY[]::text[],     -- SRC-IDs involved
  ingestion_run_id uuid REFERENCES ingestion_run(id) ON DELETE SET NULL,
  agent_run_id uuid REFERENCES agent_run(id) ON DELETE SET NULL,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_prov_action ON provenance_ledger(action);
CREATE INDEX idx_prov_ingestion ON provenance_ledger(ingestion_run_id);
CREATE INDEX idx_prov_agent_run ON provenance_ledger(agent_run_id);

CREATE TABLE contradiction (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  series_id uuid REFERENCES series(id) ON DELETE SET NULL,
  observation_ids uuid[] NOT NULL DEFAULT ARRAY[]::uuid[],
  description text NOT NULL,
  detected_by_agent uuid REFERENCES agent(id) ON DELETE SET NULL,
  detected_at timestamptz NOT NULL DEFAULT NOW(),
  status contradiction_status NOT NULL DEFAULT 'OPEN',
  resolution_summary text,
  resolved_at timestamptz,
  resolved_by uuid REFERENCES user_account(id) ON DELETE SET NULL
);

CREATE INDEX idx_contradiction_status ON contradiction(status);
CREATE INDEX idx_contradiction_series ON contradiction(series_id);

CREATE TABLE contradiction_resolution (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  contradiction_id uuid NOT NULL REFERENCES contradiction(id) ON DELETE CASCADE,
  resolution text NOT NULL,
  resolved_by uuid REFERENCES user_account(id) ON DELETE SET NULL,
  resolved_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_contradiction_resolution_contradiction ON contradiction_resolution(contradiction_id);

-- ---------------------------------------------------------------------------
-- GLOSSARY + UI STRINGS (BILINGUAL)
-- ---------------------------------------------------------------------------

CREATE TABLE glossary_term (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  term_key text UNIQUE NOT NULL,
  term_en text NOT NULL,
  term_ar text,
  definition_en text,
  definition_ar text,
  notes text,
  tags text[],
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_glossary_term_updated_at
BEFORE UPDATE ON glossary_term
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE ui_string (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  string_key text UNIQUE NOT NULL,
  text_en text NOT NULL,
  text_ar text,
  context text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_ui_string_updated_at
BEFORE UPDATE ON ui_string
FOR EACH ROW EXECUTE FUNCTION set_updated_at();


-- ---------------------------------------------------------------------------
-- CANONICAL NAMES REGISTRY (EN/AR term standardization & aliasing)
-- ---------------------------------------------------------------------------

CREATE TABLE canonical_names_registry (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  canonical_key text UNIQUE NOT NULL,   -- e.g., FX_RESERVES, CBY_ADEN, CBY_SANAA
  entity_type text,                    -- INDICATOR | INSTITUTION | GEO | PROGRAM | OTHER
  name_en text NOT NULL,
  name_ar text,
  aliases_en text[] NOT NULL DEFAULT ARRAY[]::text[],
  aliases_ar text[] NOT NULL DEFAULT ARRAY[]::text[],
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_canonical_names_entity_type ON canonical_names_registry(entity_type);

CREATE TRIGGER trg_canonical_names_updated_at
BEFORE UPDATE ON canonical_names_registry
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- STAKEHOLDER REGISTRY
-- ---------------------------------------------------------------------------

CREATE TABLE stakeholder (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name_en text NOT NULL,
  name_ar text,
  category stakeholder_category NOT NULL,
  regime regime_tag NOT NULL DEFAULT 'NOT_APPLICABLE',
  what_they_control text,
  incentives text,
  constraints text,
  typical_decision_horizon text,
  indicators_they_watch text,
  thresholds_that_move_decisions text,
  preferred_outputs text,
  contact_channel text,           -- organization channel only (no PII)
  website_url text,
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_stakeholder_category ON stakeholder(category);

CREATE TRIGGER trg_stakeholder_updated_at
BEFORE UPDATE ON stakeholder
FOR EACH ROW EXECUTE FUNCTION set_updated_at();


-- ---------------------------------------------------------------------------
-- PROJECTS (optional – for 3W / aid programming integration)
-- ---------------------------------------------------------------------------

CREATE TABLE project (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  project_code text,                          -- external id if available (e.g., OCHA 3W)
  name_en text NOT NULL,
  name_ar text,
  sector text,
  sub_sector text,
  donor_stakeholder_id uuid REFERENCES stakeholder(id) ON DELETE SET NULL,
  implementer_stakeholder_id uuid REFERENCES stakeholder(id) ON DELETE SET NULL,
  start_date date,
  end_date date,
  budget_amount numeric,
  budget_currency text,
  geo_ids uuid[] NOT NULL DEFAULT ARRAY[]::uuid[],
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  status text NOT NULL DEFAULT 'ACTIVE',
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_project_sector ON project(sector);
CREATE INDEX idx_project_dates ON project(start_date, end_date);

CREATE TRIGGER trg_project_updated_at
BEFORE UPDATE ON project
FOR EACH ROW EXECUTE FUNCTION set_updated_at();


-- ---------------------------------------------------------------------------
-- PUBLICATION STREAMS (scheduled reporting)
-- ---------------------------------------------------------------------------

CREATE TABLE publication_stream (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  stream_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  cadence_cron text NOT NULL,
  is_active boolean NOT NULL DEFAULT true,
  default_visibility content_visibility NOT NULL DEFAULT 'PUBLIC',
  default_languages lang_code[] NOT NULL DEFAULT ARRAY['EN','AR']::lang_code[],
  prompt_template text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_publication_stream_updated_at
BEFORE UPDATE ON publication_stream
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE publication_job (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  stream_id uuid NOT NULL REFERENCES publication_stream(id) ON DELETE CASCADE,
  period_start date NOT NULL,
  period_end date NOT NULL,
  scheduled_for timestamptz NOT NULL,
  status publication_job_status NOT NULL DEFAULT 'SCHEDULED',
  content_item_id uuid REFERENCES content_item(id) ON DELETE SET NULL,
  run_log jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_publication_job_stream ON publication_job(stream_id);
CREATE INDEX idx_publication_job_status ON publication_job(status);

CREATE TRIGGER trg_publication_job_updated_at
BEFORE UPDATE ON publication_job
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- DATA PIPELINES (explicit definitions + run logs) 
-- Aligns to YETO pipeline figure:
--   PIPE_REGISTRY_LINT, PIPE_RAW_INGEST, PIPE_NORMALIZE,
--   PIPE_SEARCH_INDEX, PIPE_RAG_VECTOR_INDEX, PIPE_MONITORING, PIPE_SECURITY_RBAC
-- ---------------------------------------------------------------------------

CREATE TYPE pipeline_status AS ENUM ('PLANNED','ACTIVE','PAUSED','DEPRECATED');

CREATE TABLE pipeline_definition (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  pipeline_key text UNIQUE NOT NULL,             -- e.g., PIPE_RAW_INGEST
  name_en text NOT NULL,
  name_ar text,
  description text,
  cadence indicator_frequency,
  lag_tolerance_days integer,
  owner_agent text,                              -- e.g., AGENT_ALPHA
  inputs text,
  outputs text,
  quality_checks text,
  security_notes text,
  status pipeline_status NOT NULL DEFAULT 'ACTIVE',
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_pipeline_definition_status ON pipeline_definition(status);
CREATE INDEX idx_pipeline_definition_key ON pipeline_definition(pipeline_key);

CREATE TRIGGER trg_pipeline_definition_updated_at
BEFORE UPDATE ON pipeline_definition
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE pipeline_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  pipeline_id uuid NOT NULL REFERENCES pipeline_definition(id) ON DELETE CASCADE,
  started_at timestamptz NOT NULL DEFAULT NOW(),
  finished_at timestamptz,
  status job_status NOT NULL DEFAULT 'QUEUED',
  triggered_by text,                             -- scheduler | manual | agent
  related_ingestion_run_id uuid REFERENCES ingestion_run(id) ON DELETE SET NULL,
  metrics jsonb NOT NULL DEFAULT '{}'::jsonb,
  logs_url text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_pipeline_run_pipeline_time ON pipeline_run(pipeline_id, started_at DESC);
CREATE INDEX idx_pipeline_run_status ON pipeline_run(status);

-- ---------------------------------------------------------------------------
-- DATA QUALITY / ANOMALY DETECTION
-- Automated flags: spikes, breaks, missing months, unit shifts, duplicates,
-- regime mixing, contradiction drift, staleness.
-- ---------------------------------------------------------------------------

CREATE TYPE dq_rule_type AS ENUM (
  'SCHEMA',
  'RANGE',
  'COMPLETENESS',
  'DUPLICATE',
  'OUTLIER',
  'STRUCTURAL_BREAK',
  'UNIT_SHIFT',
  'REGIME_MIXING',
  'CONTRADICTION',
  'STALE',
  'PARSING',
  'LICENSING'
);

CREATE TYPE dq_issue_status AS ENUM ('OPEN','ACKNOWLEDGED','FIXED','FALSE_POSITIVE','IGNORED');

CREATE TABLE dq_rule (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  rule_code text UNIQUE NOT NULL,                -- e.g., DQ_MISSING_MONTHS
  name_en text NOT NULL,
  description text,
  rule_type dq_rule_type NOT NULL,
  default_severity severity_level NOT NULL DEFAULT 'MEDIUM',
  params jsonb NOT NULL DEFAULT '{}'::jsonb,
  active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_dq_rule_type ON dq_rule(rule_type);
CREATE INDEX idx_dq_rule_active ON dq_rule(active);

CREATE TRIGGER trg_dq_rule_updated_at
BEFORE UPDATE ON dq_rule
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE dq_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  run_scope text NOT NULL,                        -- SOURCE | SERIES | DATASET_VERSION | FULL
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  series_id uuid REFERENCES series(id) ON DELETE SET NULL,
  dataset_version_id uuid REFERENCES dataset_version(id) ON DELETE SET NULL,
  pipeline_run_id uuid REFERENCES pipeline_run(id) ON DELETE SET NULL,
  started_at timestamptz NOT NULL DEFAULT NOW(),
  finished_at timestamptz,
  status job_status NOT NULL DEFAULT 'QUEUED',
  metrics jsonb NOT NULL DEFAULT '{}'::jsonb,
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_dq_run_started_at ON dq_run(started_at DESC);
CREATE INDEX idx_dq_run_status ON dq_run(status);

CREATE TABLE dq_issue (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  dq_run_id uuid NOT NULL REFERENCES dq_run(id) ON DELETE CASCADE,
  dq_rule_id uuid NOT NULL REFERENCES dq_rule(id) ON DELETE RESTRICT,
  source_id uuid REFERENCES source(id) ON DELETE SET NULL,
  indicator_id uuid REFERENCES indicator(id) ON DELETE SET NULL,
  series_id uuid REFERENCES series(id) ON DELETE SET NULL,
  observation_id uuid REFERENCES observation(id) ON DELETE SET NULL,
  issue_status dq_issue_status NOT NULL DEFAULT 'OPEN',
  severity severity_level NOT NULL DEFAULT 'MEDIUM',
  message text NOT NULL,
  details jsonb NOT NULL DEFAULT '{}'::jsonb,
  opened_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  resolved_at timestamptz,
  resolution_notes text
);

CREATE INDEX idx_dq_issue_status ON dq_issue(issue_status);
CREATE INDEX idx_dq_issue_severity ON dq_issue(severity);
CREATE INDEX idx_dq_issue_opened ON dq_issue(opened_at DESC);

CREATE TRIGGER trg_dq_issue_updated_at
BEFORE UPDATE ON dq_issue
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- INDICATOR DICTIONARY + METHODOLOGY LEDGER (game-changer: credibility)
-- Every indicator must have: definition, unit, transformation, caveats, and citations.
-- ---------------------------------------------------------------------------

CREATE TABLE indicator_dictionary_entry (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  indicator_id uuid NOT NULL REFERENCES indicator(id) ON DELETE CASCADE,
  definition_en text,
  definition_ar text,
  unit text,
  transformation_notes text,
  caveats_en text,
  caveats_ar text,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE(indicator_id)
);

CREATE TRIGGER trg_indicator_dictionary_entry_updated_at
BEFORE UPDATE ON indicator_dictionary_entry
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE indicator_methodology_version (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  indicator_id uuid NOT NULL REFERENCES indicator(id) ON DELETE CASCADE,
  version integer NOT NULL,
  effective_from date,
  effective_to date,
  methodology_en text,
  methodology_ar text,
  citations jsonb NOT NULL DEFAULT '[]'::jsonb,   -- [{src_id, url, document_id, page_range, note}]
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE(indicator_id, version)
);

CREATE INDEX idx_indicator_methodology_indicator ON indicator_methodology_version(indicator_id);

CREATE TRIGGER trg_indicator_methodology_version_updated_at
BEFORE UPDATE ON indicator_methodology_version
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- VINTAGE MARKERS (supports "As-Of" mode as a first-class citizen)
-- ---------------------------------------------------------------------------

CREATE TABLE vintage_marker (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  vintage_date date UNIQUE NOT NULL,             -- snapshot date (what did we know then?)
  label text,                                    -- e.g., "2026-01 Monthly Refresh"
  notes text,
  created_at timestamptz NOT NULL DEFAULT NOW()
);


-- ---------------------------------------------------------------------------
-- USER ALERTS / EXPORTS / SAVED VIEWS / ASSISTANT LOGS / SCENARIO + REPORT RUNS
-- These tables make the "institution-grade platform" features auditable and durable.
-- ---------------------------------------------------------------------------

CREATE TABLE alert_rule (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL REFERENCES user_account(id) ON DELETE CASCADE,
  rule_key text,                                -- optional stable key
  name text NOT NULL,
  description text,
  conditions jsonb NOT NULL DEFAULT '{}'::jsonb, -- e.g., {"series_id":..., "type":"threshold", "gt":...}
  notify_channels jsonb NOT NULL DEFAULT '{}'::jsonb, -- e.g., {"email":true,"in_app":true}
  is_active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE(user_id, rule_key)
);

CREATE INDEX idx_alert_rule_user_active ON alert_rule(user_id, is_active);

CREATE TRIGGER trg_alert_rule_updated_at
BEFORE UPDATE ON alert_rule
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE alert_event (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  rule_id uuid NOT NULL REFERENCES alert_rule(id) ON DELETE CASCADE,
  triggered_at timestamptz NOT NULL DEFAULT NOW(),
  severity severity_level NOT NULL DEFAULT 'MEDIUM',
  message text NOT NULL,
  details jsonb NOT NULL DEFAULT '{}'::jsonb,
  is_seen boolean NOT NULL DEFAULT false,
  seen_at timestamptz,
  acknowledged_at timestamptz
);

CREATE INDEX idx_alert_event_rule_time ON alert_event(rule_id, triggered_at DESC);
CREATE INDEX idx_alert_event_seen ON alert_event(is_seen);

-- ---------------------------------------------------------------------------
-- Exports (CSV/XLSX/PDF/PNG/SVG/JSON) – audit every export request
-- ---------------------------------------------------------------------------
CREATE TABLE export_job (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid REFERENCES user_account(id) ON DELETE SET NULL,
  export_type text NOT NULL,                    -- csv | xlsx | pdf | png | svg | json
  parameters jsonb NOT NULL DEFAULT '{}'::jsonb,
  requested_at timestamptz NOT NULL DEFAULT NOW(),
  completed_at timestamptz,
  status job_status NOT NULL DEFAULT 'QUEUED',
  output_document_id uuid REFERENCES document(id) ON DELETE SET NULL,
  error_message text
);

CREATE INDEX idx_export_job_user_time ON export_job(user_id, requested_at DESC);
CREATE INDEX idx_export_job_status ON export_job(status);

-- ---------------------------------------------------------------------------
-- Saved Views (user presets for dashboards / comparisons / filters)
-- ---------------------------------------------------------------------------
CREATE TABLE saved_view (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid NOT NULL REFERENCES user_account(id) ON DELETE CASCADE,
  view_key text NOT NULL,
  name text NOT NULL,
  route text NOT NULL,
  query_params jsonb NOT NULL DEFAULT '{}'::jsonb,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW(),
  UNIQUE(user_id, view_key)
);

CREATE TRIGGER trg_saved_view_updated_at
BEFORE UPDATE ON saved_view
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

-- ---------------------------------------------------------------------------
-- Assistant Sessions (store user questions + assistant answers + citations)
-- ---------------------------------------------------------------------------
CREATE TYPE assistant_message_role AS ENUM ('USER','ASSISTANT','SYSTEM','TOOL');

CREATE TABLE assistant_session (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid REFERENCES user_account(id) ON DELETE SET NULL,
  title text,
  context jsonb NOT NULL DEFAULT '{}'::jsonb,
  started_at timestamptz NOT NULL DEFAULT NOW(),
  ended_at timestamptz,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_assistant_session_updated_at
BEFORE UPDATE ON assistant_session
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE assistant_message (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  session_id uuid NOT NULL REFERENCES assistant_session(id) ON DELETE CASCADE,
  role assistant_message_role NOT NULL,
  content text NOT NULL,
  citations jsonb NOT NULL DEFAULT '[]'::jsonb,  -- [{src_id, document_id, page_range, url}]
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_assistant_message_session_time ON assistant_message(session_id, created_at);

-- ---------------------------------------------------------------------------
-- Scenario Simulator (store templates + runs; avoids losing analytic provenance)
-- ---------------------------------------------------------------------------
CREATE TABLE scenario_template (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  template_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  description text,
  model_type text NOT NULL,                      -- what_if | shock | counterfactual | elasticity
  baseline_definition jsonb NOT NULL DEFAULT '{}'::jsonb,
  inputs_schema jsonb NOT NULL DEFAULT '{}'::jsonb,
  output_schema jsonb NOT NULL DEFAULT '{}'::jsonb,
  is_active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_scenario_template_updated_at
BEFORE UPDATE ON scenario_template
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE scenario_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid REFERENCES user_account(id) ON DELETE SET NULL,
  template_id uuid REFERENCES scenario_template(id) ON DELETE SET NULL,
  run_name text,
  inputs jsonb NOT NULL DEFAULT '{}'::jsonb,
  outputs jsonb NOT NULL DEFAULT '{}'::jsonb,
  status job_status NOT NULL DEFAULT 'QUEUED',
  started_at timestamptz NOT NULL DEFAULT NOW(),
  finished_at timestamptz,
  created_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE INDEX idx_scenario_run_user_time ON scenario_run(user_id, created_at DESC);
CREATE INDEX idx_scenario_run_status ON scenario_run(status);

-- ---------------------------------------------------------------------------
-- Report Generator (templates + runs; outputs stored as documents)
-- ---------------------------------------------------------------------------
CREATE TABLE report_template (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  template_key text UNIQUE NOT NULL,
  name_en text NOT NULL,
  name_ar text,
  description text,
  sections jsonb NOT NULL DEFAULT '[]'::jsonb,
  is_active boolean NOT NULL DEFAULT true,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  updated_at timestamptz NOT NULL DEFAULT NOW()
);

CREATE TRIGGER trg_report_template_updated_at
BEFORE UPDATE ON report_template
FOR EACH ROW EXECUTE FUNCTION set_updated_at();

CREATE TABLE report_run (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id uuid REFERENCES user_account(id) ON DELETE SET NULL,
  template_id uuid REFERENCES report_template(id) ON DELETE SET NULL,
  parameters jsonb NOT NULL DEFAULT '{}'::jsonb,
  status job_status NOT NULL DEFAULT 'QUEUED',
  started_at timestamptz NOT NULL DEFAULT NOW(),
  finished_at timestamptz,
  output_document_id uuid REFERENCES document(id) ON DELETE SET NULL,
  created_at timestamptz NOT NULL DEFAULT NOW(),
  error_message text
);

CREATE INDEX idx_report_run_user_time ON report_run(user_id, created_at DESC);
CREATE INDEX idx_report_run_status ON report_run(status);


COMMIT;

```

## [FILE: db/seed.sql]
```sql
-- ============================================================================
-- YETO Seed Data (ULTIMATE – Jan 2026)
-- Compatible with: yeto_postgres_schema_ultimate.sql
--
-- Usage:
--   psql "$DATABASE_URL" -f db/schema.sql
--   psql "$DATABASE_URL" -f db/seed.sql
--
-- IMPORTANT:
--  - This seed does NOT fabricate Yemen statistics. It only inserts system metadata,
--    pipelines/rules, and the 225-source registry from CSV.
-- ============================================================================

\set ON_ERROR_STOP on

BEGIN;

SET search_path = yeto, public;

-- ---------------------------------------------------------------------------
-- GEO (minimal)
-- ---------------------------------------------------------------------------
INSERT INTO geo (geo_type, code, name_en, name_ar)
VALUES ('COUNTRY','YEM','Yemen','اليمن')
ON CONFLICT (geo_type, code) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Calendar Day Index (2010-01-01 → 2050-12-31)
-- Used for completeness, gap detection, and daily timeline navigation.
-- ---------------------------------------------------------------------------
INSERT INTO calendar_day (day, iso_year, iso_week, month, quarter, day_of_week, is_weekend)
SELECT
  d::date AS day,
  EXTRACT(ISOYEAR FROM d)::int AS iso_year,
  EXTRACT(WEEK FROM d)::int AS iso_week,
  EXTRACT(MONTH FROM d)::int AS month,
  EXTRACT(QUARTER FROM d)::int AS quarter,
  EXTRACT(ISODOW FROM d)::int AS day_of_week,
  (EXTRACT(ISODOW FROM d) IN (6,7)) AS is_weekend
FROM generate_series('2010-01-01'::date, '2050-12-31'::date, interval '1 day') AS d
ON CONFLICT (day) DO NOTHING;

-- ---------------------------------------------------------------------------
-- RBAC Roles
-- ---------------------------------------------------------------------------
INSERT INTO role (role_key, description) VALUES
  ('public', 'Unauthenticated public visitor (read-only, rate-limited).'),
  ('registered', 'Registered user (basic access).'),
  ('pro', 'Professional subscriber (advanced analytics, exports, API).'),
  ('enterprise', 'Institutional subscriber (team features, bulk exports, advanced API).'),
  ('partner_contributor', 'Verified partner contributor (submit sources/evidence; no PII).'),
  ('editor', 'Editorial reviewer (edit/publish content subject to governance pipeline).'),
  ('data_steward', 'Data steward (manage source registry, ingestion, QA, gap tickets).'),
  ('compliance_officer', 'Compliance analyst (sanctions/compliance module).'),
  ('admin', 'System administrator (RBAC, config, governance dashboard).'),
  ('owner', 'Owner override (OWNER_REVIEW_MODE on staging only).')
ON CONFLICT (role_key) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Subscription Plans (feature flags enforced in both backend and UI)
-- ---------------------------------------------------------------------------
INSERT INTO subscription_plan (plan_key, name_en, name_ar, features, is_public)
VALUES
  ('public', 'Public', 'عام',
    '{"dashboards":true,"research":true,"downloads":{"csv":false,"xlsx":false,"pdf":false,"png":false,"svg":false,"json":false},"api":{"enabled":false},"alerts":{"enabled":false},"workspace":false,"scenario_sim":false,"assistant":false}'::jsonb,
    true),
  ('registered', 'Registered', 'مسجل',
    '{"dashboards":true,"research":true,"downloads":{"csv":true,"xlsx":false,"pdf":false,"png":false,"svg":false,"json":false},"api":{"enabled":false},"alerts":{"enabled":true,"max":5},"workspace":true,"scenario_sim":false,"assistant":false}'::jsonb,
    true),
  ('pro', 'Pro', 'احترافي',
    '{"dashboards":true,"research":true,"downloads":{"csv":true,"xlsx":true,"pdf":true,"png":true,"svg":true,"json":true},"api":{"enabled":true,"daily_limit":5000},"alerts":{"enabled":true,"max":50},"workspace":true,"scenario_sim":true,"assistant":true}'::jsonb,
    false),
  ('enterprise', 'Enterprise', 'مؤسسي',
    '{"dashboards":true,"research":true,"downloads":{"csv":true,"xlsx":true,"pdf":true,"png":true,"svg":true,"json":true},"api":{"enabled":true,"daily_limit":100000},"alerts":{"enabled":true,"max":500},"workspace":true,"scenario_sim":true,"assistant":true,"team":true,"sso":true,"scheduled_exports":true}'::jsonb,
    false)
ON CONFLICT (plan_key) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Agents (merged: Alpha→Zeta pipeline + extended editorial/standards gates)
-- ---------------------------------------------------------------------------
INSERT INTO agent (agent_key, name_en, name_ar, description)
VALUES
  ('AGENT_ALPHA_INGESTION','Agent Alpha – Ingestion','الوكيل ألفا – الاستخلاص','Autonomous fetchers/connectors for all registry sources; writes raw ingests + logs.'),
  ('AGENT_BETA_EVIDENCE','Agent Beta – Evidence','الوكيل بيتا – التوثيق','Validates provenance: every claim/number must match a Source ID and/or document citation.'),
  ('AGENT_GAMMA_TRIANGULATION','Agent Gamma – Triangulation','الوكيل غاما – المطابقة','Cross-checks peers (e.g., WB vs IMF). Flags variance >15% unless explained/cited.'),
  ('AGENT_DELTA_COMPLIANCE','Agent Delta – Compliance','الوكيل دلتا – الامتثال','Sanctions/compliance screening (UN/OFAC/EU/UK). No PII. Do-No-Harm checks.'),
  ('AGENT_EPSILON_EDITORIAL','Agent Epsilon – Editorial','الوكيل إبسلون – التحرير','Neutral-technical voice; bilingual parity; avoids political bias.'),
  ('AGENT_ZETA_UNIQUENESS','Agent Zeta – Uniqueness','الوكيل زيتا – التفرد','Ensures reports are structurally unique month-to-month; prevents template repetition.'),
  ('ADMIN_OVERRIDE','Admin Override','تجاوز المشرف','Human admin can pause streams, edit gap tickets, force re-run (audit-logged).'),

  -- Additional specialized gates (kept for institutional-grade polish)
  ('AGENT_AR_EDITOR','Arabic Editor','محرر العربية','Ensures Arabic (RTL) quality, glossary compliance, professional tone.'),
  ('AGENT_EN_EDITOR','English Editor','محرر الإنجليزية','Ensures English clarity, consistent voice, professional neutrality.'),
  ('AGENT_STANDARDS','Standards & Branding','وكيل المعايير','Enforces UI/content standards: no placeholders, no vendor logos, no AI vendor names.'),
  ('AGENT_FINAL_APPROVAL','Final Approver','وكيل الاعتماد النهائي','Final gate: publish only if all prior stages pass.')
ON CONFLICT (agent_key) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Default publication streams (cadence is configurable)
-- ---------------------------------------------------------------------------
INSERT INTO publication_stream (stream_key, name_en, name_ar, cadence_cron, is_active, default_visibility, default_languages)
VALUES
  ('daily_brief','Daily Brief','الإحاطة اليومية','0 6 * * *', true, 'PUBLIC', ARRAY['EN','AR']::lang_code[]),
  ('weekly_update','Weekly Update','التحديث الأسبوعي','0 7 * * 1', true, 'PUBLIC', ARRAY['EN','AR']::lang_code[]),
  ('monthly_economic_update','Monthly Economic Update','التقرير الاقتصادي الشهري','0 8 3 * *', true, 'PREMIUM', ARRAY['EN','AR']::lang_code[]),
  ('quarterly_review','Quarterly Review','المراجعة الفصلية','0 8 10 */3 *', true, 'PREMIUM', ARRAY['EN','AR']::lang_code[]),
  ('annual_review','Annual Review','التقرير السنوي','0 9 15 1 *', true, 'PREMIUM', ARRAY['EN','AR']::lang_code[])
ON CONFLICT (stream_key) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Pipeline Definitions (explicit, auditable)
-- ---------------------------------------------------------------------------
INSERT INTO pipeline_definition (pipeline_key, name_en, name_ar, description, cadence, lag_tolerance_days, owner_agent, inputs, outputs, quality_checks, security_notes, status)
VALUES
  ('PIPE_REGISTRY_LINT','Registry Lint','تدقيق سجل المصادر','Validates the registry metadata: required columns, URL health, status coherence, tier rules, duplicates.', 'DAILY', 2, 'AGENT_ALPHA_INGESTION',
   'source registry rows', 'registry lint report + gap tickets', 'schema checks; duplicate checks; required fields', 'no secrets in registry; sanitize logs', 'ACTIVE'),
  ('PIPE_RAW_INGEST','Raw Ingest','الاستخلاص الخام','Fetches raw data and documents from sources into immutable raw storage; logs provenance.', NULL, NULL, 'AGENT_ALPHA_INGESTION',
   'source endpoints', 'raw objects + raw tables', 'checksum; size sanity; mime detection', 'respect licensing; do-not-scrape restricted', 'ACTIVE'),
  ('PIPE_NORMALIZE','Normalize','التوحيد','Transforms raw ingests into standardized datasets (ISO dates, units, currencies) and writes observations with provenance.', NULL, NULL, 'AGENT_BETA_EVIDENCE',
   'raw tables', 'dataset_version + series + observation', 'unit tests; type checks; conversion logs', 'never store secrets; no PII', 'ACTIVE'),
  ('PIPE_SEARCH_INDEX','Search Index','فهرسة البحث','Indexes documents, datasets, and metadata for full-text search (Arabic + English).', 'DAILY', 2, 'AGENT_BETA_EVIDENCE',
   'documents + metadata', 'search index', 'language detection; tokenizer sanity; synonym map', 'strip sensitive fields', 'ACTIVE'),
  ('PIPE_RAG_VECTOR_INDEX','RAG Vector Index','فهرسة المتجهات','Creates embeddings for evidence-backed retrieval. Stores chunk-level vectors with citations.', 'DAILY', 2, 'AGENT_BETA_EVIDENCE',
   'document chunks', 'vector index + citations', 'chunk integrity; citation coverage', 'no uncited generation', 'ACTIVE'),
  ('PIPE_MONITORING','Monitoring','المراقبة','Monitors freshness, outages, and anomaly alerts. Auto-creates Gap Tickets and alerts dashboard.', 'HOURLY', 1, 'AGENT_GAMMA_TRIANGULATION',
   'run logs + source cadence', 'alerts + gap tickets', 'staleness rules; anomaly thresholds', 'sanitize errors; no secrets', 'ACTIVE'),
  ('PIPE_SECURITY_RBAC','Security & RBAC','الأمان والتحكم بالصلاحيات','RBAC checks, CSP enforcement, audit logs, secrets hygiene, deployment gates.', 'AD_HOC', NULL, 'AGENT_DELTA_COMPLIANCE',
   'config + deploy artifacts', 'deployment approval or block', 'static scans; role checks', 'no physical addresses; no vendor names', 'ACTIVE')
ON CONFLICT (pipeline_key) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Data Quality Rules (system defaults; refine over time)
-- ---------------------------------------------------------------------------
INSERT INTO dq_rule (rule_code, name_en, description, rule_type, default_severity, params, active)
VALUES
  ('DQ_STALE_SOURCE','Stale source','Source exceeds cadence_lag_tolerance for its cadence.', 'STALE', 'HIGH', '{"uses":"source.cadence_lag_tolerance","fallback_policy":"cadence defaults"}'::jsonb, true),
  ('DQ_MISSING_PERIODS','Missing periods','Expected time periods missing in series (e.g., missing months).', 'COMPLETENESS', 'MEDIUM', '{"granularity":["DAILY","MONTHLY","QUARTERLY","ANNUAL"]}'::jsonb, true),
  ('DQ_DUPLICATE_OBS','Duplicate observations','Duplicate observation keys within same series/dataset_version.', 'DUPLICATE', 'MEDIUM', '{}'::jsonb, true),
  ('DQ_OUTLIER_SPIKE','Outlier spike','Large one-period jump/drop beyond threshold.', 'OUTLIER', 'MEDIUM', '{"pct_threshold":0.30}'::jsonb, true),
  ('DQ_STRUCT_BREAK','Structural break','Detects regime shifts / breaks using statistical tests.', 'STRUCTURAL_BREAK', 'MEDIUM', '{"method":"rolling_zscore"}'::jsonb, true),
  ('DQ_UNIT_SHIFT','Unit shift','Suspected unit change (e.g., percent vs index).', 'UNIT_SHIFT', 'HIGH', '{}'::jsonb, true),
  ('DQ_REGIME_MIXING','Regime mixing','Aden/Sanaa series mixed into one without Disagreement Mode tags.', 'REGIME_MIXING', 'CRITICAL', '{}'::jsonb, true),
  ('DQ_CONTRADICTION_15P','Cross-source contradiction','Peer sources differ >15% without an explanatory evidence pack.', 'CONTRADICTION', 'HIGH', '{"variance_threshold":0.15}'::jsonb, true),
  ('DQ_SCHEMA_MISMATCH','Schema mismatch','Incoming data does not match expected schema.', 'SCHEMA', 'HIGH', '{}'::jsonb, true),
  ('DQ_LICENSING','Licensing restriction','Attempted ingest/export violates license or partnership requirements.', 'LICENSING', 'CRITICAL', '{}'::jsonb, true)
ON CONFLICT (rule_code) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Compliance Lists (placeholders only for list metadata; actual entries ingested)
-- ---------------------------------------------------------------------------
INSERT INTO compliance_list (name_en, name_ar, list_type, url, notes)
VALUES
  ('United Nations Sanctions','عقوبات الأمم المتحدة','SANCTIONS','https://www.un.org/securitycouncil/content/un-sc-consolidated-list','Ingest consolidated list; keep raw + normalized.'),
  ('OFAC Sanctions','عقوبات أوفاك','SANCTIONS','https://ofac.treasury.gov/sanctions-list-service','Use official service; respect terms.'),
  ('EU Sanctions Map','خريطة عقوبات الاتحاد الأوروبي','SANCTIONS','https://www.sanctionsmap.eu','Ingest where permitted; store license notes.'),
  ('UK Sanctions List','قائمة عقوبات المملكة المتحدة','SANCTIONS','https://www.gov.uk/government/publications/the-uk-sanctions-list','Ingest official list; store updates.')
ON CONFLICT DO NOTHING;

-- ---------------------------------------------------------------------------
-- Vintage markers (initial anchor)
-- ---------------------------------------------------------------------------
INSERT INTO vintage_marker (vintage_date, label, notes)
VALUES ('2010-01-01','Historical start','Anchor for 2010-present timeline.')
ON CONFLICT (vintage_date) DO NOTHING;

-- ---------------------------------------------------------------------------
-- Scenario + Report Templates (no data; just structure to enable the tools)
-- ---------------------------------------------------------------------------
INSERT INTO scenario_template (template_key, name_en, name_ar, description, model_type, baseline_definition, inputs_schema, output_schema)
VALUES
  ('fx_shock','FX Shock','صدمة سعر الصرف','What-if shock to exchange rate series; computes implied price pass-through (when evidence-backed parameters exist).',
   'shock',
   '{"baseline":"select_series_by_indicator","indicator_code":"FX_RATE"}'::jsonb,
   '{"shock_pct":{"type":"number","min":-0.9,"max":5.0},"start_date":{"type":"date"},"end_date":{"type":"date"}}'::jsonb,
   '{"outputs":["projected_fx","confidence_band","notes"]}'::jsonb
  ),
  ('oil_price_scenario','Oil Price Scenario','سيناريو أسعار النفط','Scenario template for oil price changes and fiscal/FX implications (requires evidence-backed elasticities).',
   'what_if',
   '{"baseline":"select_series_by_indicator","indicator_code":"OIL_PRICE"}'::jsonb,
   '{"price_usd":{"type":"number","min":0,"max":300},"start_date":{"type":"date"},"end_date":{"type":"date"}}'::jsonb,
   '{"outputs":["projected_revenue","projected_fx","notes"]}'::jsonb
  )
ON CONFLICT (template_key) DO NOTHING;

INSERT INTO report_template (template_key, name_en, name_ar, description, sections)
VALUES
  ('monthly_econ_update','Monthly Economic Update','التقرير الاقتصادي الشهري','Evidence-backed monthly report template (numbers must cite SRC IDs & documents).',
   '[
      {"id":"exec_summary","title_en":"Executive Summary","title_ar":"ملخص تنفيذي","required":true},
      {"id":"macro","title_en":"Macroeconomy","title_ar":"الاقتصاد الكلي","required":true},
      {"id":"prices_fx","title_en":"Prices & FX","title_ar":"الأسعار وسعر الصرف","required":true},
      {"id":"aid","title_en":"Aid & Programs","title_ar":"المساعدات والبرامج","required":false},
      {"id":"risks","title_en":"Risks & Outlook","title_ar":"المخاطر والتوقعات","required":true},
      {"id":"evidence_pack","title_en":"Evidence Pack","title_ar":"حزمة الأدلة","required":true}
    ]'::jsonb
  )
ON CONFLICT (template_key) DO NOTHING;



COMMIT;

-- ---------------------------------------------------------------------------
-- Load the 225 Source Registry (CSV)
-- ---------------------------------------------------------------------------
-- Place the CSV at: db/seeds/sources_seed_225_registry_extended.csv
-- Then run this seed script.

\copy yeto.source (
  src_id, src_numeric_id, name_en, name_ar,
  sector_category, sub_sector_tag, routing_function, category,
  tier, institution,
  url, url_raw,
  access_method, auth_required, data_format,
  update_frequency, cadence, cadence_lag_tolerance,
  time_coverage_start, time_coverage_end,
  geographic_coverage, coverage,
  license, reliability_score,
  typical_lag_days, typical_lag_text,
  fallback_plan,
  partnership_required, partnership_action_email,
  data_fields, embedded_indicators, transformation_notes, admin_alert_trigger_condition,
  ingestion_method, ingestion_owner_agent, dashboard_modules_linked, ai_coach_prompt,
  glossary_terms_required, multilingual_required, evidence_pack_flag,
  yeto_usage, yeto_module, granularity_caveats,
  notes, tags, origin,
  status, active
)
FROM 'db/seeds/sources_seed_225_registry_extended.csv'
WITH (FORMAT csv, HEADER true, NULL '', QUOTE '"', ESCAPE '"');

-- ---------------------------------------------------------------------------
-- Post-load: auto-create metadata Gap Tickets for sources missing mandatory fields
-- (This is how we stay "zero-hallucination" without blocking the system.)
-- ---------------------------------------------------------------------------
INSERT INTO gap_ticket (gap_type, title, description, severity, status, related_source_id)
SELECT
  'REGISTRY_META' AS gap_type,
  'Missing/Incomplete registry metadata for source ' || s.src_id AS title,
  'One or more registry fields are NULL/empty/UNKNOWN: '
    || CASE WHEN s.sector_category IS NULL OR s.sector_category='' THEN 'sector_category; ' ELSE '' END
    || CASE WHEN s.url IS NULL OR s.url='' THEN 'url; ' ELSE '' END
    || CASE WHEN s.access_method IS NULL OR s.access_method='' THEN 'access_method; ' ELSE '' END
    || CASE WHEN s.update_frequency IS NULL OR s.update_frequency='' THEN 'update_frequency; ' ELSE '' END
    || CASE WHEN s.cadence IS NULL THEN 'cadence; ' ELSE '' END
    || CASE WHEN s.cadence_lag_tolerance IS NULL AND s.cadence IS NOT NULL THEN 'cadence_lag_tolerance; ' ELSE '' END
    || CASE WHEN s.tier='UNKNOWN' THEN 'tier(UNKNOWN); ' ELSE '' END
    || CASE WHEN s.auth_required IS NULL OR s.auth_required='' THEN 'auth_required; ' ELSE '' END
    || CASE WHEN s.geographic_coverage IS NULL OR s.geographic_coverage='' THEN 'geographic_coverage; ' ELSE '' END
    || CASE WHEN s.embedded_indicators IS NULL OR s.embedded_indicators='' THEN 'embedded_indicators; ' ELSE '' END
    || CASE WHEN s.transformation_notes IS NULL OR s.transformation_notes='' THEN 'transformation_notes; ' ELSE '' END
    || 'Review the Source Registry row and resolve.' AS description,
  CASE WHEN s.tier='T1' THEN 'HIGH' ELSE 'MEDIUM' END::severity_level AS severity,
  'OPEN'::gap_ticket_status AS status,
  s.id AS related_source_id
FROM source s
WHERE (s.sector_category IS NULL OR s.sector_category='')
   OR (s.url IS NULL OR s.url='')
   OR (s.access_method IS NULL OR s.access_method='')
   OR (s.update_frequency IS NULL OR s.update_frequency='')
   OR (s.cadence IS NULL)
   OR (s.cadence_lag_tolerance IS NULL AND s.cadence IS NOT NULL)
   OR (s.tier='UNKNOWN')
   OR (s.auth_required IS NULL OR s.auth_required='')
   OR (s.geographic_coverage IS NULL OR s.geographic_coverage='')
   OR (s.embedded_indicators IS NULL OR s.embedded_indicators='')
   OR (s.transformation_notes IS NULL OR s.transformation_notes='')
ON CONFLICT DO NOTHING;


```

## [FILE: db/seeds/sources_seed_225_registry_extended.csv]
```csv
src_id,src_numeric_id,name_en,name_ar,sector_category,sub_sector_tag,routing_function,category,tier,institution,url,url_raw,access_method,auth_required,data_format,update_frequency,cadence,cadence_lag_tolerance,time_coverage_start,time_coverage_end,geographic_coverage,coverage,license,reliability_score,typical_lag_days,typical_lag_text,fallback_plan,partnership_required,partnership_action_email,data_fields,embedded_indicators,transformation_notes,admin_alert_trigger_condition,ingestion_method,ingestion_owner_agent,dashboard_modules_linked,ai_coach_prompt,glossary_terms_required,multilingual_required,evidence_pack_flag,yeto_usage,yeto_module,granularity_caveats,notes,tags,origin,status,active
SRC-001,1,World Bank Macro PovcalNet,,Poverty & Distribution,,,Poverty & Distribution,T1,World Bank,https://api.worldbank.org/v2/country/YEM/indicator/SI.POV.DDAY?format=json,[PovcalNet API](https://api.worldbank.org/v2/country/YEM/indicator/SI.POV.DDAY?format=json),API,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Provides poverty headcount ratios (US$1.90, US$3.20, US$5.50 lines) and income distribution data.  Tag as “World Bank – PovcalNet”.",Poverty & Distribution,extended,ACTIVE,True
SRC-002,2,World Bank International Debt Statistics,,Debt,,,Debt,T1,World Bank,https://api.worldbank.org/v2/country/YEM/indicator/DT.TDS.DECT.CD?format=json,[World Bank IDS API](https://api.worldbank.org/v2/country/YEM/indicator/DT.TDS.DECT.CD?format=json),API,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,External debt stocks and debt service flows.,Debt,extended,ACTIVE,True
SRC-003,3,World Bank Global Economic Monitor (GEM),,Macro/trade,,,Macro/trade,T1,World Bank,https://worldbank.org/gem-api,[GEM API](https://worldbank.org/gem-api) (*requires key*),API,,,Monthly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Commodities prices, remittances flows, and macro indicators used in GEM; part of WBG but requires registration.",Macro/trade,extended,ACTIVE,True
SRC-004,4,IMF World Economic Outlook (WEO),,Forecasts,,,Forecasts,T1,International Monetary Fund,https://www.imf.org/en/Publications/WEO,[IMF WEO API](https://www.imf.org/en/Publications/WEO) (download via SDMX),WEB,,,"Biannual (Apr, Oct)",ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides macro forecasts for GDP growth, inflation, fiscal balance; also baseline and scenario projections.",Forecasts,extended,ACTIVE,True
SRC-005,5,IMF Fiscal Monitor,,Fiscal,,,Fiscal,T1,International Monetary Fund,https://www.imf.org/en/Publications/FM,[Fiscal Monitor PDF](https://www.imf.org/en/Publications/FM),WEB,,,Biannual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contextual narrative on fiscal developments; includes tables of expenditure and revenue for some countries.  Ingest as documents.,Fiscal,extended,ACTIVE,True
SRC-006,6,Arab Monetary Fund (AMF),,Macro & Monetary,,,Macro & Monetary,T1,,https://amf.org.ae,[AMF Economic Data](https://amf.org.ae),WEB,,,Quarterly/Annual,QUARTERLY,120 days,,,Regional (MENA),,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Aggregated macro statistics for Arab countries; may provide monetary aggregates and inflation proxies.  *Check licensing.*,Macro & Monetary,extended,ACTIVE,True
SRC-007,7,UN ESCWA (Arab Countries Macro Data),,Macro/Socio-economic,,,Macro/Socio-economic,T1,,https://data.unescwa.org/,[ESCWA Data Portal](https://data.unescwa.org/),WEB,,,Annual,ANNUAL,240 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Socio-economic indicators for MENA; includes GDP, inflation, unemployment, energy.  API or bulk download available; license open with attribution.",Macro/Socio-economic,extended,ACTIVE,True
SRC-008,8,Trading Economics,,Macro & Market,,,Macro & Market,T3,,https://api.tradingeconomics.com/yemen/indicators,[TradingEconomics API](https://api.tradingeconomics.com/yemen/indicators),API,,,Daily/Weekly,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Aggregates official and market data (CPI, FX, interest rates).  Free tier requires registration; verify data provenance.  *Check licensing.*",Macro & Market,extended,ACTIVE,True
SRC-009,9,Yemen Central Statistical Office (CSO) Yearbooks,,Macro & Demographics,,,Macro & Demographics,T1,Central Statistical Organization (Yemen),https://cso-yemen.org,[Archived PDFs](https://cso-yemen.org),WEB,,,Pre‑2014 annual,ANNUAL,240 days,,,National,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Official statistical yearbooks covering GDP by sector, CPI, population, education, health (up to 2014).  Ingest scanned PDFs; extract tables via OCR.  Coverage ends before conflict.",Macro & Demographics,extended,ACTIVE,True
SRC-010,10,UN Population Division World Population Prospects,,Demographics,,,Demographics,T1,United Nations,https://population.un.org/dataportal/about/dataapi,[UN WPP API](https://population.un.org/dataportal/about/dataapi),API,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Standard demographic projections; includes fertility, mortality, migration.  Use for cross‑checking CSO and UNFPA projections.",Demographics,extended,ACTIVE,True
SRC-011,11,UN Human Development Reports,,HDI and multi-dimensional indices,,,HDI and multi-dimensional indices,T1,,https://hdr.undp.org/data,[HDR Data](https://hdr.undp.org/data),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Includes HDI, GII, and Multidimensional Poverty Index (MPI) for Yemen.  Ingest for context.",HDI and multi-dimensional indices,extended,ACTIVE,True
SRC-012,12,World Bank Doing Business (archived),,Business environment,,,Business environment,T1,World Bank,https://openknowledge.worldbank.org/handle/10986/34744,[WB Doing Business data](https://openknowledge.worldbank.org/handle/10986/34744),WEB,,,Annual (discontinued 2021),ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Ease-of-doing-business rankings, cost of starting a business, etc.  Useful for private sector context.",Business environment,extended,ACTIVE,True
SRC-013,13,World Bank Enterprise Surveys 2010 Yemen,,Enterprise survey,,,Enterprise survey,T1,World Bank,https://enterprise-surveys.org/en/data/exploreeconomies/2010/yemen,[Enterprise Surveys Data](https://enterprise-surveys.org/en/data/exploreeconomies/2010/yemen),WEB,,,One‑off (2010),IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Survey microdata on firm characteristics, performance, business environment; requires registration.",Enterprise survey,extended,ACTIVE,True
SRC-014,14,UN Global SDG Indicators Database,,SDG indicators,,,SDG indicators,T1,United Nations,https://unstats.un.org/SDGAPI/v1,[UN SDG API](https://unstats.un.org/SDGAPI/v1),API,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Includes SDG indicators relevant to Yemen (poverty, health, education).",SDG indicators,extended,ACTIVE,True
SRC-015,15,University of Sheffield Night‑Time Lights Arabia,,Proxy for economic activity,,,Proxy for economic activity,T2,,https://eogdata.mines.edu/products/ngsNightLight,[Night Lights Data via EOG](https://eogdata.mines.edu/products/ngsNightLight),WEB,,,Monthly,MONTHLY,60 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides VIIRS night‑time lights composites aggregated by country or custom shape; used as economic proxy.  *Open data.*,Proxy for economic activity,extended,ACTIVE,True
SRC-016,16,World Food Programme VAM Commodity Price API,,Food prices,,,Food prices,T1,WFP,https://api.wfp.org/v1/prices,[WFP VAM API](https://api.wfp.org/v1/prices) (*where supported*),API,,,Monthly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,Provides market price data for food and fuel commodities.  Not all countries have API; check for Yemen.,Food prices,extended,ACTIVE,True
SRC-017,17,FAO Food Price Monitoring Bulletins,,Food prices,,,Food prices,T1,FAO,https://www.fao.org/giews/food-prices/tool-publications/en/,[FAO GIEWS](https://www.fao.org/giews/food-prices/tool-publications/en/),WEB,,,Monthly/Quarterly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Bulletins summarise staple food price trends across countries; includes Yemen; can complement WFP data.,Food prices,extended,ACTIVE,True
SRC-018,18,SEMC (Yemen Studies & Economic Media Center) Price Bulletins,,Market prices,,,Market prices,T3,,https://economicmedia.net,[SEMC Reports](https://economicmedia.net),WEB,,,Monthly,MONTHLY,60 days,,,National NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"SEMC publishes price bulletins for staples (flour, fuel, gas) in Yemen’s main cities.  Integrate via PDF scraping.",Market prices,extended,ACTIVE,True
SRC-019,19,FEWS NET Monthly Price Bulletins,,Food security,,,Food security,UNKNOWN,,https://fews.net/west-africa/yemen,[FEWS NET Data](https://fews.net/west-africa/yemen),WEB,,,Monthly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Famine Early Warning Systems Network provides market price bulletins and integrated food security outlooks; includes Yemen; open data.,Food security,extended,ACTIVE,True
SRC-020,20,Integrated Food Security Phase Classification (IPC) Analysis,,Food security severity,,,Food security severity,UNKNOWN,,https://www.ipcinfo.org,[IPC Info](https://www.ipcinfo.org),WEB,,,Semi‑annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides classification of food insecurity phases per governorate; narrative and maps; ingest for context.,Food security severity,extended,ACTIVE,True
SRC-021,21,UNICEF Multiple Indicator Cluster Surveys (MICS) – Yemen,,Nutrition & household expenditure,,,Nutrition & household expenditure,T1,,https://mics.unicef.org,[MICS Data](https://mics.unicef.org),WEB,,,Occasional (latest pre‑conflict),IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Household surveys capturing nutrition, child health, and some expenditure data.  Yemen’s last MICS in 2006; still useful for baseline.",Nutrition & household expenditure,extended,ACTIVE,True
SRC-022,22,World Health Organization Global Health Observatory,,Health prices & medical costs,,,Health prices & medical costs,UNKNOWN,,https://ghoapi.azureedge.net,[WHO GHO API](https://ghoapi.azureedge.net),API,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Provides health expenditure per capita, out‑of‑pocket spending, and health system indicators.  Use as proxy for cost of health.",Health prices & medical costs,extended,ACTIVE,True
SRC-023,23,Central Bank of Yemen FX Auction Archive (Aden),,Official FX auctions,,,Official FX auctions,T1,Central Bank of Yemen,http://cby-ye.com,[CBY Aden site](http://cby-ye.com),WEB,,,Weekly,WEEKLY,14 days,,,National,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Already in master registry; keep.,Official FX auctions,extended,ACTIVE,True
SRC-024,24,IMF Direction of Trade Statistics (DOTS),,Trade & FX proxies,,,Trade & FX proxies,T1,International Monetary Fund,https://sdmx.imf.org/,[IMF DOTS API](https://sdmx.imf.org/),API,,,Quarterly,QUARTERLY,120 days,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,Provides country‑pair trade flows used to infer FX positions; complement Comtrade.,Trade & FX proxies,extended,ACTIVE,True
SRC-025,25,Bank for International Settlements (BIS) Triennial Central Bank Survey,,FX turnover,,,FX turnover,T1,,https://stats.bis.org/statistics,[BIS Statistics](https://stats.bis.org/statistics),WEB,,,Every 3 years,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides data on global currency trading, including USD/YER turnover if reported; low coverage; useful for context.",FX turnover,extended,ACTIVE,True
SRC-026,26,International Finance Corporation (IFC) Investments,,Private finance,,,Private finance,UNKNOWN,,https://disclosures.ifc.org,[IFC Projects Portal](https://disclosures.ifc.org),WEB,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Shows IFC investments and advisory services in Yemen; extract investment amounts, dates, sectors.",Private finance,extended,ACTIVE,True
SRC-027,27,Arab Trade Financing Program (ATFP),,Trade finance,,,Trade finance,T1,,https://www.atfp.org,[ATFP Annual reports](https://www.atfp.org),WEB,,,Annual,ANNUAL,240 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains statistics on trade finance extended to Yemeni banks; good for understanding import finance availability.,Trade finance,extended,ACTIVE,True
SRC-028,28,World Bank Enterprise Finance Gap Database,,SME finance,,,SME finance,T1,World Bank,https://www.worldbank.org/en/programs/credit-info-access/brief/enterprise-finance-gap-database,[Finance Gap Database](https://www.worldbank.org/en/programs/credit-info-access/brief/enterprise-finance-gap-database),WEB,,,Periodic,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Estimates financing gaps for SMEs; includes Yemen; can supplement microfinance data.,SME finance,extended,ACTIVE,True
SRC-029,29,FinDev Gateway,,Microfinance & financial inclusion,,,Microfinance & financial inclusion,UNKNOWN,,https://finDevgateway.org,[FinDev Data](https://finDevgateway.org),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports and datasets on microfinance; search for Yemen; cross‑reference with YMN.,Microfinance & financial inclusion,extended,ACTIVE,True
SRC-030,30,FATF (Financial Action Task Force) Grey List/Mutual Evaluation,,AML/CFT,,,AML/CFT,UNKNOWN,FATF,https://www.fatf-gafi.org,[FATF Documents](https://www.fatf-gafi.org),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports on Yemen’s AML/CFT compliance; relevant for banking sector risk; narrative only.,AML/CFT,extended,ACTIVE,True
SRC-031,31,MENA Financial Inclusion Dashboard (World Bank / Arab Monetary Fund),,Inclusion,,,Inclusion,T1,World Bank,https://arabfinancialinclusion.info,[MENA FI data](https://arabfinancialinclusion.info),WEB,,,Annual,ANNUAL,240 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides indicators on access to finance, account penetration, digital payments.",Inclusion,extended,ACTIVE,True
SRC-032,32,Payment Rail Maps (GSMA & UNCDF),,Mobile money and payments,,,Mobile money and payments,UNKNOWN,,https://www.gsma.com/mobilemoneymetrics/,[GSMA Mobile Money Metrics](https://www.gsma.com/mobilemoneymetrics/),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Data on mobile money deployments and transaction volumes; may cover Yemen; cross‑check with mobile operators.,Mobile money and payments,extended,ACTIVE,True
SRC-033,33,Sana’a Center Budget/Banking Analysis Papers,,Banking & Public Finance,,,Banking & Public Finance,UNKNOWN,,https://sanaacenter.org/publications,[Sana’a Center Publications](https://sanaacenter.org/publications),WEB,,,Irregular,IRREGULAR,,,,NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Analytical papers on the banking sector, bank splits, liquidity; ingest as documents.",Banking & Public Finance,extended,ACTIVE,True
SRC-034,34,Transparency International Corruption Perceptions Index,,Governance,,,Governance,UNKNOWN,,https://www.transparency.org/en/cpi,[CPI Data](https://www.transparency.org/en/cpi),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Global ranking of corruption perceptions; includes Yemen; used to benchmark governance environment.,Governance,extended,ACTIVE,True
SRC-035,35,World Bank BOOST Public Finance Database,,Public finance,,,Public finance,T1,World Bank,https://boost.worldbank.org,[BOOST Data](https://boost.worldbank.org),WEB,,,Annual (varies by country),ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains government expenditure and revenue data by sector for some countries; check if Yemen pre‑2014 data exists.,Public finance,extended,ACTIVE,True
SRC-036,36,Open Budget Survey (International Budget Partnership),,Budget transparency,,,Budget transparency,UNKNOWN,,https://internationalbudget.org/open-budget-survey/,[OBS Data](https://internationalbudget.org/open-budget-survey/),WEB,,,Biannual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Scores budget transparency, participation and oversight; Yemen scored 0 in recent years.",Budget transparency,extended,ACTIVE,True
SRC-037,37,OECD International Development Statistics (CRS),,Aid & budget support,,,Aid & budget support,T1,,https://stats.oecd.org,[OECD CRS](https://stats.oecd.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Donor funding by sector/project; includes aid flows to Yemen not captured in FTS.,Aid & budget support,extended,ACTIVE,True
SRC-038,38,UN General Assembly Resolutions & Security Council Resolutions,,Political & sanctions,,,Political & sanctions,T1,,https://undocs.org,[UN Documents](https://undocs.org),WEB,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provide official sanction mandates, budget authorisations for UN missions; treat as legal documents; link to events.",Political & sanctions,extended,ACTIVE,True
SRC-039,39,Yemen Port Authority & UNVIM Import Reports,,Port throughput,,,Port throughput,UNKNOWN,,https://www.unvimonitor.org,[UNVIM monthly updates](https://www.unvimonitor.org),WEB,,,Monthly,MONTHLY,60 days,,,National/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Data on fuel and food shipments through Hodeidah, Salif and Ras Isa ports; used as trade and supply proxies.",Port throughput,extended,ACTIVE,True
SRC-040,40,International Budget Partnership – Yemen,,Civil society,,,Civil society,UNKNOWN,,https://internationalbudget.org,[IBP papers](https://internationalbudget.org),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports on Yemen’s budget process and transparency; narrative.,Civil society,extended,ACTIVE,True
SRC-041,41,Tax Justice Network Financial Secrecy Index,,Offshore finance,,,Offshore finance,UNKNOWN,,https://fsi.taxjustice.net,[FSI Data](https://fsi.taxjustice.net),WEB,,,Biennial,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides ranking of secrecy jurisdictions; Yemen may be included; used for context.,Offshore finance,extended,ACTIVE,True
SRC-042,42,United Nations Panel of Experts on Yemen Reports,,Sanctions & compliance,,,Sanctions & compliance,T1,,https://www.undocs.org,[UN Panel Reports via UN DOCS](https://www.undocs.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Investigates implementation of sanctions, arms embargo violations, illicit finance; includes detailed annexes.  Ingest as documents (sensitive).",Sanctions & compliance,extended,ACTIVE,True
SRC-043,43,World Trade Organization (WTO) Tariff Database,,Tariffs & trade policy,,,Tariffs & trade policy,UNKNOWN,,https://www.wto.org/english/tratop_e/tariffs_e/tariff_data_e.htm,[WTO Tariff Data](https://www.wto.org/english/tratop_e/tariffs_e/tariff_data_e.htm),WEB,,,Irregular,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains applied and bound tariffs; Yemen not WTO member but data may exist via Gulf Cooperation Council; treat as context.,Tariffs & trade policy,extended,ACTIVE,True
SRC-044,44,UN Liner Shipping Connectivity Index (LSCI),,Trade infrastructure,,,Trade infrastructure,T1,UNCTAD,https://unctadstat.unctad.org,[UNCTAD LSCI](https://unctadstat.unctad.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Measures maritime connectivity; Yemen’s score can be used as proxy for trade facilitation and shipping disruptions.,Trade infrastructure,extended,ACTIVE,True
SRC-045,45,UN Vehicle Registration Data (if available),,Transport & commerce,,,Transport & commerce,T1,,https://unece.org,[UNECE Vehicle Database](https://unece.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,May provide vehicle registrations for Yemen; relevant to transport sector.,Transport & commerce,extended,ACTIVE,True
SRC-046,46,World Bank Logistics Performance Index (LPI),,Trade facilitation,,,Trade facilitation,T1,World Bank,https://lpi.worldbank.org/,[LPI Data](https://lpi.worldbank.org/),WEB,,,Biennial,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Ranking of countries’ logistics performance; Yemen historically scored low; use as context.,Trade facilitation,extended,ACTIVE,True
SRC-047,47,Economic Research Forum (ERF) Trade Papers,,Research,,,Research,UNKNOWN,,https://erf.org.eg/publications,[ERF Publications](https://erf.org.eg/publications),WEB,,,Occasional,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Scholarly papers on trade and commerce in the Middle East; some on Yemen; ingest for narrative context.,Research,extended,ACTIVE,True
SRC-048,48,ICCIA (Islamic Chamber of Commerce & Industry),,Private sector trade,,,Private sector trade,UNKNOWN,,https://iccia.com,[ICCIA reports](https://iccia.com),WEB,,,Annual,ANNUAL,240 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports on intra‑OIC trade; may include Yemen’s trade ties with Islamic countries.,Private sector trade,extended,ACTIVE,True
SRC-049,49,US Energy Information Administration (EIA) International Data,,Energy,,,Energy,T1,US Energy Information Administration (EIA),https://www.eia.gov/international/data/,[EIA International Data](https://www.eia.gov/international/data/),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides country energy statistics: oil production/consumption, exports, CO₂ emissions; limited for Yemen but useful for global context.",Energy,extended,ACTIVE,True
SRC-050,50,BP Statistical Review of World Energy,,Energy,,,Energy,UNKNOWN,,https://www.bp.com,[BP Review](https://www.bp.com),WEB,,,Annual,ANNUAL,240 days,,,Global/Commercial,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains global energy production and consumption data; includes Yemen (oil production numbers).  *Check licensing.*,Energy,extended,ACTIVE,True
SRC-051,51,OPEC Annual Statistical Bulletin,,Oil market,,,Oil market,T1,OPEC,https://asb.opec.org,[OPEC ASB](https://asb.opec.org),WEB,,,Annual,ANNUAL,240 days,,,Global/Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides detailed crude oil production by member countries; Yemen not a member but regionally relevant; can cross‑check supply.,Oil market,extended,ACTIVE,True
SRC-052,52,ICE Brent Crude Price,,Oil price,,,Oil price,UNKNOWN,,https://www.theice.com/products/219/Brent-Crude-Futures,[ICE Futures API](https://www.theice.com/products/219/Brent-Crude-Futures),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,International benchmark oil price; necessary for scenario modeling; license required for real‑time feed; use public index if available.,Oil price,extended,ACTIVE,True
SRC-053,53,UN DP Partnership for Renewable Energy in Yemen,,Energy & development,,,Energy & development,T1,,https://www.undp.org/yemen/projects,[UNDP Projects](https://www.undp.org/yemen/projects),WEB,,,Occasional,IRREGULAR,,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Documents renewable energy projects (solar micro‑grids); includes installation numbers and beneficiaries; parse for impact metrics.,Energy & development,extended,ACTIVE,True
SRC-054,54,University of Maryland Integrated Public Use Microdata Series (IPUMS) – Energy Use,,Energy use proxies,,,Energy use proxies,UNKNOWN,,https://international.ipums.org,[IPUMS Microdata](https://international.ipums.org),WEB,,,Census waves (not recent),IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides microdata on household energy use from previous censuses; Yemen 2004 census microdata available; useful for baseline energy access.,Energy use proxies,extended,ACTIVE,True
SRC-055,55,World Bank Jobs Diagnostic for Yemen (2015),,Labor & employment,,,Labor & employment,T1,World Bank,https://documents.worldbank.org,[WB Jobs Diagnostic](https://documents.worldbank.org),WEB,,,One‑off,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides labour force statistics, unemployment rates, wages, and structural unemployment analysis; baseline before conflict.",Labor & employment,extended,ACTIVE,True
SRC-056,56,UNDP Yemen Economic Resilience & Livelihoods Studies,,Jobs & cash transfers,,,Jobs & cash transfers,T1,,https://www.undp.org/yemen,[UNDP Yemen site](https://www.undp.org/yemen),WEB,,,Occasional,IRREGULAR,,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Reports on cash-for-work programmes, livelihood outcomes; may include small datasets on job creation.",Jobs & cash transfers,extended,ACTIVE,True
SRC-057,57,ILO Regional Office Studies,,Labor rights,,,Labor rights,T1,,https://www.ilo.org/beirut/,[ILO Publications](https://www.ilo.org/beirut/),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports on labour market dynamics in Arab region; may include Yemen; narrative but important context.,Labor rights,extended,ACTIVE,True
SRC-058,58,GSMA Mobile Gender Gap Report,,Digital gender gap & labour,,,Digital gender gap & labour,UNKNOWN,,https://www.gsma.com/mobilefordevelopment,[GSMA Reports](https://www.gsma.com/mobilefordevelopment),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains data on mobile ownership and usage by gender; proxy for access to digital labour markets; may include Yemen via modelling.,Digital gender gap & labour,extended,ACTIVE,True
SRC-059,59,UNFPA Youth & NEET Studies,,Youth unemployment,,,Youth unemployment,T1,,https://yemen.unfpa.org,[UNFPA publications](https://yemen.unfpa.org),WEB,,,Occasional,IRREGULAR,,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Studies on youth not in employment, education or training (NEET), and demographic dividends.",Youth unemployment,extended,ACTIVE,True
SRC-060,60,The World Bank Global Wage Database,,Wages,,,Wages,T1,World Bank,https://data.worldbank.org/indicator/SL.EMP.WORK.ZS,[Wage indicators](https://data.worldbank.org/indicator/SL.EMP.WORK.ZS),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains wages/earnings but limited for Yemen; still note as potential source.,Wages,extended,ACTIVE,True
SRC-061,61,AidData (William & Mary),,Aid & projects,,,Aid & projects,UNKNOWN,,https://aiddata.org/datasets,[AidData Database](https://aiddata.org/datasets),WEB,,,Annual/Continuous,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Large database of development finance; includes some Yemen projects with geolocation; can augment IATI/FTS; registration required.,Aid & projects,extended,ACTIVE,True
SRC-062,62,World Bank Projects & Operations API,,Development projects,,,Development projects,T1,World Bank,https://api.worldbank.org/v2/country/YEM/project?format=json,[WB Projects API](https://api.worldbank.org/v2/country/YEM/project?format=json),API,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,"Already in master registry; includes project titles, funding, status; integrate fully.",Development projects,extended,ACTIVE,True
SRC-063,63,IFAD (International Fund for Agricultural Development) Projects,,Rural development,,,Rural development,UNKNOWN,,https://www.ifad.org/en/web/operations/w/country/yemen,[IFAD Project Database](https://www.ifad.org/en/web/operations/w/country/yemen),WEB,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Lists IFAD-funded projects (e.g., fisheries, irrigation, smallholder support); parse budgets and beneficiaries.",Rural development,extended,ACTIVE,True
SRC-064,64,Islamic Development Bank (IsDB) Project Data,,Development projects,,,Development projects,UNKNOWN,,https://www.isdb.org/projects,[IsDB Projects](https://www.isdb.org/projects),WEB,,,Continuous,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains approved and active projects in Yemen; extract funding amounts and sectors; licensing open.,Development projects,extended,ACTIVE,True
SRC-065,65,USAID (US Agency for International Development) Assistance,,Development/humanitarian aid,,,Development/humanitarian aid,UNKNOWN,,https://www.usaid.gov/yemen,[USAID Yemen page](https://www.usaid.gov/yemen),WEB,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains press releases and project summaries; budget info may be limited; complement IATI.,Development/humanitarian aid,extended,ACTIVE,True
SRC-066,66,EU ECHO Humanitarian Aid,,Humanitarian aid,,,Humanitarian aid,T1,European Union,https://civil-protection-humanitarian-aid.ec.europa.eu,[ECHO Yemen page](https://civil-protection-humanitarian-aid.ec.europa.eu),WEB,,,Continuous,IRREGULAR,,,,Global/EU,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides funding allocations by sector; cross‑check with FTS; ingest as documents.,Humanitarian aid,extended,ACTIVE,True
SRC-067,67,King Salman Humanitarian Aid and Relief Centre (KSrelief) Project Database,,Humanitarian/development,,,Humanitarian/development,UNKNOWN,,https://www.ksrelief.org,[KSrelief Projects](https://www.ksrelief.org),WEB,,,Continuous,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Lists aid projects financed by Saudi Arabia; includes budgets and sectors; incorporate for donor profiles.,Humanitarian/development,extended,ACTIVE,True
SRC-068,68,Emirates Red Crescent & Other UAE Entities,,Humanitarian/development,,,Humanitarian/development,UNKNOWN,,https://www.emiratesrc.ae,[ERC site](https://www.emiratesrc.ae),WEB,,,Continuous,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides information on aid projects in Yemen; may not be comprehensive; glean from Arabic press and FTS cross‑references.,Humanitarian/development,extended,ACTIVE,True
SRC-069,69,Qatar Charity & Qatar Development Fund,,Aid,,,Aid,UNKNOWN,,https://www.qcharity.org,[Qatar Charity](https://www.qcharity.org),WEB,,,Continuous,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Aid programmes in Yemen; parse available information; treat with caution.,Aid,extended,ACTIVE,True
SRC-070,70,China International Development Cooperation Agency (CIDCA),,Aid & infrastructure,,,Aid & infrastructure,UNKNOWN,,http://en.cidca.gov.cn,[CIDCA press releases](http://en.cidca.gov.cn),WEB,,,Irregular,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,China-financed development projects; may involve ports/energy; gather announcements.,Aid & infrastructure,extended,ACTIVE,True
SRC-071,71,KfW & GIZ Yemen programmes,,Aid & technical cooperation,,,Aid & technical cooperation,UNKNOWN,,https://www.giz.de/en/worldwide/38340.html,[GIZ Projects Database](https://www.giz.de/en/worldwide/38340.html),WEB,,,Continuous,IRREGULAR,,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Lists German development and technical assistance projects in Yemen.,Aid & technical cooperation,extended,ACTIVE,True
SRC-072,72,Japan International Cooperation Agency (JICA) Yemen,,Aid,,,Aid,UNKNOWN,,https://www.jica.go.jp/english,[JICA Projects](https://www.jica.go.jp/english),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Contains small projects (health, water); parse details.",Aid,extended,ACTIVE,True
SRC-073,73,World Food Programme Project Pipeline (WFP OPS),,Food aid,,,Food aid,T1,WFP,https://ops.wfp.org,[WFP OPS Portal](https://ops.wfp.org),WEB,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Detailed dataset of WFP’s operations, budgets, beneficiaries, and outputs; API available; cross‑link with Aid Tracker.",Food aid,extended,ACTIVE,True
SRC-074,74,OCHA 3W (“Who Does What Where”) Datasets,,Projects & coverage,,,Projects & coverage,T1,UN OCHA,https://data.humdata.org,[HDX 3W Yemen](https://data.humdata.org),WEB,,,Quarterly,QUARTERLY,120 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Lists humanitarian projects by organisation, cluster, geography; includes output metrics; integrate into geospatial viewer.",Projects & coverage,extended,ACTIVE,True
SRC-075,75,FAO AQUASTAT,,Water resources,,,Water resources,T1,FAO,https://www.fao.org/aquastat/en,[AQUASTAT database](https://www.fao.org/aquastat/en),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides data on water withdrawal, irrigation, and renewable water resources; may have Yemen entries; use for rural development analysis.",Water resources,extended,ACTIVE,True
SRC-076,76,FSIS (Food Security Information System) Bulletins,,Food security,,,Food security,T1,,https://www.fsinplatform.org,[FSIS Yemen](https://www.fsinplatform.org),WEB,,,Monthly/Quarterly,MONTHLY,60 days,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Joint analysis by FAO/WFP/FSAC; includes food basket cost, market integration, and IPC updates.",Food security,extended,ACTIVE,True
SRC-077,77,Yemen Desert Locust Control Programme,,Agricultural pests,,,Agricultural pests,T1,FAO,https://www.fao.org/ag/locusts,[FAO Locust Watch](https://www.fao.org/ag/locusts),WEB,,,Monthly,MONTHLY,60 days,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Reports on desert locust infestations and control operations; relevant for crop yields.,Agricultural pests,extended,ACTIVE,True
SRC-078,78,International Fertilizer Association (IFA),,Fertiliser consumption,,,Fertiliser consumption,UNKNOWN,,https://www.fertilizer.org,[IFA statistics](https://www.fertilizer.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Data on fertiliser use; though Yemen-specific data may be limited; can use regional proxies.,Fertiliser consumption,extended,ACTIVE,True
SRC-079,79,Agricultural Market Information System (AMIS),,Global food market,,,Global food market,UNKNOWN,,https://app.amis-outlook.org,[AMIS](https://app.amis-outlook.org),WEB,,,Monthly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides global cereals supply/demand and price outlook; used for context on import costs.,Global food market,extended,ACTIVE,True
SRC-080,80,U.S. Department of Agriculture (USDA) PSD Database,,Commodity balances,,,Commodity balances,UNKNOWN,,https://apps.fas.usda.gov/psdonline,[PSD Online](https://apps.fas.usda.gov/psdonline),WEB,,,Monthly,MONTHLY,60 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Commodity production, consumption and trade balances by country; includes Yemen for selected crops; check coverage.",Commodity balances,extended,ACTIVE,True
SRC-081,81,UNICEF Yemen Education Cluster Reports,,Education,,,Education,T1,,https://educationcluster.net/yemen,[Yemen Education Cluster](https://educationcluster.net/yemen),WEB,,,Quarterly,QUARTERLY,120 days,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Reports on school availability, enrolment, gender parity, infrastructure damage; includes small datasets.",Education,extended,ACTIVE,True
SRC-082,82,"WHO/UNICEF Joint Monitoring Programme (JMP) for Water Supply, Sanitation and Hygiene",,WASH,,,WASH,T1,,https://washdata.org,[JMP Data](https://washdata.org),WEB,,,Annual/Biennial,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides estimates of access to drinking water, sanitation, hygiene services; includes Yemen; may rely on pre‑conflict surveys; still used as baseline.",WASH,extended,ACTIVE,True
SRC-083,83,UN Women Gender Equality Measurements,,Gender & development,,,Gender & development,T1,,https://data.unwomen.org,[UN Women Data Hub](https://data.unwomen.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Includes indicators on gender equality, women’s participation; limited for Yemen but informative.",Gender & development,extended,ACTIVE,True
SRC-084,84,Yemen Humanitarian Needs Overview (HNO),,Needs & severity,,,Needs & severity,T1,ReliefWeb,https://reliefweb.int,[OCHA HNO](https://reliefweb.int),WEB,,,Annual,ANNUAL,240 days,,,Global/UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Summarises people in need by sector and governorate; includes severity scores; narrative and some numeric tables; extract into data points.,Needs & severity,extended,ACTIVE,True
SRC-085,85,The World Bank High Frequency Phone Surveys (Yemen),,Social & economic impact,,,Social & economic impact,T1,World Bank,https://microdata.worldbank.org,[COVID‑19 HFPS](https://microdata.worldbank.org),WEB,,,Occasional (2020–2022),IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Conducted to measure COVID‑19 impact on households; includes employment, income, food security; microdata available upon request.",Social & economic impact,extended,ACTIVE,True
SRC-086,86,Gallup World Poll (Yemen),,Well‑being & perceptions,,,Well‑being & perceptions,T3,,https://www.gallup.com/analytics,[Gallup Data](https://www.gallup.com/analytics),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Surveys measuring well‑being, perceptions of government, access to services; may include Yemen; subscription required.",Well‑being & perceptions,extended,ACTIVE,True
SRC-087,87,"GDELT Project (Global Database of Events, Language and Tone)",,Conflict & events,,,Conflict & events,T2,,https://www.gdeltproject.org,[GDELT 2 Dataset via Google BigQuery](https://www.gdeltproject.org),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides automatically extracted events and tone from global media; can be filtered for Yemen; used as fallback if ACLED unavailable; treat as media‑derived and low confidence.,Conflict & events,extended,ACTIVE,True
SRC-088,88,Global Terrorism Database (GTD),,Terrorism events,,,Terrorism events,UNKNOWN,,https://www.start.umd.edu/gtd/,[GTD](https://www.start.umd.edu/gtd/),WEB,,,Annual release,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains incidents of terrorism worldwide; includes events in Yemen; may help contextualise conflict intensity.,Terrorism events,extended,ACTIVE,True
SRC-089,89,Stockholm International Peace Research Institute (SIPRI) Arms Transfers Database,,Arms trade & embargo violations,,,Arms trade & embargo violations,T1,,https://armstrade.sipri.org,[SIPRI](https://armstrade.sipri.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Contains data on transfers of major weapons systems, including arms flows to parties in Yemen; informs sanctions/compliance modules.",Arms trade & embargo violations,extended,ACTIVE,True
SRC-090,90,Armed Conflict Survey (IISS),,Armed conflict analysis,,,Armed conflict analysis,T3,,https://www.iiss.org,[IISS Publications](https://www.iiss.org),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides analysis of conflict dynamics; includes Yemen; subscription required; treat as narrative.,Armed conflict analysis,extended,ACTIVE,True
SRC-091,91,International Crisis Group (ICG) Reports,,Conflict & political economy,,,Conflict & political economy,UNKNOWN,,https://www.crisisgroup.org,[ICG Yemen reports](https://www.crisisgroup.org),WEB,,,Occasional,IRREGULAR,,,,Global NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"In-depth analyses of conflict dynamics, peace initiatives, economic impacts; narrative; ingest as documents.",Conflict & political economy,extended,ACTIVE,True
SRC-092,92,World Peace Foundation “Political Economy of War” Dataset,,War economy,,,War economy,UNKNOWN,,https://sites.tufts.edu/wpf/,[World Peace Foundation](https://sites.tufts.edu/wpf/),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides data and case studies on war economies; may include Yemen; useful for context.,War economy,extended,ACTIVE,True
SRC-093,93,Conflict Research Programme (LSE),,Political economy,,,Political economy,UNKNOWN,,https://blogs.lse.ac.uk/crp/,[CRP Publications](https://blogs.lse.ac.uk/crp/),WEB,,,Occasional,IRREGULAR,,,,Academia,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Research papers on rent-seeking, wartime economies; includes Yemen case studies; narrative.",Political economy,extended,ACTIVE,True
SRC-094,94,OpenStreetMap (OSM) Yemen Infrastructure Layers,,Infrastructure mapping,,,Infrastructure mapping,T2,,https://download.geofabrik.de/asia/yemen.html,[OSM extracts via Geofabrik](https://download.geofabrik.de/asia/yemen.html),WEB,,,Continuous,IRREGULAR,,,,Global/Open,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provide shapefiles of roads, bridges, schools, health facilities; used for mapping infrastructure damage and coverage; license: ODbL (open).",Infrastructure mapping,extended,ACTIVE,True
SRC-095,95,Yemen Infrastructure Damage Database (UNDAC/REACH),,Damage assessment,,,Damage assessment,T2,,https://www.reach-initiative.org,[REACH Initiative Data](https://www.reach-initiative.org),WEB,,,Irregular,IRREGULAR,,,,UN/NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Contains geolocated points of infrastructure damage (bridges, hospitals, schools) collected via satellite and field surveys.  Ingest as geospatial layer.",Damage assessment,extended,ACTIVE,True
SRC-096,96,UNOPS Projects & Infrastructure Registry,,Infrastructure projects,,,Infrastructure projects,UNKNOWN,,https://data.unops.org,[UNOPS Project Database](https://data.unops.org),WEB,,,Continuous,IRREGULAR,,,,UN,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Lists UNOPS projects (roads, bridges, water systems) with budgets and completion status; vital for infrastructure module.",Infrastructure projects,extended,ACTIVE,True
SRC-097,97,World Bank Infrastructure Projects,,Infrastructure,,,Infrastructure,T1,World Bank,https://api.worldbank.org/v2/country/YEM/project,[WB Projects API](https://api.worldbank.org/v2/country/YEM/project),API,,,Continuous,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,Already included; emphasise infrastructure subsector tags.,Infrastructure,extended,ACTIVE,True
SRC-098,98,"Humanitarian Logistics Cluster (Speed Restriction, Road Condition Reports)",,Road access,,,Road access,UNKNOWN,,https://logcluster.org/ops/yem10a,[Logistics Cluster Yemen](https://logcluster.org/ops/yem10a),WEB,,,Continuous,IRREGULAR,,,,UN/NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Updates on road closures, damaged bridges, and alternate routes; ingest into timeline and map overlays.",Road access,extended,ACTIVE,True
SRC-099,99,UNCTAD World Investment Report,,FDI,,,FDI,T1,UNCTAD,https://unctad.org/topic/investment/world-investment-report,[WIR](https://unctad.org/topic/investment/world-investment-report),WEB,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides trends and statistics on foreign direct investment flows; includes regional context for Yemen; supplement UNCTADstat.,FDI,extended,ACTIVE,True
SRC-100,100,Yemen General Investment Authority (YGIA),,Investment climate,,,Investment climate,UNKNOWN,,https://www.ygiahq.com,[YGIA publications](https://www.ygiahq.com),WEB,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides investment promotion materials and data on licensed investment projects; seldom updated; treat with caution.,Investment climate,extended,ACTIVE,True
SRC-101,101,International Finance Corporation (IFC) Country Private Sector Diagnostic (CPSD),,Private sector analysis,,,Private sector analysis,UNKNOWN,,https://www.ifc.org,[IFC CPSDs](https://www.ifc.org),WEB,,,Occasional,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Analytical documents assessing constraints and opportunities in private sector; includes Yemen; narrative.,Private sector analysis,extended,ACTIVE,True
SRC-102,102,ACAPS Yemen Analysis Hub (YETI),,Research/early warning,,,Research/early warning,T2,,https://www.acaps.org/country/yemen,[ACAPS YETI](https://www.acaps.org/country/yemen),WEB,,,Continuous,IRREGULAR,,,,NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides scenario analyses, risk bulletins and thematic briefs; narrative with contextual data; high credibility.",Research/early warning,extended,ACTIVE,True
SRC-103,103,Sana’a Center for Strategic Studies,,Research & commentary,,,Research & commentary,UNKNOWN,,https://sanaacenter.org,[Sana’a Center](https://sanaacenter.org),WEB,,,Continuous,IRREGULAR,,,,National/International,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Produces policy papers, economic briefs and weekly updates; narrative; widely used by analysts.",Research & commentary,extended,ACTIVE,True
SRC-104,104,Rethinking Yemen’s Economy Initiative (RYE),,Research,,,Research,UNKNOWN,,https://devpolicy.org,[RYE Publications](https://devpolicy.org),WEB,,,Occasional,IRREGULAR,,,,NGO,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Joint initiative producing policy briefs on banking, fuel subsidies, private sector; narrative.",Research,extended,ACTIVE,True
SRC-105,105,World Bank Yemen Economic Monitor,,Research,,,Research,T1,World Bank,https://www.worldbank.org/en/country/yemen/brief/yemen-economic-monitor,[WB Yemen Monitor](https://www.worldbank.org/en/country/yemen/brief/yemen-economic-monitor),WEB,,,Semi‑annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides narrative and data on macroeconomic developments; official WBG perspective.,Research,extended,ACTIVE,True
SRC-106,106,Chatham House Middle East & North Africa programme,,Research,,,Research,UNKNOWN,,https://www.chathamhouse.org,[Chatham House Yemen Publications](https://www.chathamhouse.org),WEB,,,Occasional,IRREGULAR,,,,Think tank,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides analysis on political economy, conflict drivers, humanitarian issues; narrative.",Research,extended,ACTIVE,True
SRC-107,107,Oxford Institute for Energy Studies,,Energy research,,,Energy research,UNKNOWN,,https://www.oxfordenergy.org,[OIES Publications](https://www.oxfordenergy.org),WEB,,,Occasional,IRREGULAR,,,,Think tank,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Papers on oil and gas markets; may include Yemen; narrative.,Energy research,extended,ACTIVE,True
SRC-108,108,Atlantic Council’s Resilience Centre,,MENA research,,,MENA research,UNKNOWN,,https://www.atlanticcouncil.org,[Atlantic Council reports](https://www.atlanticcouncil.org),WEB,,,Occasional,IRREGULAR,,,,Think tank,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Papers on Yemen’s economy, governance, and geopolitical context.",MENA research,extended,ACTIVE,True
SRC-109,109,Carnegie Middle East Center,,Political economy,,,Political economy,UNKNOWN,,https://carnegie-mec.org,[Carnegie MENA](https://carnegie-mec.org),WEB,,,Occasional,IRREGULAR,,,,Think tank,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Analytical articles; narrative.,Political economy,extended,ACTIVE,True
SRC-110,110,"World Bank’s Fragility, Conflict & Violence (FCV) Newsletter",,News & analyses,,,News & analyses,T1,World Bank,https://www.worldbank.org/en/topic/fragilityconflictviolence,[FCV Newsletter](https://www.worldbank.org/en/topic/fragilityconflictviolence),WEB,,,Quarterly,QUARTERLY,120 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Updates on FCV research; includes Yemen case studies; narrative.,News & analyses,extended,ACTIVE,True
SRC-111,111,Reuters Yemen Economic News,,Media,,,Media,T3,,https://www.reuters.com/world/middle-east/,[Reuters Middle East business news](https://www.reuters.com/world/middle-east/),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"For narrative updates on oil exports, currency, port operations; treat as information; cross‑verify.",Media,extended,ACTIVE,True
SRC-112,112,Al Jazeera Economy & Business (Yemen),,Media,,,Media,T3,,https://www.aljazeera.com/economy,[Al Jazeera Business](https://www.aljazeera.com/economy),WEB,,,Daily,DAILY,48 hours,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides Arabic‑language news on Yemen’s economy; cross‑check.,Media,extended,ACTIVE,True
SRC-113,113,Bloomberg Middle East,,Media,,,Media,T3,,https://www.bloomberg.com/middle-east,[Bloomberg ME](https://www.bloomberg.com/middle-east),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Contains financial news and commentary; subscription for full access; treat as narrative.,Media,extended,ACTIVE,True
SRC-114,114,Asharq Al‑Awsat & The National (UAE),,Media,,,Media,T3,,https://aawsat.com,[Asharq Economy](https://aawsat.com),WEB,,,Daily,DAILY,48 hours,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Coverage on Yemen’s business and economy; narrative; cross‑verify.,Media,extended,ACTIVE,True
SRC-115,115,Saba News Agency (Aden & Sana’a),,Media,,,Media,T3,,https://www.sabanew.net,"[Saba News](https://www.sabanew.net), [Saba (Sana’a)]",WEB,,,Daily,DAILY,48 hours,,,National,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Official news from both governments; use for announcements of policies, fuel price changes, etc.; treat with caution.",Media,extended,ACTIVE,True
SRC-116,116,Middle East Eye & Yemen Press,,Media,,,Media,T3,,https://www.middleeasteye.net,[Middle East Eye](https://www.middleeasteye.net),WEB,,,Daily,DAILY,48 hours,,,Regional,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides investigative reports and commentary; narrative; cross‑check.,Media,extended,ACTIVE,True
SRC-117,117,NASA MODIS Vegetation Indices (NDVI/EVI),,Vegetation & climate,,,Vegetation & climate,UNKNOWN,,https://lpdaac.usgs.gov,[MODIS API](https://lpdaac.usgs.gov),WEB,,,16‑day composites,IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provide NDVI/EVI values; used to track agricultural productivity and drought; aggregated to governorate level; open data.,Vegetation & climate,extended,ACTIVE,True
SRC-118,118,CAMS (Copernicus Atmosphere Monitoring Service) Air Quality and Dust Forecasts,,Environment & health,,,Environment & health,T1,,https://ads.atmosphere.copernicus.eu,[CAMS Data Store](https://ads.atmosphere.copernicus.eu),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides dust storm forecasts and air quality metrics (PM10, PM2.5) which can impact livelihoods and health; integrate if relevant.",Environment & health,extended,ACTIVE,True
SRC-119,119,GHSL Global Human Settlement Layer,,Urbanisation & built environment,,,Urbanisation & built environment,T1,European Union,https://ghsl.jrc.ec.europa.eu,[GHSL](https://ghsl.jrc.ec.europa.eu),WEB,,,"Periodic (1975, 1990, 2000, 2015)",IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides raster data on built‑up areas and population density; allows urban/rural comparisons.,Urbanisation & built environment,extended,ACTIVE,True
SRC-120,120,SMAP (Soil Moisture Active Passive) Satellite Data,,Water & agriculture,,,Water & agriculture,T2,,https://smap.jpl.nasa.gov,[NASA SMAP](https://smap.jpl.nasa.gov),WEB,,,Weekly,WEEKLY,14 days,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Measures soil moisture; can signal drought conditions; aggregated to region; open data.,Water & agriculture,extended,ACTIVE,True
SRC-121,121,NOAA Integrated Surface Database (ISD),,Weather & climate,,,Weather & climate,UNKNOWN,,https://www.ncei.noaa.gov/products/land-based-station/integrated-surface-database,[NOAA ISD](https://www.ncei.noaa.gov/products/land-based-station/integrated-surface-database),WEB,,,Hourly/daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,"Provides weather observations (temperature, precipitation) from local stations; Yemen coverage may be limited; use for climate context.",Weather & climate,extended,ACTIVE,True
SRC-122,122,Rainfall Estimation from Satellite (ARC2/TRMM/GPM),,Rainfall,,,Rainfall,T2,,https://www.chc.ucsb.edu/data,[CHIRPS/ARC2/GPM datasets](https://www.chc.ucsb.edu/data),WEB,,,Daily,DAILY,48 hours,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provide rainfall estimates which affect crop production and flooding; open data.,Rainfall,extended,ACTIVE,True
SRC-123,123,World Bank Global Solar Atlas,,Renewable energy potential,,,Renewable energy potential,T1,World Bank,https://globalsolaratlas.info,[Global Solar Atlas](https://globalsolaratlas.info),WEB,,,Static (periodic updates),IRREGULAR,,,,Global,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,Provides solar irradiation data; used for renewable energy investment planning; open data.,Renewable energy potential,extended,ACTIVE,True
SRC-124,124,Oxford Economics Yemen Macro,,Macro Forecasts,,,Macro Forecasts,T3,,,Subscription,,,,Quarterly,QUARTERLY,120 days,,,Commercial,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"Offers proprietary forecasts for Yemen’s GDP, inflation, exchange rate, etc.  *Needs Key/License* – store metadata only.",Macro Forecasts,extended,NEEDS_KEY,True
SRC-125,125,Bloomberg Terminal,,Exchange Rate & Market News,,,Exchange Rate & Market News,T3,,,Terminal,,,,Real-time,DAILY,48 hours,,,Commercial,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Provides parallel market exchange rates and financial news; cannot be scraped.  Use only if license allows; otherwise mark as unavailable.,Exchange Rate & Market News,extended,NEEDS_KEY,True
SRC-126,126,Yemen Central Statistical Office Population Projections,,Demographics,,,Demographics,T1,Central Statistical Organization (Yemen),,CSO reports (access via CSO or UNFPA),,,,Occasional (2014–2017),IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provides national and governorate population estimates; used by UN agencies.  Tag regime accordingly.,Demographics,extended,PENDING_REVIEW,True
SRC-127,127,Yemen Ministry of Industry & Trade,,Market prices & inflation,,,Market prices & inflation,T1,Government of Yemen,,Press releases and bulletins,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,May release official commodity price lists or inflation updates; scarce due to conflict.  Ingest if available.,Market prices & inflation,extended,PENDING_REVIEW,True
SRC-128,128,Yemen Petroleum Company (YPC) Official Fuel Prices,,Fuel prices,,,Fuel prices,T1,,,Social media or official bulletins,,,,Irregular,IRREGULAR,,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Official pump prices in Sana’a (DFA) published on YPC’s channels; must track via scraping or partner submissions.,Fuel prices,extended,NEEDS_KEY,True
SRC-129,129,Government of Yemen (Aden) Fuel Price Announcements,,Fuel prices,,,Fuel prices,T1,,,Press releases and local media,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Announced by Ministry of Oil or other agencies; used to set official prices in IRG-controlled areas.,Fuel prices,extended,PENDING_REVIEW,True
SRC-130,130,Abdul Wahab Shukri FX Market Bulletin,,Parallel FX rates,,,Parallel FX rates,T3,,,Telegram/WhatsApp groups (monitored by partners),,,,Daily,DAILY,48 hours,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Informal bulletins by major money exchangers quoting market rates; may become part of partner feed; treat as anecdotal and store with low confidence.,Parallel FX rates,extended,NEEDS_KEY,True
SRC-131,131,Al Kuraimi Exchange Rate Feed,,Parallel FX rates,,,Parallel FX rates,UNKNOWN,,,[Al Kuraimi Bank website/social media],,,,Daily,DAILY,48 hours,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Some Yemeni banks publish daily exchange rates (buy/sell).  Scrape or partner feed; assign regime tag.,Parallel FX rates,extended,NEEDS_KEY,True
SRC-132,132,Saraf Online App,,Market FX rates,,,Market FX rates,UNKNOWN,,,Mobile app (crowd‑sourced),,,,Daily,DAILY,48 hours,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,An app used by Yemeni traders posting parallel market rates; data may be accessible via API or manual capture; mark as low confidence.,Market FX rates,extended,PENDING_REVIEW,True
SRC-133,133,Central Bank of Yemen Sana’a Official Rate,,Official FX rate,,,Official FX rate,T1,Central Bank of Yemen,,Press releases and bulletins,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Official rate in DFA; glean from Ministry of Finance bulletins or speeches.,Official FX rate,extended,PENDING_REVIEW,True
SRC-134,134,UN Commodity Trade Statistics (UNSD) for Mirror Trade,,Mirror trade & FX proxies,,,Mirror trade & FX proxies,T1,,,Comtrade API (as above),,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Import/export of arms category; can be used to detect arms shipments (if any recorded).,Mirror trade & FX proxies,extended,PENDING_REVIEW,True
SRC-135,135,Association of Yemeni Banks (AYB),,Banking sector info,,,Banking sector info,UNKNOWN,,,"Official statements, annual reports (if any)",,,,Ad hoc,IRREGULAR,,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"Provide lists of licensed banks, branch openings, sector concerns; documentation may be found via local press; ingest into stakeholder profiles.",Banking sector info,extended,NEEDS_KEY,True
SRC-136,136,Yemen Microfinance Network (YMN) Quarterly Bulletin,,Microfinance,,,Microfinance,T1,,,Partner data (CSV/PDF),,,,Quarterly/Annual,QUARTERLY,120 days,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"Statistics on active borrowers, portfolio outstanding, portfolio at risk, by MFI; if partners share dataset; treat as sensitive; tag regime.",Microfinance,extended,NEEDS_KEY,True
SRC-137,137,Al Kuraimi Islamic Bank Annual Reports,,Banking,,,Banking,UNKNOWN,,,Company website,,,,Annual,ANNUAL,240 days,,,National (private),,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Provide financial statements (assets, deposits, profit) and branch network; parse for insights; may contain credit risk indicators.",Banking,extended,PENDING_REVIEW,True
SRC-138,138,Yemen Corporate Balance Sheets (Top Enterprises),,Private sector,,,Private sector,UNKNOWN,,,Yemen Company Registry (leaked),,,,Unknown,IRREGULAR,,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"If accessible via partners; includes financial data of major companies (oil, telecoms, manufacturing); sensitive; store metadata with caution.",Private sector,extended,NEEDS_KEY,True
SRC-139,139,Money Changers (Licensed and Unlicensed) Registry,,Exchangers,,,Exchangers,UNKNOWN,,,Ministry of Industry & Trade or CBY lists,,,,Occasional,IRREGULAR,,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Lists of authorised money exchangers; glean from circulars and partner organisations; necessary for stakeholder pages.,Exchangers,extended,NEEDS_KEY,True
SRC-140,140,G7/G20 Aid Support Announcers,,Aid commitments,,,Aid commitments,UNKNOWN,,,Press releases and communiqués,,,,Ad hoc,IRREGULAR,,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Government and multilateral pledges for Yemen; capture announcements (e.g. Saudi Arabia, UAE, USA).",Aid commitments,extended,PENDING_REVIEW,True
SRC-141,141,Yemen Petroleum Company Fuel Subsidy Statements,,Subsidy policy,,,Subsidy policy,T1,,,Social media/news,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Announcements on subsidy adjustments; feed into subsidy tracker.,Subsidy policy,extended,PENDING_REVIEW,True
SRC-142,142,Yemen Customs Authority (if available),,Customs revenues,,,Customs revenues,T1,Yemen Customs,,Press releases or leaked budgets,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,May contain customs collection figures; scarce; treat as low confidence.,Customs revenues,extended,PENDING_REVIEW,True
SRC-143,143,Yemen Legislation Portal (Aden & Sana’a),,Laws & decrees,,,Laws & decrees,UNKNOWN,,,"Official gazettes, news sources",,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Collects public finance laws, budgets, tax decrees; vital for legal library.",Laws & decrees,extended,PENDING_REVIEW,True
SRC-144,144,Port of Aden & Port of Mukalla Throughput Reports,,Port volumes,,,Port volumes,T3,,,Port authorities or news releases,,,,Monthly/Quarterly,MONTHLY,60 days,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Data on container and cargo volumes handled by southern ports; glean from port authority websites or local media.,Port volumes,extended,PENDING_REVIEW,True
SRC-145,145,Dubai Ports World (DP World) Trade Reports,,Transhipment & logistics,,,Transhipment & logistics,UNKNOWN,,,Company annual reports,,,,Annual,ANNUAL,240 days,,,Commercial/Regional,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,DP World manages Aden port; reports may contain Yemen trade throughput; treat as secondary.,Transhipment & logistics,extended,PENDING_REVIEW,True
SRC-146,146,Yemen Import & Export Licensing Data,,Trade regulation,,,Trade regulation,UNKNOWN,,,"Ministry of Industry & Trade, press releases",,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Document lists of authorised importers/exporters; may help track commodity flows; scarce.,Trade regulation,extended,PENDING_REVIEW,True
SRC-147,147,SAECA (Yemen Supreme Authority for Economic & Corporate Affairs),,Government trade oversight,,,Government trade oversight,UNKNOWN,,,Not active (possible),,,,Unknown,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"If revived, may publish commercial regulations; currently dormant.  Placeholder for future.",Government trade oversight,extended,PENDING_REVIEW,True
SRC-148,148,Yemen Customs Tariff Schedule,,Trade policy,,,Trade policy,T1,Yemen Customs,,Government gazette,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Contains lists of applied tariffs by HS code; needed for trade policy analysis; may be outdated.,Trade policy,extended,PENDING_REVIEW,True
SRC-149,149,Yemen Ministry of Oil & Minerals / Safer Exploration & Production Company,,Oil & gas production,,,Oil & gas production,T1,Government of Yemen,,Press releases and statements,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Data on oil output, refinery operations, revenue sharing between Aden and Sana’a; highly politicised; glean via news.",Oil & gas production,extended,PENDING_REVIEW,True
SRC-150,150,Yemen Diesel & LPG Demand Reports (if any),,Fuel consumption,,,Fuel consumption,T1,,,Logistics cluster or Ministry of Oil,,,,Occasional,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide estimates of fuel demand; cross‑check with WFP fuel price bulletins.,Fuel consumption,extended,PENDING_REVIEW,True
SRC-151,151,Yemen Gas Company (YGC) Circulars,,Gas supply,,,Gas supply,UNKNOWN,,,Official circulars/social media,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Announces LPG cylinder prices and distribution schedules; important for cost of living analysis.,Gas supply,extended,PENDING_REVIEW,True
SRC-152,152,Yemen Ministry of Social Affairs and Labour (MoSAL),,Employment policies,,,Employment policies,T1,Government of Yemen,,Circulars and speeches,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"May provide information on minimum wage, labour regulations; seldom published; glean via local media.",Employment policies,extended,PENDING_REVIEW,True
SRC-153,153,"Private sector surveys (e.g., Tadhamon Bank SME survey)",,Employment in SMEs,,,Employment in SMEs,UNKNOWN,,,SME programmes,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"Surveys of SMEs on workforce, wages, skills; often part of project evaluations; need partner access.",Employment in SMEs,extended,NEEDS_KEY,True
SRC-154,154,FAO FAOSTAT Agricultural Commodities,,Agriculture,,,Agriculture,T1,,,Already included; emphasise cereals & livestock series,,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Pre‑2013 official data; update for proxies if available.,Agriculture,extended,PENDING_REVIEW,True
SRC-155,155,Yemen Ministry of Agriculture & Irrigation,,Agricultural production,,,Agricultural production,T1,Government of Yemen,,Reports (pre‑2014) and bulletins,,,,Irregular,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Provide production volumes by crop, area cultivated; mostly outdated; treat as historical baseline.",Agricultural production,extended,PENDING_REVIEW,True
SRC-156,156,Crops and Livestock Integrated Survey (if revived),,Agriculture & livelihoods,,,Agriculture & livelihoods,UNKNOWN,,,Household survey via CSO or FAO,,,,Occasional,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Last survey pre‑2014; should be added if new rounds conducted post‑conflict; treat as potential.,Agriculture & livelihoods,extended,PENDING_REVIEW,True
SRC-157,157,UNHCR Population Statistics,,Displacement & refugees,,,Displacement & refugees,T1,,,Already included; emphasise cross‑border flows,,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide number of Yemeni refugees abroad and refugees in Yemen.,Displacement & refugees,extended,PENDING_REVIEW,True
SRC-158,158,International Organization for Migration (IOM) Displacement Tracking Matrix (DTM),,IDP & returnees,,,IDP & returnees,T1,IOM,,Already included; emphasise subnational details,,,,Quarterly/Occasional,QUARTERLY,120 days,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Provide counts of internally displaced persons, returnees, and migrant arrivals by governorate.",IDP & returnees,extended,PENDING_REVIEW,True
SRC-159,159,Janes Terrorism & Insurgency Centre (JTIC),,Conflict & security,,,Conflict & security,UNKNOWN,,,Subscription,,,,Daily,DAILY,48 hours,,,Commercial,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,Detailed dataset on insurgent and terrorist attacks; expensive; mark as *Needs Key*.,Conflict & security,extended,NEEDS_KEY,True
SRC-160,160,United Nations Commodity Trade Statistics (Comtrade) for Arms (HS 9304),,Arms trade via trade data,,,Arms trade via trade data,T1,,,Comtrade API (as above),,,,Annual,ANNUAL,240 days,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Import/export of arms category; can be used to detect arms shipments (if any recorded).,Arms trade via trade data,extended,PENDING_REVIEW,True
SRC-161,161,UN Security Council Sanctions List,,Sanctions,,,Sanctions,T1,,,Already included.,,,,Real‑time,IRREGULAR,,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide names of individuals/entities under sanctions; see master registry.,Sanctions,extended,PENDING_REVIEW,True
SRC-162,162,U.S. OFAC Specially Designated Nationals List,,Sanctions,,,Sanctions,T1,US Treasury OFAC,,Already included.,,,,Real‑time,IRREGULAR,,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide names of Yemeni entities under US sanctions.,Sanctions,extended,PENDING_REVIEW,True
SRC-163,163,EU and UK Sanctions Lists,,Sanctions,,,Sanctions,T1,,,Already included.,,,,Real‑time,IRREGULAR,,,,Global,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide names under EU/UK sanctions regimes.,Sanctions,extended,PENDING_REVIEW,True
SRC-164,164,Yemen Ministry of Interior & Ministry of Defence (Aden & Sana’a),,Conflict reports,,,Conflict reports,T1,Government of Yemen,,Official statements and press releases,,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide casualty reports and conflict updates; seldom reliable; treat as narrative.,Conflict reports,extended,PENDING_REVIEW,True
SRC-165,165,Yemen Data Project (airstrike database),,Conflict events,,,Conflict events,T2,Yemen Data Project,,Already included; emphasise monthly series,,,,Monthly,MONTHLY,60 days,,,NGO,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide counts of airstrikes and civilian casualties; high credibility.,Conflict events,extended,PENDING_REVIEW,True
SRC-166,166,"Yemen Telecom Companies Data (Yemen Mobile, Sabafon, MTN, Y-Telecom)",,Connectivity,,,Connectivity,UNKNOWN,,,Company websites & regulator statements,,,,Occasional,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Provide information on subscriber numbers, network coverage, restoration of services; glean via press releases.",Connectivity,extended,PENDING_REVIEW,True
SRC-167,167,Power grid restoration announcements,,Energy infrastructure,,,Energy infrastructure,UNKNOWN,,,Press releases (Ministry of Electricity),,,,Ad hoc,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Provide updates on electricity supply, power plant repairs, load shedding; glean from local news; treat as narrative.",Energy infrastructure,extended,PENDING_REVIEW,True
SRC-168,168,Arab Businessmen Councils,,Cross‑border investment,,,Cross‑border investment,T3,,,Reports (various),,,,Occasional,IRREGULAR,,,,Regional,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,Provide updates on cross‑border investments by Gulf and Yemeni expatriates; glean from media or business associations.,Cross‑border investment,extended,PENDING_REVIEW,True
SRC-169,169,Yemen Export Promotion Centre (if revived),,Export promotion,,,Export promotion,UNKNOWN,,,Official documents,,,,Unknown,IRREGULAR,,,,National,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,"Could provide data on non‑oil exports, SME exporters; currently inactive; placeholder.",Export promotion,extended,PENDING_REVIEW,True
SRC-170,170,International Crisis Group,,Research,,,Research,UNKNOWN,,,Already included; emphasise conflict economy,,,,Occasional,IRREGULAR,,,,NGO,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,See above.,Research,extended,PENDING_REVIEW,True
SRC-171,171,Economic Intelligence Unit (EIU),,Country analysis,,,Country analysis,T3,,,Subscription,,,,Monthly,MONTHLY,60 days,,,Commercial,,,,,,,True,partnerships@causewaygrp.com,,,,,,Manus,,,False,False,False,,,,"Reports on Yemen’s economy, politics, forecast; subscription required; store metadata only; *Needs Key*.",Country analysis,extended,NEEDS_KEY,True
SRC-172,172,World Bank Open Data – Indicators API,,Macroeconomic (incl. governance proxies),,,Macroeconomic (incl. governance proxies),T1,World Bank,https://api.worldbank.org/v2/country/YEM/indicator/{indicator_code}?format=json,https://api.worldbank.org/v2/country/YEM/indicator/{indicator_code}?format=json (and SDMX API),"Direct API (open, no key required); JSON or XML responses",,,Monthly for many series (WDI quarterly/annually per indicator release); continuous as data published,MONTHLY,60 days,,,Global,"≈16,000 time-series indicators covering GDP, inflation (CPI), exchange rate, trade, poverty, population, governance indexes, etc.; Yemen data from 2010–present (earlier for historical context)",Open Data – CC BY 4.0; free to use with attribution,A,,Low to moderate – data appears soon after source release,,False,,"Country, Indicator Code/Name, Year/Period, Value, metadata (source note, units)",,,,API connector; paginate results; daily/weekly checks; retries on failure; Data Gap Ticket if unresolved,Manus,,,False,False,False,"Core macro database for dashboards (GDP, prices, finance); baseline for Scenario Simulator, FX Dashboard, Aid Tracker; glossary definitions; regional peer comparisons","Macro Trends, Governance, Scenario Simulator, Data Explorer API, Methodology",National-level aggregates; annual/quarterly/monthly series; no subnational data; gaps during conflict years or modelled estimates; alternative sources used when missing; gaps flagged as “Not available”,,"Macroeconomic (incl. governance proxies);Macro Trends, Governance, Scenario Simulator, Data Explorer API, Methodology",master,ACTIVE,True
SRC-173,173,"IMF Data (SDMX/IFS, Article IV)",,Macroeconomic & Financial,,,Macroeconomic & Financial,T1,International Monetary Fund,https://sdmx.imf.org/rest/data/,"https://sdmx.imf.org/rest/data/ (IFS, DOTS, GFS) and PDFs for Article IV reports",API for structured data (SDMX/XML/JSON – some datasets require registration); PDFs for Article IV and country reports,Some SDMX datasets require free account/API key; summary data accessible without auth,,Quarterly for most IMF datasets (some monthly series); Article IV reports annually or biennially,MONTHLY,60 days,,,Global,"Monetary and financial indicators: money supply, inflation, official exchange rates, banking aggregates, balance of payments, government finance, trade; 2010–present (historical data available); Article IV reports provide qualitative assessments and tables",Open data (IMF open data initiative); attribution required; some datasets require registration,A–,,Moderate – quarterly data appear after a few months; Article IV reports several months after mission; gaps due to conflict,,False,,"Varies by dataset – e.g. country, indicator code, time period, value; Article IV PDFs contain tables and narrative",,,,"API connector for SDMX with frequency handling and versioning; Document ingestion for PDFs (extract tables, store metadata); retries and Data Gap Ticket on failure",Manus,,,False,False,False,"Complement World Bank macro data (monetary & external sector); FX Dashboard (official rates, reserves), Public Finance module (fiscal projections), Scenario Simulator (baseline forecasts), Research Hub (Article IV commentary)","Macro Trends, Financial Sector, Public Finance, Scenario Simulator, Document Library, Glossary",National-level annual/quarterly data; no governorate detail; large gaps post‑2015; IMF staff estimates fill gaps (lower confidence); “Not available – see proxy” when not reported,,"Macroeconomic & Financial;Macro Trends, Financial Sector, Public Finance, Scenario Simulator, Document Library, Glossary",master,ACTIVE,True
SRC-174,174,UN Comtrade (Trade Statistics),,Trade & External,,,Trade & External,T1,UN Statistics Division,https://comtrade.un.org/api/get?max=50000&type=C&freq=A&px=HS&cc=ALL&r=887&pxTime=2010-2025,https://comtrade.un.org/api/get?max=50000&type=C&freq=A&px=HS&cc=ALL&r=887&pxTime=2010-2025,Direct API (JSON or CSV); free for moderate use; registration needed for heavy use; bulk downloads available,No API key for moderate use; heavy usage requires account,,Monthly/annual – updated as countries report (mirror data for Yemen due to limited reporting),MONTHLY,60 days,,,Global,Merchandise trade by commodity (HS codes) and partner country; annual coverage 2010–present; some monthly trade data pre‑2015; mirror data used because Yemen rarely reports,Open for non-commercial use with attribution; rate limits apply,B+,,High – annual totals appear 6–12 months after year‑end; monthly data lags a few months,,False,,"Trade flow (import/export), year/month, reporter, partner, commodity code & description, value (USD), quantity, etc.",,,,API connector retrieves annual trade data in batches (by year or chapter); store detailed series; fallback to UNCTADstat or offline CSV if API unavailable; retries and Data Gap Ticket when missing,Manus,,,False,False,False,"Feeds Trade Dashboard (import/export trends, top commodities, trade balance); Scenario Simulator (external sector shocks); Aid Tracker (aid vs trade context); Stakeholder Pages (trade ties)","Trade & Commerce, Macro Trends (trade % GDP), Regional Comparison",National totals by commodity/partner; no subnational data; gaps filled with mirror data; undercounts informal trade; missing data flagged; fallback offline if needed,,"Trade & External;Trade & Commerce, Macro Trends (trade % GDP), Regional Comparison",master,ACTIVE,True
SRC-175,175,ILOSTAT (Labor & Employment),,Socio-economic (Labor),,,Socio-economic (Labor),T1,International Labour Organization,https://api.ilo.org/data/export/JSON?country=YEM,https://api.ilo.org/data/export/JSON?country=YEM (API),REST API (JSON/CSV) with API key; bulk downloads available,API token needed,,Annual; some modeled estimates more frequent,ANNUAL,240 days,,,Global,"Employment/unemployment rates, labor force participation, youth NEET, wages, etc.; data up to 2014; modelled updates for later years",Open data with attribution; API token required,B,,High – data often a couple years old,,False,,"Indicator code, sex/age disaggregation, year, value, unit",,,,API connector scheduled to fetch latest data; fallback to CSV; Data Gap Ticket if missing; modelled data flagged,Manus,,,False,False,False,"Feeds Social Indicators – unemployment trends, labor force size; informs Scenario Simulator and Stakeholder pages","Macro/Social Trends, Research Hub, Glossary","National, annual; no subnational labor data; post-2015 data are estimates with lower confidence; YETO notes discrepancies between sources",,"Socio-economic (Labor);Macro/Social Trends, Research Hub, Glossary",master,ACTIVE,True
SRC-176,176,UNOCHA Financial Tracking Service (FTS),,Humanitarian Aid Flows,,,Humanitarian Aid Flows,T1,UN OCHA,https://api.hpc.tools/v2/public/fts/flow?countryISO=YEM,https://api.hpc.tools/v2/public/fts/flow?countryISO=YEM,"REST API (JSON) – no key needed; filter by country, year, appeal",,,Daily – continuous updates,DAILY,48 hours,,,Global,"All humanitarian funding to Yemen (donor, recipient, sector, plan, amount, status) from 2010–present; includes HRP vs outside-plan funding and totals",Open data; usage per OCHA terms; attribution required,A,,Low – new contributions appear within days,,False,,"Donor, recipient, plan, cluster/sector, amount (USD), funding status, dates, FTS ID; aggregates",,,,API connector scheduled daily; aggregates data; links flows to HRP documents; retries and Data Gap Ticket on failure; manual CSV fallback,Manus,,,False,False,False,"Powers Aid Tracker – total funding, donor rankings, sector allocations, funding gaps; Stakeholder pages; scenario modeling; research grounding for AI","Aid Funding Dashboard, Donor Profiles, Cluster/Sector Pages, Crisis Timeline, AI Assistant",Country-level flows; subnational earmarking not well captured; double-counting possible; cross-checked with IATI; duplicates flagged,,"Humanitarian Aid Flows;Aid Funding Dashboard, Donor Profiles, Cluster/Sector Pages, Crisis Timeline, AI Assistant",master,ACTIVE,True
SRC-177,177,IATI (International Aid Transparency Initiative),,Development & Humanitarian Projects,,,Development & Humanitarian Projects,UNKNOWN,IATI (multi-publisher),https://dev.iatistandard.org/datastore/activity/select?country_code=YE,https://dev.iatistandard.org/datastore/activity/select?country_code=YE,REST API and bulk CSV exports; no auth,,,Continuous – organizations publish updates on their schedule; datastore updates daily or weekly,DAILY,48 hours,,,Global,"Development and humanitarian projects/activities: titles, descriptions, budgets, expenditures, locations, sectors, participating orgs; 2010–present",Open data (CC BY); publishers may have additional terms; attribution required,B,,Varies – depends on publisher (real-time to annual),,False,,"Activity ID, reporting organization, title, description, start/end dates, sector codes, participating partners, financial transactions (commitments/disbursements), location info, outcomes",,,,API/ETL hybrid – weekly ingestion via datastore API; uses filters and bulk downloads; data stored relationally; missing fields flagged; attempts to enrich from docs; gap tickets for under-reporting,Manus,,,False,False,False,Complements FTS – provides project-level detail; populates Aid Project Explorer and Stakeholder pages; used in Aid Tracker to show outputs and link to outcomes; research hub; scenario modeling,"Aid Projects Dashboard, Stakeholder Profiles, Geospatial Viewer, AI Assistant",Project-level; some geocodes; many entries only country-level; not all donors publish; under-coverage flagged; FTS or donor reports used to fill gaps,,"Development & Humanitarian Projects;Aid Projects Dashboard, Stakeholder Profiles, Geospatial Viewer, AI Assistant",master,ACTIVE,True
SRC-178,178,ReliefWeb API (Reports),,Humanitarian Information (Media/Reports),,,Humanitarian Information (Media/Reports),T1,UN OCHA – ReliefWeb,https://api.reliefweb.int/v1/reports?appname=YETO&query[value,https://api.reliefweb.int/v1/reports?appname=YETO&query[value]=Yemen,REST API – no key (app name parameter for usage tracking),,,Continuous – daily updates,DAILY,48 hours,,,Global (Yemen filter),"All humanitarian situation reports, press releases, analyses, maps, infographics related to Yemen; includes UN agency updates, NGO reports, crisis analyses; fully archived 2010–present",Open access to metadata; content may have separate copyrights; respect original source rights; do not republish full content without permission,A,,Minimal – items appear as soon as published and indexed,,False,,"Report title, publication date, source organization, country tags, themes, summary, URL to full report, full text or PDF link",,,,API connector runs daily to fetch new reports; stores metadata and full text/excerpt; content indexed for search; tags captured; manual processing for large/scanned PDFs,Manus,,,False,False,False,"Populates Research Hub library; provides evidence and context; used by AI assistant for citations; feeds Timeline module; includes WFP bulletins, UN updates, ACAPS reports","Research Hub Library, Interactive Timeline, AI Chat, Glossary, Stakeholder Pages",Narrative info; some subnational details in text; PDF/scan may require OCR; flagged for manual processing if extraction fails,,"Humanitarian Information (Media/Reports);Research Hub Library, Interactive Timeline, AI Chat, Glossary, Stakeholder Pages",master,ACTIVE,True
SRC-179,179,Population & Displacement (UNHCR/IOM),,Humanitarian – Population/Movement,,,Humanitarian – Population/Movement,T1,UNHCR & IOM,https://api.unhcr.org/population/v1/,UNHCR: https://api.unhcr.org/population/v1/ ; IOM DTM reports via HDX,"UNHCR API (open, no auth) for refugee/IDP counts; IOM DTM datasets via reports/CSV (manual)",None for UNHCR; manual for IOM,,UNHCR annual; IOM DTM quarterly or as needed,QUARTERLY,120 days,,,Global,"UNHCR: annual counts of refugees/IDPs by origin/asylum; IOM: number of IDPs, returnees, migrants by region; covers 2010–present; subnational details via IOM",Public/open data; use with attribution,B+,,UNHCR annual (yearly); IOM quarterly,,False,,"UNHCR: population type, country of origin/asylum, year, value; IOM: IDP/returnee/migrant counts by region",,,,API ingestion from UNHCR for refugee data; manual ETL for IOM DTM spreadsheets; Data Gap Ticket if new events occur or updates missing,Manus,,,False,False,False,"Feeds Humanitarian Overview (displacement stats); IDP trends; maps; stakeholder pages (UNHCR, IOM)","Humanitarian Dashboard, IDP trends chart, Maps, Stakeholder Pages",UNHCR national; IOM subnational; data collection challenging in conflict zones; figures are estimates; IDP counts vary across sources and may require cross-checking,,"Humanitarian – Population/Movement;Humanitarian Dashboard, IDP trends chart, Maps, Stakeholder Pages",master,ACTIVE,True
SRC-180,180,ACLED (Armed Conflict Location & Event Data),,Conflict Events,,,Conflict Events,T2,ACLED,https://api.acleddata.com/acled/read?country=Yemen&year=2023,https://api.acleddata.com/acled/read?country=Yemen&year=2023 (requires API key),REST API with token or bulk CSV downloads (license required),API key required; free for researchers,,Weekly,WEEKLY,14 days,,,Global NGO,"Detailed conflict events: battles, airstrikes, explosions, protests, strategic developments; dates & locations; covers 2015–present (some data 2011–2014); weekly updates",ACLED data © ACLED; non-commercial use with attribution; license required; show disclaimer,A–,,Low – events added within 1–2 weeks,,False,,"Event ID, date, admin1/admin2 coordinates, event type, actors, fatalities, source info",,,,"Conditional API connector – automated weekly pulls if licensed; data stored as sensitive; filtered/aggregated for display; fallback to other sources (e.g. UCDP, GDELT) if license unavailable; Data Gap Ticket if no access",Manus,,,False,False,False,Feeds Conflict Timeline; allows correlation with economic indicators; informs AI Assistant; maps and heatmaps; stakeholder pages for security actors; sanctions/compliance,"Interactive Timeline, Maps, AI evidence, Conflict overview, Sanctions/Compliance",Highly granular (village-level events); fatalities are estimates; ACLED not official casualty count; sensitive data; display as overlay optional; fallback to UCDP or GDELT if ACLED not available,,"Conflict Events;Interactive Timeline, Maps, AI evidence, Conflict overview, Sanctions/Compliance",master,ACTIVE,True
SRC-181,181,UCDP (Uppsala Conflict Data Program),,Conflict Casualties,,,Conflict Casualties,T2,Uppsala University,https://ucdpapi.pcr.uu.se/api/gedevents/22.1?Country=YR,https://ucdpapi.pcr.uu.se/api/gedevents/22.1?Country=YR,Open API and downloadable datasets (annual),,,Annual version releases (data up to previous year),ANNUAL,240 days,,,Global Academia,"Battle-related deaths, one-sided violence aggregated by conflict and year; Yemen civil war data 2010–present (with one-year lag)",Free for research with attribution,B+,,High – annual release covers up to previous year,,False,,"Year, actor1, actor2, deaths, location (GED events), conflict type",,,,API connector fetches annual entries; loads into time-series; stores version number; cross-check with ACLED; Data Gap Ticket if missing updates,Manus,,,False,False,False,Provides macro view of conflict fatalities; feeds dashboards; scenario modeling; AI Assistant reference; cross-check with ACLED,"Conflict Overview, Timeline, Research Hub",Annual national-level aggregates; slower updates; undercounts recent events; complementary to ACLED; flagged accordingly,,"Conflict Casualties;Conflict Overview, Timeline, Research Hub",master,ACTIVE,True
SRC-182,182,"Sanctions & Compliance Lists (UN, OFAC, EU/UK)",,Sanctions/AML,,,Sanctions/AML,T1,"United Nations, OFAC (US Treasury), EU, UK (HM Treasury)",https://scsanctions.un.org/resources/xml/en/consolidated.xml,UN: https://scsanctions.un.org/resources/xml/en/consolidated.xml ; OFAC: CSV/XML on treas.gov ; EU & UK: PDF/CSV from respective sites,Downloadable XML/CSV/PDF; automated parsing,,,Ad‑hoc (whenever designations change); OFAC daily; EU/UK as needed,DAILY,48 hours,,,Global,"Lists of sanctioned individuals/entities related to Yemen (asset freeze, travel ban, terrorism sanctions, etc.) and global listings; includes local compliance lists if available",Public domain (legal notices); informational use only (not legal advice),A,,None – updates available as soon as lists change,,False,,"Name, alias, designation, DOB/nationality, sanction type, reason, sanctions program (e.g. 2140), dates",,,,Automated import of CSV/XML; schedule daily for OFAC and weekly for UN/EU/UK; parse entries; filter those linked to Yemen; track updates (added/removed); update compliance database; manual fix if format changes,Manus,,,False,False,False,Sanctions & Compliance overview module – shows sanctioned entities; Stakeholder pages display warnings; AI compliance Q&A; timeline of sanctions events; compliance risk scoring,"Sanctions Dashboard, Stakeholder profiles, AI Compliance Q&A, Timeline",Lists are global (no subnational); not legal advice; show disclaimer; must update promptly; maintain reliability; note duplicates across lists,,"Sanctions/AML;Sanctions Dashboard, Stakeholder profiles, AI Compliance Q&A, Timeline",master,ACTIVE,True
SRC-183,183,UNCTADstat (Trade & Development),,Trade & Development,,,Trade & Development,UNKNOWN,UNCTAD,,"UNCTADstat bulk download (no open API) – e.g. FDI inflows, external debt, current account",Manual/semi-automated CSV/Excel download; registration may be required for bulk files,Free login may be required,,Annual,ANNUAL,240 days,,,Global,"FDI flows, balance of payments details, commodity price indices and development indicators; Yemen data 2010–present",Free for use with attribution (public),B,,Moderate to high (6+ months after year‑end),,False,,"Depends on dataset (year, value, indicator)",,,,"Custom ETL – periodic checks for new files, download CSVs, load into structured tables; validation on year‑over‑year consistency; Data Gap Ticket if updates missing",Manus,,,False,False,False,"External sector enrichment – FDI trends, debt statistics; complement trade data","Macro Trends (external debt, FDI), Investment Dashboard, Research Hub","National, annual; gaps due to conflict; proxies used if missing; flagged with lower confidence",,"Trade & Development;Macro Trends (external debt, FDI), Investment Dashboard, Research Hub",master,PENDING_REVIEW,True
SRC-184,184,FAO – FAOSTAT & Food Security,,Agriculture/Food,,,Agriculture/Food,T1,FAO,,FAOSTAT portal (bulk downloads); FAO Food Price Index; food security cluster bulletins,Bulk download (CSV/Excel) – no API; bulletins (PDF) for food price monitoring,None for FAOSTAT,,Annual for production indices; periodic (monthly/quarterly) for price monitoring,MONTHLY,60 days,,,Global,"Crop production volumes, livestock counts, food supply per capita (up to 2013) and patchy thereafter; food price monitoring via WFP",Open data (CC BY 4.0),B,,High for production (published 1+ year later); moderate for price data,,False,,"Varies by dataset (year, item, value, unit)",,,,Custom ETL – ingest historical series from FAOSTAT; parse PDF bulletins for food price monitoring; cross-validate with WFP; Data Gap alerts if bulletins are late,Manus,,,False,False,False,"Agricultural context – agriculture % of GDP, cereal production trends; food price data used for humanitarians and inflation proxy","Macro Trends (agriculture), Markets & Prices, Aid & Food Security, Research Hub",National totals; no governorate-level production data; significant data gaps post‑2015; proxies used and missing values flagged,,"Agriculture/Food;Macro Trends (agriculture), Markets & Prices, Aid & Food Security, Research Hub",master,PENDING_REVIEW,True
SRC-185,185,UNDP/UNICEF/WFP/OCHA Public Data & Reports,,Development & Humanitarian Analysis,,,Development & Humanitarian Analysis,T1,"UNDP, UNICEF, WFP, OCHA (various agencies)",,"Various: UNDP Yemen site, UNICEF Yemen site, WFP VAM DataViz, OCHA HDX datasets",Documents (PDFs) and small datasets; some via HDX; manual or semi-automated ingestion,,,"Occasional – e.g. UNDP bulletins quarterly, UNICEF updates annually, WFP VAM price bulletins monthly, OCHA HNO/HRP annually",MONTHLY,60 days,,,Global/UN,"Qualitative & quantitative insights: poverty, human development, recovery analyses; WFP price data; UNDP socio-economic updates; UNICEF child indicators; OCHA HNO people in need by governorate; etc. 2010–present",Public domain or CC BY (varies by agency); data on HDX open,A–,,Reports often 1–2 times per year; data may be a few months old,,False,,"Various – summary tables (e.g. poverty rates, number of out‑of‑school children) and narrative analysis",,,,Document ingestion with parsing; YETO captures key data points and stores metadata; manual entry if automated parsing fails; Data Gap if expected reports are overdue,Manus,,,False,False,False,"Enriches Evidence Base; feeds Scenario Simulator assumptions; informs dashboards (e.g. needs and aid coverage, malnutrition rates); used in Glossary; Research Hub and AI assistant","Humanitarian Overview, Poverty & Social Indicators, Research Hub, AI Assistant",Some reports include subnational data (needs by governorate); captured by YETO; data may be modelled or inconsistent; flagged with confidence rating and methodology notes,,"Development & Humanitarian Analysis;Humanitarian Overview, Poverty & Social Indicators, Research Hub, AI Assistant",master,PENDING_REVIEW,True
SRC-186,186,WFP Yemen Market & Price Monitoring,,Market Prices & Food Security,,,Market Prices & Food Security,T1,World Food Programme (VAM),,WFP VAM DataViz platform and HDX (e.g. monthly bulletins like “Yemen Market and Trade Bulletin Oct 2025”),PDF bulletins and CSV/Excel datasets; WFP price API if available; manual ingestion,,,Monthly bulletins (4–6 week lag); possibly bi‑weekly raw price data,WEEKLY,14 days,,,Global (Yemen),"Retail prices of staple foods and fuel (petrol, diesel, gas) across various markets; exchange rates (market vs official); supply indicators (days of import cover); narrative analysis",Open; WFP data is public with attribution,A,,4–6 weeks – bulletins published after month end; raw data available sooner via partners,,False,,"Commodity, market/city, unit, price (YER), date; cost of minimum food basket; fuel prices; exchange rates",,,,Custom parser to extract tables from monthly PDFs; ingest any available CSV from HDX; manual QA; WFP global price API if available; Data Gap alert if bulletin is late,Manus,,,False,False,False,"Feeds Markets Dashboard (price trends, regional splits), Fuel Price Dashboard, FX Dashboard (market rates), Scenario Simulator (impact of shocks), AI assistant (inflation and purchasing power)","FX & Inflation Monitor, Food Security panel, Humanitarian Planning, Timeline",Subnational – data by region/market; YETO labels regime control (GoY vs DFA); no official CPI post‑2015; WFP price-based inflation is proxy; volatile; missing areas noted,,"Market Prices & Food Security;FX & Inflation Monitor, Food Security panel, Humanitarian Planning, Timeline",master,PENDING_REVIEW,True
SRC-187,187,Fuel Price Bulletins & Partner Feeds,,Market Prices,,,Market Prices,UNKNOWN,"Yemeni fuel companies, humanitarian clusters, partners",,"Varies – YPC announcements, Food Security Cluster Fuel Watch, partner data contributions","Manual ingestion – PDF bulletins, social media announcements, partner-provided files",,,Ad‑hoc (whenever price changes); clusters track monthly,MONTHLY,60 days,,,National/Partner,"Official pump prices for petrol, diesel, cooking gas in government-controlled and DFA areas; black‑market prices if monitored; 2010–2014 official data; 2015–present assembled from news/clusters",Public domain or partner data; provenance maintained,B,,N/A – updates as changes occur; YETO records time of last change,,True,partnerships@causewaygrp.com,"Region (GoY vs DFA), city, fuel type, price (YER per litre/cylinder), effective date",,,,Custom pipeline; maintain dataset of fuel prices; ingest updates from WFP/clusters; use media monitoring; store multiple prices (official vs unofficial) with provenance; manual updates when automated data is sparse; Data Gap Ticket on conflicting or missing data,Manus,,,False,False,False,Supports inflation/cost of living analysis; macro dashboards; Fuel Subsidy Tracker; scenario modelling; stakeholder pages; sanctions/compliance (if tracking fuel import violations),"Markets & Prices, Fuel Subsidy Tracker (if implemented), Timeline, AI Assistant",Regional (north vs south and city‑level); official price may not reflect availability; multiple prices recorded (official and market); context noted; manual updates recommended when data scarce,,"Market Prices;Markets & Prices, Fuel Subsidy Tracker (if implemented), Timeline, AI Assistant",master,NEEDS_KEY,True
SRC-188,188,Yemen Data Project (Airstrikes),,Conflict – Air War,,,Conflict – Air War,T2,Yemen Data Project,,Reports and requests (no open API),Manual ingestion from monthly reports and media releases,None for summary info; full dataset may require contact,,Monthly; annual summary,MONTHLY,60 days,,,NGO,"Counts of air strikes, targeted locations, civilian casualty estimates since March 2015",Attribution required; data for advocacy; not for commercial use,A,,Low – monthly data available within next month,,False,,"Month, number of air strikes, location targeted, civilian casualties (if available)",,,,Manual parsing of reports and bulletins; store monthly counts; integrate into conflict timeline; Data Gap Ticket if missing reports,Manus,,,False,False,False,Enhances Conflict Timeline (air war intensity); AI Assistant; Sanctions/Compliance (air strike patterns relevant to arms embargo); scenario modeling,"Conflict Timeline, AI evidence, Sanctions/Compliance, Research Hub",Monthly by broad region; covers only airstrikes; complementary to ACLED; flagged as specific context,,"Conflict – Air War;Conflict Timeline, AI evidence, Sanctions/Compliance, Research Hub",master,PENDING_REVIEW,True
SRC-189,189,Central Bank of Yemen – Aden & Sana’a,,Monetary & Financial Sector,,,Monetary & Financial Sector,T1,Central Bank of Yemen (CBY) – Aden (Government) & Sana’a (De facto),,Official websites (e.g. cby-aden.com); Sana’a releases via Ministry of Planning or news,"Manual ingestion – scrape CBY Aden auction data, bulletins; glean Sana’a data from reports/leaks/news; partner feeds",None (public reports); internal data may require partnerships,,Aden: weekly FX auction results; monthly/quarterly bulletins; annual financial statements. Sana’a: irregular data via budget docs or news; circulars occasionally,WEEKLY,14 days,,,National,"Exchange rates (official peg/auction rates in Aden; official rate in Sana’a; parallel market rates); monetary indicators (money supply, inflation if any, deposits, loans); banking sector (licensed banks, compliance); 2010–2014 unified; post‑2015 split data by regime",Government public data (no formal license),B–,,Variable – auctions weekly; other stats months or absent,,True,partnerships@causewaygrp.com,"Auction: date, amount sold, cut-off rate, weighted rate; FX rates; monetary aggregates; list of licensed banks; circulars and policy decisions",,,,Custom ETL and document parsing – scheduled scraping of CBY Aden auction results; parse bulletins and financial statements; tag data by regime (Aden vs Sana’a); store parallel series; Data Gap for missing series; proxies used (e.g. WFP prices for inflation),Manus,,,False,False,False,"FX Dashboard (official vs parallel rates); Monetary module (money supply, inflation, banking sector); Public Finance context; Stakeholder Pages (CBY profile); timeline for monetary policy events","FX & Monetary, Banking Sector, Public Finance, Timeline, AI Assistant",National; effectively two monetary jurisdictions; YETO displays dual values; data quality low; proxies used; missing data flagged; contradictory series shown side-by-side,,"Monetary & Financial Sector;FX & Monetary, Banking Sector, Public Finance, Timeline, AI Assistant",master,NEEDS_KEY,True
SRC-190,190,Yemen Ministry of Finance / Ministry of Planning / CSO,,Public Finance & Economic Planning,,,Public Finance & Economic Planning,T1,Government ministries (GoY and DFA),,"Official documents (budgets, fiscal statements) via government portals or leaked PDFs","Manual document ingestion (PDFs, Excel); partner-provided copies; speech extracts",,,"GoY budgets irregular (e.g. 2019, 2021); execution reports rarely; Sana’a budgets undisclosed; MoPIC plans occasional; CSO yearbooks up to 2014 and limited later estimates",IRREGULAR,,,,National,"Government budgets (revenues, expenditures, deficit financing), public debt (domestic and external), donor funding, macro assumptions (oil production, exchange rate); MoPIC development plans; CSO data (GDP, population, CPI) up to 2014; partial estimates 2015–2017; dual budgets post‑2015",Government data; public domain,C+,,Annual if published; many years missing,,True,partnerships@causewaygrp.com,"Budget lines by sector/ministry; revenue by type (oil, tax, grants); deficit & financing; population and CPI series; macro assumptions; development plan indicators",,,,Document parsing and ETL – extract tables from PDFs; store data by regime and year; flag missing years; glean partial data from speeches and IMF reports; integrate CSO historical data; Data Gap Ticket when reports unavailable; proxies used,Manus,,,False,False,False,"Public Finance module – budget trends, revenues, expenditures, debt; Debt Tracker; scenario modelling (fiscal policy changes); Stakeholder pages for MoF/MoPIC; Research library","Public Finance Dashboard, Debt Tracker, Economic Plans, Research library, Stakeholder Pages",National; breakdown by sector if available; no unified budget after 2015; data politicized; off‑budget items (e.g. military aid) excluded; data rated low confidence; side‑by‑side comparison of GoY vs DFA budgets,,"Public Finance & Economic Planning;Public Finance Dashboard, Debt Tracker, Economic Plans, Research library, Stakeholder Pages",master,NEEDS_KEY,True
SRC-191,191,Social Fund for Development (SFD),,Development Projects (National),,,Development Projects (National),UNKNOWN,Social Fund for Development (Yemen),,"SFD website (annual reports, project catalogs); some data via IATI",Document ingestion; partner data sharing via CSV/excel; IATI feed if available,None for summary; partnership needed for raw data,,Annual reports; continuous updates in internal MIS (not public),ANNUAL,240 days,,,National,"Projects across Yemen (community development, cash-for-work, education, water, etc.); number of projects, beneficiaries, funding by donor; microfinance support data; 2010–present",Public reports open; detailed data via partnership/MoU,A–,,Annual summary available few months after year‑end; detailed updates require access,,True,partnerships@causewaygrp.com,"Project ID, location (district), sector, budget, donor source, status, outputs (e.g. classrooms built), outcome indicators, microfinance portfolios",,,,"Document ingestion & custom feed – parse annual reports for aggregates; if partnership, ingest CSV; link with IATI (activities listing SFD as implementer); Data Gap if no data available",Manus,,,False,False,False,Showcases community-level impact; Aid Tracker highlights SFD activities; Stakeholder page describes SFD role; contributes to Poverty & Resilience module; microfinance data used in Financial Sector analysis,"Aid Projects, Poverty & Resilience, Stakeholder Profile, Private Sector (microfinance data)",Subnational – data by district/village; funding sources must be merged to avoid double counting; security conditions may stall projects; missing details flagged,,"Development Projects (National);Aid Projects, Poverty & Resilience, Stakeholder Profile, Private Sector (microfinance data)",master,NEEDS_KEY,True
SRC-192,192,Yemen Microfinance Network (YMN),,Financial Inclusion,,,Financial Inclusion,UNKNOWN,Yemen Microfinance Network,,"YMN publications (quarterly bulletins, conference papers)",PDF reports; partner data sharing (no API),Partner contact may be needed for data,,Quarterly/Annual,QUARTERLY,120 days,,,National NGO,"Microfinance sector indicators: number of active borrowers, total loan portfolio, number of MFIs and branches, portfolio at risk, savings accounts; includes Microfinance Bank stats; 2010–present (disrupted by conflict)",Shared within development community; open if obtained,B,,Unknown – likely annual consolidation,,True,partnerships@causewaygrp.com,"MFI name, active clients, outstanding loans, portfolio quality, geographic coverage, savings accounts; microfinance bank metrics",,,,Manual/partner ETL – import baseline dataset (e.g. banks_microfinance_money_exchangers.xlsx); request quarterly data from network; search for publications; use SFD data for microfinance; Data Gap when updates missing,Manus,,,False,False,False,Feeds Financial Sector module – microfinance outreach and resilience; Stakeholder pages for MFIs; AI Assistant uses microfinance stats; scenario modelling for financial inclusion,"Finance Dashboard, Maps (branch coverage), Research Hub",National; governorate-level if provided; conflict impacts MFIs; data may be outdated; flagged with caveats; north vs south splits after 2015,,"Financial Inclusion;Finance Dashboard, Maps (branch coverage), Research Hub",master,NEEDS_KEY,True
SRC-193,193,Association of Yemeni Banks,,Banking Sector,,,Banking Sector,UNKNOWN,Association of Yemeni Banks (AYB),,N/A – statements or annual meeting documents,Manual – outreach and available documents,,,Ad hoc,IRREGULAR,,,,National NGO,"Possible aggregated insights: number of banks, sector issues; qualitative information",,C,,,,False,,N/A (qualitative; uses other sources for quantitative figures),,,,Maintain stakeholder profile; rely on other sources for quantitative data; document statements,Manus,,,False,False,False,Stakeholder page for AYB; potential channel for data requests; context for banking sector,"Stakeholder Map, Compliance",Not a data source; used for qualitative context and stakeholder engagement,,"Banking Sector;Stakeholder Map, Compliance",master,PENDING_REVIEW,True
SRC-194,194,Private Sector & Chambers of Commerce,,Private Sector Data,,,Private Sector Data,UNKNOWN,Federation of Yemeni Chambers of Commerce & Industry; business associations,,Surveys and reports (no central source),Surveys/reports from chambers; customs data via chamber if shared,,,Ad hoc,IRREGULAR,,,,National,"Potential information on number of businesses, impact of war on businesses, import/export hurdles, price surveys; data anecdotal/survey-based",N/A; survey-based data,C,,,,False,,Varies (survey results),,,,Treat as stakeholder; engage to obtain surveys; manually ingest if available,Manus,,,False,False,False,"Enrich Private Sector module (business sentiment, logistics challenges); scenario assumptions for private investment; Research hub","Private Sector Module, Scenario Simulator, Research Hub","Data is anecdotal, not systematic; Data Gap likely; flagged as such",,"Private Sector Data;Private Sector Module, Scenario Simulator, Research Hub",master,PENDING_REVIEW,True
SRC-195,195,Remote Sensing (Night Lights – VIIRS),,Proxy Indicators,,,Proxy Indicators,T2,NASA/NOAA,,NOAA/NASA Nighttime Lights data (monthly composites via Earth Observation portals),Bulk file download (GeoTIFF); processing to extract indices; possible use of Google Earth Engine,,,Monthly,MONTHLY,60 days,,,Global,Average nighttime radiance at 0.5 km resolution; aggregated to national or governorate level; covers 2012–present (earlier via DMSP),Open (US government data),B,,~1 month after end of month,,False,,"Month, radiance index (by region if processed)",,,,"Data pipeline – fetch monthly raster, compute summary metrics (e.g. total luminosity by governorate); filter anomalies; store time series; Data Gap if retrieval fails",Manus,,,False,False,False,Economic activity proxy on macro dashboard; scenario modeling (recovery scenarios); interactive maps; timeline overlays,"Macro Trends, Energy & Infrastructure, Interactive Maps, Timeline",Granularity ~0.5 km aggregated; proxies require interpretation; anomalies from fires or flaring; not direct GDP measure; flagged as experimental indicator,,"Proxy Indicators;Macro Trends, Energy & Infrastructure, Interactive Maps, Timeline",master,PENDING_REVIEW,True
SRC-196,196,ACAPS Yemen Analysis (YETI),,Research/Think‑Tank,,,Research/Think‑Tank,T2,ACAPS,,ACAPS YETI publications (PDFs or dashboards),Document access – PDF reports (no API),,,Periodic (scenarios/analyses as published),IRREGULAR,,,,International NGO,Analytical products on Yemen’s economy and humanitarian situation; scenarios and risk analysis; not numerical data but narrative context,Public reports; usage with attribution; content may be under CC BY,B,,N/A – publishes as events require,,False,,"Narrative content, scenario assumptions, risk factors",,,,Document ingestion; store reports in Research Hub; no structured data extraction except manual summarization,Manus,,,False,False,False,Provides qualitative context in Research Hub; informs Scenario Simulator; AI assistant uses narrative insights,"Scenario Simulator (pre‑modelled scenarios), Research Hub, AI Assistant",Narrative analysis; not structured data; used for context not metrics,,"Research/Think‑Tank;Scenario Simulator (pre‑modelled scenarios), Research Hub, AI Assistant",master,PENDING_REVIEW,True
SRC-197,197,Rethinking Yemen’s Economy (RYE),,Research/Think‑Tank,,,Research/Think‑Tank,UNKNOWN,Sana’a Center & Partners,,Policy briefs and papers (PDF),Document access (no API),,,Periodic,IRREGULAR,,,,International collaboration,"Deep dive reports on fuel subsidies, central bank, private sector and other topics; narrative analysis; may include bespoke data or surveys",Public reports; usage with attribution,B,,N/A – as published,,False,,"Narrative analysis, data tables (if included)",,,,Document ingestion; store in Research Hub; manual extraction of bespoke data,Manus,,,False,False,False,Enriches Glossary (definitions with Yemen context); informs Research Library; supports AI assistant responses; Stakeholder pages may link relevant briefs,"Research Hub, Glossary, Stakeholder Pages, AI Assistant",Narrative analysis; not systematic data; used for context and definitions,,"Research/Think‑Tank;Research Hub, Glossary, Stakeholder Pages, AI Assistant",master,PENDING_REVIEW,True
SRC-198,198,Prospects,,,,,,T1,United Nations,https://population.un.org/datap,https://population.un.org/datap,WEB,,,,,,,,,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,,,inclusive_pdf,ACTIVE,True
SRC-199,199,Database,,,,,,T1,United Nations,https://unstats.un.org/SDGAPI/v,https://unstats.un.org/SDGAPI/v,API,,,,,,,,,,,,,,,False,,,,,,connector_api,Manus,,,False,False,False,,,,,,inclusive_pdf,ACTIVE,True
SRC-200,200,https://finDevgateway.org FATF (Financial Action Task Force) Grey List/Mutual Evaluation,,,,,,UNKNOWN,FATF,https://www.fatf-,https://www.fatf-,WEB,,,,,,,,,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,,,inclusive_pdf,ACTIVE,True
SRC-201,201,Partnership – Yemen,,,,,,UNKNOWN,,https://internationalbudget.,https://internationalbudget.,WEB,,,,,,,,,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,,,inclusive_pdf,ACTIVE,True
SRC-202,202,International Data,,,,,,T1,US Energy Information Administration (EIA),https://www.eia.gov/internationa,https://www.eia.gov/internationa,WEB,,,,,,,,,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,,,inclusive_pdf,ACTIVE,True
SRC-203,203,World Economic Outlook (WEO),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-204,204,Fiscal Monitor,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-205,205,2 Population Projections,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-206,206,(archived),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-207,207,Yemen,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-208,208,Night‐Time Lights Arabia,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-209,209,Market Bulletin,,,,,,T3,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-210,210,Rate Feed,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-211,211,Reports,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-212,212,(Top Enterprises),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-213,213,Investments,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-214,214,Program (ATFP),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-215,215,Finance Gap Database,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-216,216,https://www.gsma.com/mobilemoneymetrics/ Money Changers (Licensed and Unlicensed) Registry,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-217,217,Announcers,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-218,218,Authority (if available),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-219,219,"Mukalla Throughput 
Licensing Data Reports",,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-220,220,Reports SRC-069 | Trade regulation | National,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-221,221,Papers,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-222,222,Economic & Corporate Affairs),,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-223,223,Company,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-224,224,,,,,,,UNKNOWN,,,,,,,,,,,,,,,,,,,False,,,,,,,Manus,,,False,False,False,,,,,,inclusive_pdf,PENDING_REVIEW,True
SRC-225,225,"yeto.causewaygrp.com,",,,,,,UNKNOWN,,"https://yeto.causewaygrp.com,","https://yeto.causewaygrp.com,",WEB,,,,,,,,,,,,,,,False,,,,,,connector_web,Manus,,,False,False,False,,,,,,url_extract,ACTIVE,True

```

## [FILE: mockups_index.md]
```md
# YETO UI Mockups Index (sample set)

These images are *samples* of the UI direction and key components. They do **not** cover the full sitemap/pages described in the PDF and master prompt.

## Where these mockups are located
In this workspace they are in `/mnt/data/*.jpeg` (file names listed below). In the repo, store them under:
- `docs/mockups/` (source/reference)
- `public/mockups/` (if the app needs to render them internally)

## Mockup-to-route map (recommended)

| File | What it represents | Suggested route(s) |
|---|---|---|
| `29_complete_landing_page.jpeg` | Full landing page layout | `/` |
| `24_before_after_homepage.jpeg` | Homepage redesign comparison | `/` (design ref) |
| `06_main_dashboard_full.jpeg` | Full dashboard composition | `/dashboard` |
| `04_dashboard_main_view.jpeg` | Dashboard primary view | `/dashboard` |
| `02_key_metrics_cards.jpeg` | KPI cards component | `/dashboard` (component) |
| `05_data_visualization_charts.jpeg` | Charts component set | `/dashboard` (component) |
| `18_advanced_filters_panel.jpeg` | Advanced filters panel | `/dashboard` (component) |
| `30_dashboard_filters_active.jpeg` | Filters active state | `/dashboard` (component) |
| `03_interactive_timeline.jpeg` | Interactive timeline | `/timeline` or `/insights/timeline` |
| `11_transparency_accountability.jpeg` | Transparency & accountability module | `/transparency-accountability` |
| `01_compliance_sanctions_dashboard_en.jpeg` | Compliance & sanctions dashboard (EN) | `/dashboard/compliance-sanctions` |
| `bilingual_dashboard_comparison.jpeg` | EN/AR dashboard parity reference | `/dashboard` (i18n/RTL ref) |
| `17_system_overview_arabic.jpeg` | System overview (AR) | `/system-overview` (AR locale) |
| `30_complete_system_overview.jpeg` | System overview (EN) | `/system-overview` |
| `09_data_repository_page.jpeg` | Data repository/browse | `/data-repository` |
| `06_research_reports_page.jpeg` | Research reports page | `/research/reports` |
| `20_export_report_generator.jpeg` | Export/report generator tool | `/tools/export-report` |
| `14_comparison_tool.jpeg` | Comparison tool | `/tools/comparison` |
| `07_scenario_simulator.jpeg` | Scenario simulator | `/tools/scenario-simulator` |
| `13_interactive_infographic.jpeg` | Interactive infographic | `/insights/infographic` |
| `10_ai_one_brain_assistant.jpeg` | AI assistant marketing/overview | `/ai-assistant` |
| `17_ai_assistant_interface.jpeg` | AI assistant UI | `/assistant` |
| `22_glossary_interface.jpeg` | Glossary UI | `/glossary` |
| `27_methodology_page.jpeg` | Methodology page | `/methodology` |
| `25_poverty_development_page.jpeg` | Sector page: poverty & development | `/sectors/poverty-development` |
| `26_trade_commerce_page.jpeg` | Sector page: trade & commerce | `/sectors/trade-commerce` |
| `21_sector_banking_finance.jpeg` | Sector page: banking & finance | `/sectors/banking-finance` |
| `27_mobile_responsive_dashboard.jpeg` | Mobile responsive dashboard | `/dashboard` (responsive ref) |
| `28_contact_page.jpeg` | Contact page | `/contact` |
| `19_subscription_management_tiers.jpeg` | Subscription tiers management | `/account/subscription` |
| `19_contextual_photo_integration.jpeg` | Contextual photo integration pattern | multiple pages (content ref) |
| `997C0FDC-B78B-4BA9-BE8C-1BC8BFB7FA0A.jpeg` | Sitemap snapshot (low-res) | docs reference |
| `card_maher_ceo.jpeg` | CEO/profile card concept | `/about` or `/team` |
| `IMG_1313.jpeg` | Visual asset/reference | docs reference |
| `c39f5b94-912b-478f-93fa-8d3ef7d6f4e8(2).jpeg` | Visual asset/reference | docs reference |


```

## [FILE: Prompt for excision .txt]
```text
TITLE
AI — MASTER BUILD PROMPT (STANDALONE, ZERO→LIVE, NO FOLLOW‑UPS)
Project: YETO — Yemen Economic Transparency Observatory
Intelligence layer: YECO Evidence Engine (“One Brain”)

YOU MUST NOT ASK THE USER ANY QUESTIONS
- Execute from zero to production using reasonable defaults.
- When ambiguity exists, choose the safest, most standard default, document it in /docs/DECISIONS.md, and proceed.

DOMAIN & CONTACT (HARD REQUIREMENTS)
- Production domain: https://yeto.causewaygrp.com
- Public contact email (ONLY contact info shown on site, footer, and contact widgets): yeto@causewaygrp.com
- DO NOT show any physical address anywhere (no city names, no “Sana’a”, no office address, no maps, no location cards).
- Social icons may exist (placeholders allowed) but must not reveal addresses.
- Hosting: AWS (paid subscription; assume sufficient budget and capacity).
- Everything must be built from zero: GitHub repository, AWS infrastructure, backend, frontend, databases, ingestion pipelines, ML/AI services, admin portals, partner portals, subscriptions, security, documentation, testing, and final deployment.

PRIMARY OBJECTIVE (NON‑NEGOTIABLE)
Build and deploy a bilingual (Arabic‑first + English) verifiable economic intelligence platform for Yemen from 2010→present that:
1) Ingests and continuously updates data, documents, and events from credible sources.
2) Stores everything with provenance, licensing metadata, versioning/vintages, and confidence scoring.
3) Produces decision‑grade analysis WITHOUT hallucinating.
4) Provides role‑based dashboards, downloads, an API, automated publications, and advanced premium features.
5) Includes a public site + authenticated user features + partner contributor portals + admin operations console.
6) Ships as a complete working product with populated evidence-backed content and scheduled future updates.

──────────────────────────────────────────────────────────────────────────────
SECTION 1 — ABSOLUTE RULES (HARD GATES: MUST BE ENFORCED IN CODE + UI + AI)
──────────────────────────────────────────────────────────────────────────────

R0 — NO HALLUCINATION / NO FABRICATION
- Never invent numbers, facts, citations, documents, images, institutions, timelines, or attributions.
- If data is missing: display “Not available yet” and create a Data Gap Ticket that specifies:
  {missing item, why it matters, best candidate sources, acquisition method, cadence, priority}.
- All AI outputs must be grounded in the platform evidence store, or explicitly labeled as:
  (a) Fact (b) Interpretation (c) Hypothesis (d) Forecast (e) Recommendation.

R1 — EVERY NUMBER HAS A HOME
Every statistic/chart/KPI/map/claim must display and store:
- Source publisher + exact dataset/document name
- URL / persistent identifier
- Publication date + retrieval date
- License/terms (or “unknown — manual review required”)
- Geographic scope (national / governorate / district / route / north–south regime tag)
- Time coverage (start/end)
- Definitions, units, base year (CPI base year; nominal vs real; YER/USD; etc.)
- Confidence rating A–D with explanation
- Transformation log (formulas applied, normalization, rebasing, deflation)

R2 — TRIANGULATION FOR HIGH‑STAKES OUTPUTS
For policy-sensitive indicators (FX, inflation, reserves proxies, fiscal flows, aid flows, conflict-economy claims):
- Attempt ≥2 independent sources where possible.
- If conflicting: DO NOT average. Show both values; explain discrepancies; enable “disagreement mode” view.

R3 — VERSIONING (“WHAT WAS KNOWN WHEN”)
- Preserve dataset/doc vintages and time-series revisions.
- Any update must create a new version entry with changelog (what changed, why, source).

R4 — DO NO HARM
- Never publish PII.
- Never provide guidance that enables violence, targeting, sanctions evasion, or market manipulation.
- For panic-sensitive topics (currency shocks, bank runs): communicate responsibly, show uncertainty, avoid sensational framing.

R5 — ARABIC-FIRST + ACCESSIBILITY
- Arabic UI must be first-class: RTL layout, Arabic typography, Arabic-first navigation.
- English must be full parity.
- Maintain a controlled bilingual glossary to prevent translation drift.
- Must meet accessibility baseline (WCAG 2.1 AA where feasible): contrast, keyboard nav, screen reader labels.

R6 — LICENSING & PAYWALL POLICY (MANDATORY)
- Respect robots.txt and source terms.
- Never scrape paywalled or license-restricted content.
  - Store metadata only: {title, publisher, abstract/snippet if permitted, link, language, date}.
  - Mark “restricted” and create a Data Gap Ticket with legal acquisition options.
- For restricted datasets (e.g., some conflict datasets): store only what licensing permits (often aggregates), or disable connector.

R7 — TESTS BEFORE PUSH + PROTECTED MAIN
- Every milestone must pass automated tests before merge/push to main.
- CI (GitHub Actions) is mandatory. No “works locally” exceptions.
- Main branch must be protected (PR required, checks required).

R8 — SINGLE SOURCE OF TRUTH
- UI, analytics, exports, and AI must use platform evidence store only.
- Outputs must be reproducible from stored evidence + logged transformations.

R9 — CORRECTIONS POLICY (PUBLIC TRUST FEATURE)
- Add “Report an Issue” on every chart/report.
- Implement correction workflow: acknowledge → investigate → correct → publish correction note.
- Never silently change published values; keep older vintages accessible with timestamps.

R10 — SPLIT‑SYSTEM ENFORCEMENT (YEMEN REALITY)
Every relevant series/event/document must carry:
- regime_tag: {Aden/IRG, Sana’a/de facto, mixed, unknown}
- note_regime_tag (where relevant): {new notes, old notes, not applicable, unknown}
- fx_market_type_tag (FX): {official, parallel, transfer, cash, other/unknown}
UI must never merge across regime tags unless user explicitly enables “Compare regimes” mode with warning.

R11 — EVIDENCE PACK FOR HIGH‑STAKES OUTPUTS
If a user request affects policy, markets, money flows, or public trust, output an Evidence Pack:
- 5–15 most relevant sources
- what each source contributes
- contradictions
- confidence rating
- “what would change this conclusion”

R12 — RESUMABILITY & CRASH‑SAFETY (BUILD RELIABILITY)
- You must implement a resumable build workflow with checkpoints and backups (details in Section 3).
- If your execution environment crashes, you must be able to resume from the latest checkpoint without losing progress.

──────────────────────────────────────────────────────────────────────────────
SECTION 2 — OPERATING MODEL (YOU ARE A FULL EXPERT TEAM; PRODUCE ARTIFACTS)
──────────────────────────────────────────────────────────────────────────────

Simulate and fulfill ALL roles below. Each role must produce tangible outputs (code, docs, tests, configs):

1) Program Director / Product Owner (sequencing, acceptance criteria, risk register)
2) Yemen Macroeconomist (indicator definitions, mechanism narratives, scenario realism)
3) Monetary & FX Specialist (split-system FX logic, dual rates, banking constraints)
4) Public Finance & Governance Specialist (budgets, revenues, salaries, procurement)
5) Humanitarian Economist (cash programming, market functionality, food security economics)
6) Conflict Political‑Economy Analyst (war economy channels, fragmentation, incentives; evidence-only)
7) Data Engineer (ETL, connectors, provenance ledger, QA gates, idempotency)
8) Data Scientist / ML Engineer (nowcasting/forecasting, anomaly detection, evaluation, drift monitoring)
9) Full‑Stack Engineer (APIs, frontend, exports, search, RAG endpoints)
10) UX/UI Designer (design system, components, page layouts, RTL)
11) Security / DevSecOps Engineer (AWS architecture, IAM, encryption, WAF, audit logs)
12) QA Engineer (test plan, integration/regression, data validation)
13) Technical Writer (docs, methodology, runbooks, manuals)
14) Partner & Contributor Workflow Manager (submission workflows, moderation, verification gates)

MANDATE FOR EXECUTION
- Create a GitHub monorepo from minute one; push early and often (checkpoint-based).
- Implement CI/CD and final production deployment to AWS for yeto.causewaygrp.com.
- Populate the platform with real, backfilled evidence for 2010→present to the maximum possible from open/accessible sources, clearly marking gaps.

──────────────────────────────────────────────────────────────────────────────
SECTION 3 — BUILD RESILIENCE: CHECKPOINTS, BACKUPS, AND CRASH RECOVERY (MANDATORY)
──────────────────────────────────────────────────────────────────────────────

You must assume build agents can crash, disconnect, or hit transient errors. Prevent loss of work.

3.1 Checkpoint Protocol (GitHub + Docs)
- Create /STATUS.md and update it at the end of every major step with:
  {current phase, completed tasks, pending tasks, risks, next commands}.
- Create /docs/DECISIONS.md: log defaults chosen and rationale.
- Create /docs/ARCHITECTURE.md: evolving diagrams and service map.
- Create /docs/CHANGELOG.md: weekly changes and dataset revisions.

3.2 Git Checkpoints
- Use feature branches per phase; merge via PR into main.
- Tag releases per milestone: v0.1-arch, v0.2-coreapi, v0.3-ingestion, etc.
- Ensure repository always builds from scratch via documented scripts.

3.3 Infrastructure & Data Backups During Development
Before final production deployment, still implement backups:
- Enable S3 versioning on all buckets.
- Enable automated RDS snapshots (even in staging).
- For OpenSearch: scheduled snapshots to S3.
- For Secrets: store in Secrets Manager; export a redacted inventory (not secrets) to /docs/SECRETS_INVENTORY.md.

3.4 Pipeline Idempotency & Retry Safety
- All ingestion jobs must be idempotent:
  - same run input must not duplicate outputs
  - use content hashes and unique constraints
- Implement retry with exponential backoff.
- Store job run state in a durable store (DB table ingestion_runs + S3 raw objects).
- If a job fails mid-way, rerun should safely resume or restart.

3.5 Crash Recovery Playbook
- Create /docs/RECOVERY_RUNBOOK.md including:
  - how to re-run infra provisioning
  - how to restart pipelines
  - how to restore DB snapshot
  - how to rebuild search index
  - how to rehydrate vector index
  - how to verify integrity via automated smoke tests

3.6 Continuous Integrity Validation
- Nightly integrity checks:
  - DB constraints
  - orphaned documents
  - broken source links
  - missing provenance metadata
  - regression in coverage scorecard
- Failures create admin tickets automatically.

──────────────────────────────────────────────────────────────────────────────
SECTION 4 — PLATFORM ARCHITECTURE (LAYERED, EVIDENCE-FIRST)
──────────────────────────────────────────────────────────────────────────────

Build four layers:

1) Data Layer
- Time series, geospatial datasets, events, projects, funding flows, documents, images.

2) Provenance & Trust Layer
- Provenance ledger, licensing, confidence scoring, contradiction detection, vintages, correction logs.

3) Reasoning & ML Layer
- Change detection, anomaly detection, nowcasting/forecasting, scenario simulator, evidence-grounded narrative generation.

4) Delivery Layer
- Role-based dashboards, alerts, reports, exports, API access, bilingual UX, admin/partner portals.

TECH STACK (DEFAULT — IMPROVE ONLY IF YOU DOCUMENT WHY)
Frontend:
- Next.js (TypeScript), Tailwind CSS, SSR for SEO
- i18n: Arabic RTL + English LTR
- Charts: ECharts or Plotly
- Maps: Leaflet + OSM tiles (no physical address display)

Backend:
- Python FastAPI (REST)
- Background tasks: Celery + Redis OR AWS Step Functions + EventBridge schedules (choose and document)
- Report generation: server-side PDF generation

Data:
- PostgreSQL (RDS) + PostGIS + pgvector
- S3 for documents and raw/normalized data
Search:
- OpenSearch recommended (or Postgres full-text as minimal)
Auth:
- AWS Cognito (JWT)
Infra:
- Terraform or AWS CDK (choose one; document)
CI/CD:
- GitHub Actions + ECR + ECS Fargate (or equivalent AWS-native stack)

──────────────────────────────────────────────────────────────────────────────
SECTION 5 — TARGET USERS, ROLES, AND POWER-REALISTIC OUTPUTS
──────────────────────────────────────────────────────────────────────────────

User categories (role-based dashboards + permissions):
A) Policymakers & Technical Officials (de jure + de facto)
B) Central Bank Leadership & Financial Regulators
C) Banks, MFIs, Money Exchangers, Payment Providers
D) Donors & Implementers
E) IFIs / EU stabilization & accountability units
F) UN agencies & humanitarian clusters
G) Think tanks, journalists, researchers, universities/students
H) Private sector (importers, producers, SMEs, chambers)
I) Citizens (Arabic-first)
J) Premium institutional subscribers (teams)

Stakeholder Registry (MANDATORY)
- Create a stakeholder registry module:
  Fields: {stakeholder_name, category, regime_tag, what they control, incentives, constraints, typical decision horizon,
  indicators they watch, thresholds that move decisions, preferred outputs, contact channel (org only, no PII)}.
- Use this registry to tailor dashboards and brief templates.

──────────────────────────────────────────────────────────────────────────────
SECTION 6 — UX/UI DESIGN SYSTEM (MATCH PROVIDED DESIGN DIRECTION)
──────────────────────────────────────────────────────────────────────────────

Visual language:
- Navy / Green / Gold
- Clean cards, strong hierarchy, contextual Yemen imagery
- Arabic-first RTL + English LTR

Design tokens:
- Navy: #103050
- Dark Navy: #0B1F33
- Green: #107040
- Gold: #C0A030
- Light background: #F6F8FB
- Card: #FFFFFF
- Border: #E6EAF0

Typography:
- English: Inter (or IBM Plex Sans)
- Arabic: Cairo or Noto Kufi Arabic

Images (MANDATORY)
- Use only high-resolution images with compatible licenses.
- Store attribution for every image:
  {title, creator, source URL, license, retrieval date, usage location}.
- Provide UI toggle/footnote “Image credit” where used.
- Never display physical addresses or location pins.

Footer (HARD)
- Contains ONLY: email yeto@causewaygrp.com as contact info.
- No physical address, no maps.

──────────────────────────────────────────────────────────────────────────────
SECTION 7 — INFORMATION ARCHITECTURE (FULL SITE MAP)
──────────────────────────────────────────────────────────────────────────────

PUBLIC
1) Home
2) Dashboard (overview, choose sector/indicator)
3) Data & Analytics
   - Data Repository (search + filters + previews)
   - Advanced Filters
   - Comparative Analysis (Yemen vs peers)
   - Downloads + API Docs (public subset)
4) Research
   - Research & Reports library
   - Report detail pages (source packs)
   - Latest Updates feed (auto-ingested)
5) Sectors (each has overview + KPIs + charts + related research + institutions + downloads)
   - Macroeconomy & Growth
   - Prices & Cost of Living
   - Currency & Exchange Rates
   - Banking & Finance
   - Public Finance & Governance
   - Trade & Commerce
   - Energy & Fuel
   - Labor Market & Wages
   - Poverty & Human Development
   - Food Security & Markets
   - Aid Flows & Accountability
   - Conflict Economy & Political Economy
   - Infrastructure & Services
   - Agriculture & Rural Development
   - Investment & Private Sector
6) Timeline (2010→present; filter by actor/location/theme; link to indicators)
7) Glossary (bilingual; Yemen-specific examples)
8) Methodology (data, QA, confidence, versioning, ethics)
9) Transparency & Accountability (governance, correction policy, changelog)
10) Contact (form + email only)
11) Legal (Privacy, Terms, Data License & Reuse, Accessibility)

AUTHENTICATED USERS
- User profile
- Saved dashboards/searches
- Alerts subscriptions
- Custom Report Builder (wizard)
- API keys (tiered)
- Workspaces (premium)

PARTNER / CONTRIBUTOR PORTALS
- Organization profile
- Secure data submission (CSV/XLSX/API)
- Validation feedback
- Publishing workflow (draft → review → publish)
- Visibility controls (public vs restricted)
- Audit trail

ADMIN PORTAL (SUPER ADMIN)
- Source registry management
- Source review queue
- Ingestion monitor (jobs, failures, retries)
- Dataset QA dashboard (outliers, missing coverage, contradictions)
- Knowledge graph browser
- Model monitoring (backtests, drift)
- Content management (glossary, translations)
- Security logs & audit logs
- Release management (what changed)

──────────────────────────────────────────────────────────────────────────────
SECTION 8 — DATA SCOPE (2010→PRESENT, CONTINUOUS, SPLIT‑SYSTEM)
──────────────────────────────────────────────────────────────────────────────

You must build an indicator catalog with definitions and units. Minimum families:

1) Macro & Real Economy
- GDP nominal/real, GNI, GDP per capita, sector proxies (nightlights, ports, fuel imports)
- Growth, investment proxies, consumption proxies

2) Prices & Cost of Living
- CPI where available; food baskets; fuel; rent proxies
- Market-level monitoring (WFP, partners)
- Spatial differences (governorate/city)

3) Monetary & Financial System (Split-system by design)
- FX: official + parallel + transfer; north vs south; spreads; volatility
- Banking indicators where available; liquidity proxies
- Payments rails proxies

4) Public Finance & Governance
- Revenues (customs, taxes, oil/gas where evidence exists)
- Expenditures; salary payments; arrears; debt where documented
- Procurement/contracting transparency where data exists
- Policy measures and circulars timeline

5) Trade & External Sector
- Imports/exports; composition; trade balance
- Port/route constraints; fuel import volumes where available
- Remittances proxies

6) Humanitarian & Social Outcomes
- Food security; IPC where available; malnutrition proxies
- Service delivery constraints; displacement linkages

7) Aid, Projects, Accountability
- Donor funding flows (commitments vs disbursements vs expenditures when possible)
- Project registry (implementers, locations, budgets, outputs, evaluations)

8) Conflict & Political Economy Linkages
- Conflict events; access constraints; governance fragmentation
- War economy dynamics (documented only; warnings; no enabling harm)

Granularity requirement:
- Support daily/weekly/monthly/quarterly/annual series.
- UI must allow navigation by day/month/year where data exists; where not, show limitations.

──────────────────────────────────────────────────────────────────────────────
SECTION 9 — TRUST ENGINE: PROVENANCE, CONFIDENCE, CONTRADICTIONS, VINTAGES
──────────────────────────────────────────────────────────────────────────────

A) Provenance Ledger (mandatory for each dataset/doc/transformation)
Store:
- publisher, collection method, access path, license/terms, retrieval time
- extraction method, transformations, QA results, limitations, update cadence

B) Confidence Rating A–D (per series and per claim)
A = audited/official & consistent
B = credible but partial/lagged
C = proxy/modelled/uncertain
D = disputed/low reliability (display with warnings)

C) Contradiction Detector
- Detect conflicting values for same indicator/time/geo.
- Store both; explain differences; never average.

D) Vintages & Revision History
- Preserve older series versions.
- Provide diff viewer and revision notes.

E) Corrections Workflow
- Issue reports create admin tickets.
- Corrections generate public correction notes.

──────────────────────────────────────────────────────────────────────────────
SECTION 10 — SOURCE REGISTRY + DISCOVERY (DYNAMIC “LEAVE NO ONE OUT”)
──────────────────────────────────────────────────────────────────────────────

You must build:
1) Source Registry (DB table + admin UI) seeded with major credible sources.
2) Source Discovery Engine that continuously finds new credible sources and adds them to review queue.
3) Per-source configuration: method, cadence, credentials, licensing constraints, tags.

Core structured data connectors (2010→present where available):
- World Bank (Indicators, Documents & Reports, Projects)
- IMF (SDMX central; WEO; IFS where accessible; country reports metadata)
- UN Comtrade; UNCTADstat; UNSD where accessible
- ILOSTAT; FAOSTAT; WHO/UNICEF datasets where relevant
- OCHA HPC Tools / FTS
- HDX HAPI + HDX datasets
- IATI (aid activities, transactions, docs)
- ReliefWeb API (report discovery)
- UNHCR population/stats; IOM DTM
- UCDP (versioned REST) and ACLED (only if licensed/keys available)
- Remote sensing proxies: VIIRS nightlights; admin boundaries from HDX COD; Copernicus where permitted

Yemen institutional sources (label by authority/regime; ingest where published and allowed):
- CBY Aden publications/circulars (if publicly available)
- Sana’a monetary authority publications (label as de facto source)
- MoF, MoPIC, CSO where published
- Customs/tax authorities publications where available
- Port authorities announcements/updates where available
- SFD reports/evaluations (public)
- Yemen Microfinance Network publications (public)
- Association of Yemeni Banks publications (public)

UN/humanitarian product ingestion:
- OCHA (HRP, sitreps), WFP market monitors, FAO, UNICEF, UNDP, IOM, UNHCR, WHO, UNFPA, UN Women, UNESCO, ILO, UNOPS, UN‑Habitat, UNEP, UNIDO (where relevant)

Donor/implementer coverage:
- Use FTS + IATI discovery to track ALL donors/implementers dynamically.
- Auto-create donor profile pages and implementer pages (funding, projects, docs, evaluations).

Think tanks / academia:
- Discover via OpenAlex + Crossref + Semantic Scholar + SSRN/RePEc/IDEAS/DOAJ.
- Build institution pages automatically.
- Seed list includes (and expands beyond):
  Sana’a Center for Strategic Studies; Rethinking Yemen’s Economy; DeepRoot; CARPO; ACAPS; AGSIW; Arab Monetary Fund; ESCWA;
  Chatham House; International Crisis Group; ODI; Brookings; Carnegie; CSIS; RAND; IISS; Atlantic Council; Clingendael; SIPRI; SWP; USIP.

Media ingestion:
- Only for event detection, never sole source for numbers; label clearly.

Weekly automated discovery jobs (run via EventBridge):
1) OpenAlex queries (Yemen economy, currency, inflation, banking, public finance, war economy, humanitarian cash)
2) ReliefWeb rolling queries by country/theme
3) HDX Yemen dataset discovery
4) IATI recipient country Yemen discovery
5) FTS Yemen discovery
6) RSS polling for known publishers
7) Allowed domain crawling for “Yemen” pages (only when permitted by terms)

All discoveries enter Admin “Source Review Queue” with:
- credibility score proposal
- licensing notes
- recommended cadence
After approval, sources become scheduled connectors automatically.

──────────────────────────────────────────────────────────────────────────────
SECTION 11 — MULTILINGUAL INGESTION + TRANSLATION ENGINE (MANDATORY)
──────────────────────────────────────────────────────────────────────────────

For every document:
- Store original file (if permitted), extracted original text, detected language, and encoding.
- Store Arabic translation and English translation.
- Store translation metadata:
  {source_language, translation_model/version, translation_date, confidence_score, glossary_adherence_score}.
- Never overwrite original language text.
- UI must show: Original | العربية | English toggle and always display source language.

Controlled Glossary:
- Maintain bilingual glossary with term IDs and context notes (economic + Yemen-specific).
- Translation engine must enforce glossary (preferred terms) and flag deviations.

Translation QA:
- Sample-based evaluation per source: every Nth doc (default N=20) run:
  - terminology consistency checks
  - numeric integrity checks (numbers not altered)
  - named entity consistency checks (institutions/locations)
- If confidence low: label translated text as “Machine translated — review needed.”

──────────────────────────────────────────────────────────────────────────────
SECTION 12 — DATA MODEL (POSTGRES + S3 + SEARCH) + KNOWLEDGE GRAPH
──────────────────────────────────────────────────────────────────────────────

Implement PostgreSQL (RDS) + S3 + OpenSearch (or pgvector + full-text if necessary).
Core tables (minimum):
- sources (registry, type, credibility, cadence, licensing)
- documents (metadata, tags, language, urls, file pointers, license, extraction status, translation pointers)
- series (indicator defs, units, base year, geo level, frequency, source_id, confidence, regime tags)
- observations (series_id, date, geo_id, value, vintage_id, method, notes, regime tags)
- geographies (admin boundaries; geometry PostGIS)
- entities (institutions, donors, implementers, banks, MFIs, exchangers, ministries, companies)
- projects (IATI/FTS/WB/UN; budgets, locations, transactions, docs, evaluations)
- events (policy events, donor events, conflict-economy events; link to docs/sources)
- provenance_ledger (ingestion runs, hashes, transformations, QA outcomes)
- contradictions (conflicting observations; explanation fields)
- gap_tickets (missing coverage; priority; recommended sources)
- alerts (rules, triggers, evidence packs, severity, status)
- models (registry, versions, backtests, parameters, citations)
- glossary_terms (bilingual)
- users (roles, org linkage, subscription tier)
- org_submissions (partner uploads + validation + approval workflow)
- publications (auto-produced briefs/reports with evidence packs)
- audit_logs (security/admin actions)

Knowledge Graph layer:
- Build a graph-like relationship model (within DB + vector index):
  indicators ↔ documents ↔ entities ↔ projects ↔ locations ↔ events ↔ policies
- Provide a Knowledge Graph browser in Admin.
- Use it to power “Related Research”, “Key Institutions”, “Connected Events”, and AI retrieval.

──────────────────────────────────────────────────────────────────────────────
SECTION 13 — INGESTION & QA PIPELINES (IDEMPOTENT, EXPLAINABLE)
──────────────────────────────────────────────────────────────────────────────

Document pipeline:
- Fetch metadata; fetch content when licensed.
- Extract text and tables where allowed; create citation anchors (page/section/snippet).
- De-dup (hash + similarity).
- Auto-tag by sector/geo/time/entities.
- Create embeddings for semantic search.
- Translate and store bilingual versions with metadata.

Data pipeline:
- Raw landing zone: S3/raw/{source}/{date}
- Normalized zone: S3/normalized/{source}/{dataset}/{version}
- Load into DB with QA gating:
  - schema validation
  - unit normalization
  - outlier detection (rules + statistical)
  - continuity checks
  - geo/regime tag checks
  - duplicate checks
  - contradiction checks
- Publish step:
  - create new vintage
  - update changelog
  - refresh derived indicators
  - refresh indexes
  - trigger alert evaluation
  - update coverage scorecard

──────────────────────────────────────────────────────────────────────────────
SECTION 14 — DERIVED INDICATORS, MODELS, AND ML (MAX CAPACITY, EXPLAINABLE)
──────────────────────────────────────────────────────────────────────────────

Derived metrics (document formulas; store in model registry):
- YoY change: yoy = (x_t / x_{t-12} - 1)*100 (monthly) or (x_t / x_{t-1} - 1)*100 (annual)
- MoM change: mom = (x_t / x_{t-1} - 1)*100 (monthly)
- FX spread: spread = (market_rate - official_rate) / official_rate * 100
- Dual-rate divergence: divergence = abs(north_market - south_market) / min(north_market, south_market) * 100
- Volatility: rolling std(log returns) over 30/60/90d windows
- Real values (if CPI exists): real = nominal / (CPI/100) with cited base year normalization
- Transfer value adequacy: cash transfer vs basket cost; ratio and gap
- Composite stress index: weighted z-scores (weights documented, adjustable)

Anomaly detection & early warning (hybrid):
- Rule-based triggers (thresholds)
- Statistical anomalies (rolling z-score)
- Optional ML (Isolation Forest / Prophet / SARIMAX) with model cards and backtests
Alerts must include:
- trigger logic
- evidence pack
- confidence
- plausible drivers (ranked, evidence-linked)
- historical analogs
- what to watch next
- options menu

Forecasting & nowcasting:
- Use transparent baseline models first (SARIMAX/ETS) and only add more complex ML when evidence and evaluation justify.
- Backtest each model; store errors and drift.
- Display forecast bands and assumptions; never present as certain.

Model governance (MLOps):
- Model registry + versioning
- Model cards (purpose, inputs, assumptions, performance, failure modes)
- Drift monitoring: detect when model error increases; auto-downgrade confidence and notify admin
- Reproducibility: log training data IDs + transforms + code version + parameters

Scenario simulator:
- Implement semi-structural “transmission model” with explicit assumptions.
- Calibrate elasticities from evidence store; if missing, label as assumed and reduce confidence.
- Provide sensitivity analysis and scenario comparison exports.

Performance & “max capacity while live”:
- Use caching for popular queries (Redis).
- Precompute common aggregates daily (materialized views).
- Async processing for heavy tasks (PDF, embeddings, translation).
- Rate-limit AI endpoints; queue long jobs; provide user job status.

──────────────────────────────────────────────────────────────────────────────
SECTION 15 — AI “ONE BRAIN” (RAG ONLY, AGENT ROUTING, PAGE‑AWARE)
──────────────────────────────────────────────────────────────────────────────

AI must only answer using evidence store (RAG). No external uncited facts.
Default output structure:
1) Answer (1 paragraph)
2) Key takeaways (3–7 bullets)
3) Evidence (data points + citations)
4) What changed
5) Why it matters
6) Drivers (ranked hypotheses, evidence-linked)
7) Options (2–5 actions, tradeoffs, prerequisites, who must act)
8) Uncertainty & limitations
9) Next questions

High-stakes outputs require Evidence Pack.

“Show me how you know this” everywhere:
- sources (doc IDs, series IDs)
- snippets/anchors where allowed
- transformations and formulas
- model versions and backtest error (if model used)
- what would change conclusion

Agent routing (by page + user role + subscription tier):
- Citizen Explainer (Arabic-first, plain language)
- Policymaker Brief Writer
- Donor Accountability Analyst
- Bank Compliance Analyst
- Research Librarian (evidence packs)
- Data Steward (provenance QA)
- Translation Agent (glossary-enforced)
- Scenario Modeler

All agents share the same hard rules and evidence store.

──────────────────────────────────────────────────────────────────────────────
SECTION 16 — AUTO‑PUBLICATION ENGINE (DAILY/WEEKLY/MONTHLY/QUARTERLY/ANNUAL)
──────────────────────────────────────────────────────────────────────────────

The platform must automatically produce bilingual publications:
A) Daily Brief (internal + premium)
- FX, inflation proxies, fuel, alerts summary, key events with citations
B) Weekly Market & Economy Update (public + premium extension)
C) Monthly Economic Monitor (public PDF + premium extended PDF)
D) Quarterly Yemen Economic Outlook (premium)
E) Annual State of Yemen Economy & Transparency Report (public summary + premium full)

Each publication must include:
- Executive summary (5 lines max) + expandable detail
- Charts and tables with citations + retrieval dates
- Disagreement sections where contradictions exist
- Evidence Pack appendix
- “Data gaps” section
- Version and changelog entry

Distribution rules:
- Public outputs appear in Research Library and public feed.
- Premium outputs appear in subscriber vault and are emailed to opted-in users.
- Sensitive outputs (panic-sensitive): require admin review if confidence below threshold.

Publishing workflow:
- Default auto-publish if confidence threshold met.
- Otherwise queue for admin review.

──────────────────────────────────────────────────────────────────────────────
SECTION 17 — CONTRIBUTOR PORTAL + VERIFICATION (BANKS/MFIs/NGOs/MINISTRIES)
──────────────────────────────────────────────────────────────────────────────

Contributor roles: Bank/MFI/Exchanger/Ministry/Port/Donor/NGO/Research Center
Submission types: CSV/XLSX/API/manual form
For every submission:
- Validate schema, units, time coverage, and metadata.
- Require organization attestation + uploader identity (org-level).
- Assign provisional confidence (default C).
- Route to review:
  - auto-approve only if corroborated or consistent with historical pattern and no contradictions.
- Visibility defaults:
  - public: aggregated metrics only unless approved
  - restricted: institution-specific visible to that institution + admins
- Full audit trail for every change.

──────────────────────────────────────────────────────────────────────────────
SECTION 18 — SUBSCRIPTIONS & ACCESS CONTROL (PUBLIC + PAID)
──────────────────────────────────────────────────────────────────────────────

Tiers:
Public (free):
- browse dashboards, research, limited downloads, glossary, methodology, timeline, limited API
Registered (free):
- saved dashboards, basic alerts, basic exports
Pro (paid):
- full downloads, advanced comparisons, more exports, advanced alerts, personal workspace
Institutional (paid):
- team workspace, bulk API, scheduled reports, private datasets, partner integration
Partner/Contributor:
- submission portal + restricted dashboards
Admin/Super Admin:
- full control

Payments:
- Integrate Stripe with webhooks.
- If payment integration is too heavy for v1, implement “manual invoicing mode” while keeping architecture ready.

Premium differentiation (must be truly beyond):
- custom alert thresholds + webhooks
- saved scenario packs + sensitivity exports
- private brief generator (stakeholder-specific)
- bulk API + scheduled data exports (Parquet/CSV)
- team workspaces + shared citation libraries
- premium publication series (Quarterly Outlook; full annual)

──────────────────────────────────────────────────────────────────────────────
SECTION 19 — PAGE‑BY‑PAGE FUNCTIONAL REQUIREMENTS (DYNAMIC, EVIDENCE‑BASED)
──────────────────────────────────────────────────────────────────────────────

HOME
- hero image + overlay (licensed)
- bilingual headline + CTAs
- KPI cards: real values or “—” (never fake)
- sector tiles
- latest updates feed
- previews: AI assistant + scenario simulator
- footer: email only

DASHBOARD
- sector sidebar with icons
- indicator selector, time range, geo/regime filters
- metadata panel with source pack
- export (CSV/XLSX/PDF/PNG/SVG/JSON) with citations and retrieval date
- “add to report”

SECTOR PAGES
- hero banner
- KPI strip
- main chart (2010→present) + filters
- compositions and maps where evidence exists
- related research and institutions
- downloads

RESEARCH & REPORTS
- filters/search
- report pages: metadata, citations, downloads, related datasets, evidence pack

DATA REPOSITORY
- search + filters (category/time/geo/type/quality)
- dataset cards with badges Verified/Provisional/Estimated
- preview + download + API endpoint display

TIMELINE
- events categorized and filterable
- clicking shows citations and linked indicators (before/after comparison)

GLOSSARY
- bilingual terms, Yemen-specific usage, related indicators, references

METHODOLOGY / TRANSPARENCY
- provenance rules, QA, confidence, contradiction handling, corrections policy
- changelog page

CONTACT
- form → SES to yeto@causewaygrp.com
- no address anywhere

ADMIN PORTAL
- source registry + review queue
- ingestion monitor
- QA dashboards
- model monitoring + drift
- user/subscription management
- security/audit logs
- publication approvals
- coverage scorecard and gap tickets

──────────────────────────────────────────────────────────────────────────────
SECTION 20 — COMPLETENESS SCORECARD + GAP ENGINE (DEPLOYMENT GATE)
──────────────────────────────────────────────────────────────────────────────

Implement Coverage Scorecard computed nightly:
- coverage by year (2010→present) x indicator family x geo (where applicable)
- coverage by source family and document type
Each missing cell must auto-generate a Data Gap Ticket with:
{what’s missing, why it matters, best sources, cadence, priority}.
Deployment gate:
- Do not deploy to production unless:
  - core families reach ≥70% coverage OR all missing areas are explicitly documented as gaps with visible rationale, and
  - no fake stats appear in UI (automated check), and
  - critical pages load with real content or explicit “not available yet” states.

──────────────────────────────────────────────────────────────────────────────
SECTION 21 — SECURITY, PRIVACY, AND COMPLIANCE (AWS BEST PRACTICE)
──────────────────────────────────────────────────────────────────────────────

- Cognito auth + JWT
- API behind ALB/API Gateway + WAF
- Secrets Manager for secrets; no secrets in Git
- KMS encryption for S3 and RDS
- Least privilege IAM, separate roles for ingestion/API/admin
- CloudWatch logs + app audit logs
- Rate limiting + throttling
- Backups: automated RDS snapshots; S3 versioning; OpenSearch snapshots
- Dependency scanning (Dependabot) + container scanning
- Incident response runbook in /docs

──────────────────────────────────────────────────────────────────────────────
SECTION 22 — DEV WORKFLOW (GITHUB, CI/CD, TESTING, RELEASES)
──────────────────────────────────────────────────────────────────────────────

Repo structure:
- /apps/web (Next.js)
- /apps/api (FastAPI)
- /pipelines
- /infra
- /docs

CI (GitHub Actions):
- lint + typecheck
- unit tests
- integration tests
- security scans
- build/push images to ECR
- infra validation

Branch policy:
- main protected
- PR required
- checks required

Testing:
- unit tests for transforms + derived indicators
- integration tests for API endpoints
- E2E smoke tests for key flows (dashboard, search, export)
- nightly data QA tests
- nightly coverage scorecard computation

──────────────────────────────────────────────────────────────────────────────
SECTION 23 — DEPLOYMENT (FINAL ONLY, AFTER ALL IS COMPLETE)
──────────────────────────────────────────────────────────────────────────────

- Route53 + ACM certificates
- Web delivered via CloudFront (SSR compatible)
- API on ECS Fargate (or Lambda where appropriate)
- Scheduled ingestion and publication via EventBridge + Step Functions
- Run initial backfill 2010→present
- Verify dashboards show real evidence-backed content
- Final deploy to https://yeto.causewaygrp.com

──────────────────────────────────────────────────────────────────────────────
SECTION 24 — DOCUMENTATION GENERATOR (MANDATORY, VERSIONED, BILINGUAL)
──────────────────────────────────────────────────────────────────────────────

Generate and maintain (bilingual) docs, published on site + stored in /docs and downloadable PDF:
1) Administrator Manual
2) Data Governance Manual
3) API Manual (examples, SDK snippets, rate limits)
4) Contributor Manual (submission templates and verification)
5) Subscriber Manual (tiers, features, alerts setup, workspaces)
6) Model Cards Library (per model)
7) Recovery Runbook (backup/restore, incident response)

Docs must auto-update when system changes, and be versioned in Git.

──────────────────────────────────────────────────────────────────────────────
SECTION 25 — INITIAL BACKFILL REQUIREMENT (MUST DO BEFORE GO‑LIVE)
──────────────────────────────────────────────────────────────────────────────

Run backfill ingestion for 2010→present for connected sources:
- indicator catalog with definitions
- core macro series (World Bank/IMF where accessible)
- trade series (UN Comtrade where accessible)
- humanitarian funding (FTS)
- aid activities (IATI)
- document library (ReliefWeb + WB documents + key UN and think tank sources)
- conflict events (UCDP; ACLED only if licensed)

Where gaps remain:
- create Data Gap Tickets and show “not available yet” in UI (no fabrication).

──────────────────────────────────────────────────────────────────────────────
SECTION 26 — DELIVERABLES (WHAT YOU MUST HAND OVER)
──────────────────────────────────────────────────────────────────────────────

1) GitHub repo URL (monorepo) containing:
   - web app, API, pipelines, infra-as-code, docs, tests
2) Production deployment at https://yeto.causewaygrp.com
3) Admin credentials delivered securely (never printed in logs)
4) Documentation suite (all manuals above)
5) Demonstrable working features:
   - bilingual UI
   - dashboards + repository + research library + timeline + glossary
   - AI assistant (RAG) with evidence packs
   - report builder exports
   - admin/partner portals
   - subscriptions framework
   - scheduled updates + auto-publication jobs
   - coverage scorecard + gap tickets

──────────────────────────────────────────────────────────────────────────────
SECTION 27 — QUALITY BAR / FINAL SELF‑AUDIT (MUST PASS BEFORE GO‑LIVE)
──────────────────────────────────────────────────────────────────────────────

- No fake stats visible anywhere.
- Every displayed number has a source pack with provenance.
- Contradictions are shown, not hidden.
- Arabic UX is correct RTL and readable.
- Exports embed citations + retrieval dates.
- Ingestion jobs are idempotent and resilient; retries work.
- Backups configured (RDS, S3 versioning, OpenSearch snapshots).
- IAM least privilege, encryption on, WAF on, audit logs on.
- CI green on main.
- Pages match design system (navy/green/gold + clean cards + hero imagery).
- Footer/contact shows ONLY yeto@causewaygrp.com (no address).
- Site performance acceptable (caching, lazy loads, optimized images).
- Documentation complete and versioned.

EXECUTION SEQUENCE (DO NOT DEVIATE)
Phase 1 — Repo + Architecture + Design System + Checkpoint/Recovery scaffolding
Phase 2 — Core DB schema + API skeleton + Auth (Cognito)
Phase 3 — Source Registry + review queue + ingestion framework + QA + provenance ledger
Phase 4 — Connectors + backfill (2010→present) + indexing + translation engine
Phase 5 — Core UI pages (Home, Dashboard, Data Repository, Research, Sector templates)
Phase 6 — Timeline + Glossary + Methodology + Transparency pages + corrections workflow
Phase 7 — AI assistant (RAG), agent routing, evidence packs, “show me how you know this”
Phase 8 — Custom report builder + export pipeline + auto-publication engine templates
Phase 9 — Partner portal + admin portal + subscriptions + premium workspaces
Phase 10 — Security hardening + full test pass + coverage gate + final production deployment

STOP CONDITION
You are done only when the site is live at https://yeto.causewaygrp.com, populated with real evidence-backed content, continuously updating, producing scheduled publications, resilient to failures via backups and checkpoints, and administratively manageable without user intervention.
```
